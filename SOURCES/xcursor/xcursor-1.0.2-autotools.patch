diff -crN ./xcursor/Makefile.in /users6/vanderms/sb/gnome_21264bis/src/./xcursor/Makefile.in
*** ./xcursor/Makefile.in	Wed May 21 19:22:48 2003
--- /users6/vanderms/sb/gnome_21264bis/src/./xcursor/Makefile.in	Tue Jan 17 10:55:29 2006
***************
*** 1,8 ****
! # Makefile.in generated by automake 1.7.4 from Makefile.am.
  # @configure_input@
  
! # Copyright 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003
! # Free Software Foundation, Inc.
  # This Makefile.in is free software; the Free Software Foundation
  # gives unlimited permission to copy and/or distribute it,
  # with or without modifications, as long as this notice is preserved.
--- 1,8 ----
! # Makefile.in generated by automake 1.9.6 from Makefile.am.
  # @configure_input@
  
! # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
! # 2003, 2004, 2005  Free Software Foundation, Inc.
  # This Makefile.in is free software; the Free Software Foundation
  # gives unlimited permission to copy and/or distribute it,
  # with or without modifications, as long as this notice is preserved.
***************
*** 37,42 ****
--- 37,44 ----
  #  TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  #  PERFORMANCE OF THIS SOFTWARE.
  
+ 
+ 
  srcdir = @srcdir@
  top_srcdir = @top_srcdir@
  VPATH = @srcdir@
***************
*** 44,50 ****
  pkglibdir = $(libdir)/@PACKAGE@
  pkgincludedir = $(includedir)/@PACKAGE@
  top_builddir = .
- 
  am__cd = CDPATH="$${ZSH_VERSION+.}$(PATH_SEPARATOR)" && cd
  INSTALL = @INSTALL@
  install_sh_DATA = $(install_sh) -c -m 644
--- 46,51 ----
***************
*** 58,64 ****
--- 59,131 ----
  NORMAL_UNINSTALL = :
  PRE_UNINSTALL = :
  POST_UNINSTALL = :
+ build_triplet = @build@
  host_triplet = @host@
+ DIST_COMMON = README $(am__configure_deps) \
+ 	$(libXcursorinclude_HEADERS) $(srcdir)/Makefile.am \
+ 	$(srcdir)/Makefile.in $(srcdir)/config.h.in \
+ 	$(srcdir)/xcursor.pc.in $(top_srcdir)/configure AUTHORS \
+ 	COPYING ChangeLog INSTALL NEWS config.guess config.sub depcomp \
+ 	install-sh ltmain.sh missing
+ subdir = .
+ ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
+ am__aclocal_m4_deps = $(top_srcdir)/configure.ac
+ am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \
+ 	$(ACLOCAL_M4)
+ am__CONFIG_DISTCLEAN_FILES = config.status config.cache config.log \
+  configure.lineno configure.status.lineno
+ mkinstalldirs = $(install_sh) -d
+ CONFIG_HEADER = config.h
+ CONFIG_CLEAN_FILES = xcursor.pc
+ am__vpath_adj_setup = srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`;
+ am__vpath_adj = case $$p in \
+     $(srcdir)/*) f=`echo "$$p" | sed "s|^$$srcdirstrip/||"`;; \
+     *) f=$$p;; \
+   esac;
+ am__strip_dir = `echo $$p | sed -e 's|^.*/||'`;
+ am__installdirs = "$(DESTDIR)$(libdir)" "$(DESTDIR)$(man3dir)" \
+ 	"$(DESTDIR)$(pkgconfigdir)" \
+ 	"$(DESTDIR)$(libXcursorincludedir)"
+ libLTLIBRARIES_INSTALL = $(INSTALL)
+ LTLIBRARIES = $(lib_LTLIBRARIES)
+ am__DEPENDENCIES_1 =
+ libXcursor_la_DEPENDENCIES = $(am__DEPENDENCIES_1)
+ am_libXcursor_la_OBJECTS = cursor.lo display.lo file.lo library.lo \
+ 	xlib.lo
+ libXcursor_la_OBJECTS = $(am_libXcursor_la_OBJECTS)
+ DEFAULT_INCLUDES = -I. -I$(srcdir) -I.
+ depcomp =
+ am__depfiles_maybe =
+ COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
+ 	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
+ LTCOMPILE = $(LIBTOOL) --mode=compile $(CC) $(DEFS) \
+ 	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
+ 	$(AM_CFLAGS) $(CFLAGS)
+ CCLD = $(CC)
+ LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
+ 	$(AM_LDFLAGS) $(LDFLAGS) -o $@
+ SOURCES = $(libXcursor_la_SOURCES)
+ DIST_SOURCES = $(libXcursor_la_SOURCES)
+ man3dir = $(mandir)/man3
+ NROFF = nroff
+ MANS = $(man_MANS)
+ pkgconfigDATA_INSTALL = $(INSTALL_DATA)
+ DATA = $(pkgconfig_DATA)
+ libXcursorincludeHEADERS_INSTALL = $(INSTALL_HEADER)
+ HEADERS = $(libXcursorinclude_HEADERS)
+ ETAGS = etags
+ CTAGS = ctags
+ DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
+ distdir = $(PACKAGE)-$(VERSION)
+ top_distdir = $(distdir)
+ am__remove_distdir = \
+   { test ! -d $(distdir) \
+     || { find $(distdir) -type d ! -perm -200 -exec chmod u+w {} ';' \
+          && rm -fr $(distdir); }; }
+ DIST_ARCHIVES = $(distdir).tar.gz
+ GZIP_ENV = --best
+ distuninstallcheck_listfiles = find . -type f -print
+ distcleancheck_listfiles = find . -type f -print
  ACLOCAL = @ACLOCAL@
  AMDEP_FALSE = @AMDEP_FALSE@
  AMDEP_TRUE = @AMDEP_TRUE@
***************
*** 120,130 ****
--- 187,200 ----
  ac_ct_CC = @ac_ct_CC@
  ac_ct_RANLIB = @ac_ct_RANLIB@
  ac_ct_STRIP = @ac_ct_STRIP@
+ ac_pt_PKG_CONFIG = @ac_pt_PKG_CONFIG@
  am__fastdepCC_FALSE = @am__fastdepCC_FALSE@
  am__fastdepCC_TRUE = @am__fastdepCC_TRUE@
  am__include = @am__include@
  am__leading_dot = @am__leading_dot@
  am__quote = @am__quote@
+ am__tar = @am__tar@
+ am__untar = @am__untar@
  bindir = @bindir@
  build = @build@
  build_alias = @build_alias@
***************
*** 145,150 ****
--- 215,221 ----
  libexecdir = @libexecdir@
  localstatedir = @localstatedir@
  mandir = @mandir@
+ mkdir_p = @mkdir_p@
  oldincludedir = @oldincludedir@
  prefix = @prefix@
  program_transform_name = @program_transform_name@
***************
*** 152,239 ****
  sharedstatedir = @sharedstatedir@
  sysconfdir = @sysconfdir@
  target_alias = @target_alias@
- 
  AM_CFLAGS = $(XRENDER_CFLAGS) $(X_CFLAGS) 
- 
  lib_LTLIBRARIES = libXcursor.la
- 
  man_MANS = Xcursor.3
- 
  libXcursor_la_SOURCES = xcursorint.h cursor.c display.c file.c library.c xlib.c
- 
  libXcursor_la_LIBADD = $(XRENDER_LIBS)
  
  #
  # Shared library version info.  This is not the same as the package version
  #
  libXcursor_la_LDFLAGS = -version-info @LT_VERSION_INFO@
- 
  libXcursorincludedir = $(includedir)/X11/Xcursor
  libXcursorinclude_HEADERS = Xcursor.h 
- 
  pkgconfigdir = $(libdir)/pkgconfig
  pkgconfig_DATA = xcursor.pc
- 
  EXTRA_DIST = $(man_MANS) xcursor.pc.in autogen.sh
- subdir = .
- ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
- mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
- CONFIG_HEADER = config.h
- CONFIG_CLEAN_FILES = xcursor.pc
- LTLIBRARIES = $(lib_LTLIBRARIES)
- 
- libXcursor_la_DEPENDENCIES =
- am_libXcursor_la_OBJECTS = cursor.lo display.lo file.lo library.lo \
- 	xlib.lo
- libXcursor_la_OBJECTS = $(am_libXcursor_la_OBJECTS)
- 
- DEFAULT_INCLUDES =  -I. -I$(srcdir) -I.
- depcomp = $(SHELL) $(top_srcdir)/depcomp
- am__depfiles_maybe = depfiles
- @AMDEP_TRUE@DEP_FILES = ./$(DEPDIR)/cursor.Plo ./$(DEPDIR)/display.Plo \
- @AMDEP_TRUE@	./$(DEPDIR)/file.Plo ./$(DEPDIR)/library.Plo \
- @AMDEP_TRUE@	./$(DEPDIR)/xlib.Plo
- COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
- 	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
- LTCOMPILE = $(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) \
- 	$(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
- CCLD = $(CC)
- LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
- 	$(AM_LDFLAGS) $(LDFLAGS) -o $@
- DIST_SOURCES = $(libXcursor_la_SOURCES)
- 
- NROFF = nroff
- MANS = $(man_MANS)
- DATA = $(pkgconfig_DATA)
- 
- HEADERS = $(libXcursorinclude_HEADERS)
- 
- DIST_COMMON = $(libXcursorinclude_HEADERS) ChangeLog Makefile.am \
- 	Makefile.in aclocal.m4 config.guess config.h.in config.sub \
- 	configure configure.ac depcomp install-sh ltmain.sh missing \
- 	mkinstalldirs xcursor.pc.in
- SOURCES = $(libXcursor_la_SOURCES)
- 
  all: config.h
  	$(MAKE) $(AM_MAKEFLAGS) all-am
  
  .SUFFIXES:
  .SUFFIXES: .c .lo .o .obj
! 
! am__CONFIG_DISTCLEAN_FILES = config.status config.cache config.log \
!  configure.lineno
! $(srcdir)/Makefile.in:  Makefile.am  $(top_srcdir)/configure.ac $(ACLOCAL_M4)
  	cd $(top_srcdir) && \
! 	  $(AUTOMAKE) --foreign  Makefile
! Makefile:  $(srcdir)/Makefile.in  $(top_builddir)/config.status
! 	cd $(top_builddir) && $(SHELL) ./config.status $@ $(am__depfiles_maybe)
  
! $(top_builddir)/config.status: $(srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)
  	$(SHELL) ./config.status --recheck
- $(srcdir)/configure:  $(srcdir)/configure.ac $(ACLOCAL_M4) $(CONFIGURE_DEPENDENCIES)
- 	cd $(srcdir) && $(AUTOCONF)
  
! $(ACLOCAL_M4):  configure.ac 
  	cd $(srcdir) && $(ACLOCAL) $(ACLOCAL_AMFLAGS)
  
  config.h: stamp-h1
--- 223,280 ----
  sharedstatedir = @sharedstatedir@
  sysconfdir = @sysconfdir@
  target_alias = @target_alias@
  AM_CFLAGS = $(XRENDER_CFLAGS) $(X_CFLAGS) 
  lib_LTLIBRARIES = libXcursor.la
  man_MANS = Xcursor.3
  libXcursor_la_SOURCES = xcursorint.h cursor.c display.c file.c library.c xlib.c
  libXcursor_la_LIBADD = $(XRENDER_LIBS)
  
  #
  # Shared library version info.  This is not the same as the package version
  #
  libXcursor_la_LDFLAGS = -version-info @LT_VERSION_INFO@
  libXcursorincludedir = $(includedir)/X11/Xcursor
  libXcursorinclude_HEADERS = Xcursor.h 
  pkgconfigdir = $(libdir)/pkgconfig
  pkgconfig_DATA = xcursor.pc
  EXTRA_DIST = $(man_MANS) xcursor.pc.in autogen.sh
  all: config.h
  	$(MAKE) $(AM_MAKEFLAGS) all-am
  
  .SUFFIXES:
  .SUFFIXES: .c .lo .o .obj
! am--refresh:
! 	@:
! $(srcdir)/Makefile.in:  $(srcdir)/Makefile.am  $(am__configure_deps)
! 	@for dep in $?; do \
! 	  case '$(am__configure_deps)' in \
! 	    *$$dep*) \
! 	      echo ' cd $(srcdir) && $(AUTOMAKE) --gnu  --ignore-deps'; \
! 	      cd $(srcdir) && $(AUTOMAKE) --gnu  --ignore-deps \
! 		&& exit 0; \
! 	      exit 1;; \
! 	  esac; \
! 	done; \
! 	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu  --ignore-deps Makefile'; \
  	cd $(top_srcdir) && \
! 	  $(AUTOMAKE) --gnu  --ignore-deps Makefile
! .PRECIOUS: Makefile
! Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
! 	@case '$?' in \
! 	  *config.status*) \
! 	    echo ' $(SHELL) ./config.status'; \
! 	    $(SHELL) ./config.status;; \
! 	  *) \
! 	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $@ $(am__depfiles_maybe)'; \
! 	    cd $(top_builddir) && $(SHELL) ./config.status $@ $(am__depfiles_maybe);; \
! 	esac;
  
! $(top_builddir)/config.status: $(top_srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)
  	$(SHELL) ./config.status --recheck
  
! $(top_srcdir)/configure:  $(am__configure_deps)
! 	cd $(srcdir) && $(AUTOCONF)
! $(ACLOCAL_M4):  $(am__aclocal_m4_deps)
  	cd $(srcdir) && $(ACLOCAL) $(ACLOCAL_AMFLAGS)
  
  config.h: stamp-h1
***************
*** 245,284 ****
  stamp-h1: $(srcdir)/config.h.in $(top_builddir)/config.status
  	@rm -f stamp-h1
  	cd $(top_builddir) && $(SHELL) ./config.status config.h
! 
! $(srcdir)/config.h.in:  $(top_srcdir)/configure.ac $(ACLOCAL_M4) 
  	cd $(top_srcdir) && $(AUTOHEADER)
! 	touch $(srcdir)/config.h.in
  
  distclean-hdr:
  	-rm -f config.h stamp-h1
! xcursor.pc: $(top_builddir)/config.status xcursor.pc.in
  	cd $(top_builddir) && $(SHELL) ./config.status $@
- libLTLIBRARIES_INSTALL = $(INSTALL)
  install-libLTLIBRARIES: $(lib_LTLIBRARIES)
  	@$(NORMAL_INSTALL)
! 	$(mkinstalldirs) $(DESTDIR)$(libdir)
  	@list='$(lib_LTLIBRARIES)'; for p in $$list; do \
  	  if test -f $$p; then \
! 	    f="`echo $$p | sed -e 's|^.*/||'`"; \
! 	    echo " $(LIBTOOL) --mode=install $(libLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) $$p $(DESTDIR)$(libdir)/$$f"; \
! 	    $(LIBTOOL) --mode=install $(libLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) $$p $(DESTDIR)$(libdir)/$$f; \
  	  else :; fi; \
  	done
  
  uninstall-libLTLIBRARIES:
  	@$(NORMAL_UNINSTALL)
! 	@list='$(lib_LTLIBRARIES)'; for p in $$list; do \
! 	    p="`echo $$p | sed -e 's|^.*/||'`"; \
! 	  echo " $(LIBTOOL) --mode=uninstall rm -f $(DESTDIR)$(libdir)/$$p"; \
! 	  $(LIBTOOL) --mode=uninstall rm -f $(DESTDIR)$(libdir)/$$p; \
  	done
  
  clean-libLTLIBRARIES:
  	-test -z "$(lib_LTLIBRARIES)" || rm -f $(lib_LTLIBRARIES)
  	@list='$(lib_LTLIBRARIES)'; for p in $$list; do \
  	  dir="`echo $$p | sed -e 's|/[^/]*$$||'`"; \
! 	  test "$$dir" = "$$p" && dir=.; \
  	  echo "rm -f \"$${dir}/so_locations\""; \
  	  rm -f "$${dir}/so_locations"; \
  	done
--- 286,324 ----
  stamp-h1: $(srcdir)/config.h.in $(top_builddir)/config.status
  	@rm -f stamp-h1
  	cd $(top_builddir) && $(SHELL) ./config.status config.h
! $(srcdir)/config.h.in:  $(am__configure_deps) 
  	cd $(top_srcdir) && $(AUTOHEADER)
! 	rm -f stamp-h1
! 	touch $@
  
  distclean-hdr:
  	-rm -f config.h stamp-h1
! xcursor.pc: $(top_builddir)/config.status $(srcdir)/xcursor.pc.in
  	cd $(top_builddir) && $(SHELL) ./config.status $@
  install-libLTLIBRARIES: $(lib_LTLIBRARIES)
  	@$(NORMAL_INSTALL)
! 	test -z "$(libdir)" || $(mkdir_p) "$(DESTDIR)$(libdir)"
  	@list='$(lib_LTLIBRARIES)'; for p in $$list; do \
  	  if test -f $$p; then \
! 	    f=$(am__strip_dir) \
! 	    echo " $(LIBTOOL) --mode=install $(libLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) '$$p' '$(DESTDIR)$(libdir)/$$f'"; \
! 	    $(LIBTOOL) --mode=install $(libLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) "$$p" "$(DESTDIR)$(libdir)/$$f"; \
  	  else :; fi; \
  	done
  
  uninstall-libLTLIBRARIES:
  	@$(NORMAL_UNINSTALL)
! 	@set -x; list='$(lib_LTLIBRARIES)'; for p in $$list; do \
! 	  p=$(am__strip_dir) \
! 	  echo " $(LIBTOOL) --mode=uninstall rm -f '$(DESTDIR)$(libdir)/$$p'"; \
! 	  $(LIBTOOL) --mode=uninstall rm -f "$(DESTDIR)$(libdir)/$$p"; \
  	done
  
  clean-libLTLIBRARIES:
  	-test -z "$(lib_LTLIBRARIES)" || rm -f $(lib_LTLIBRARIES)
  	@list='$(lib_LTLIBRARIES)'; for p in $$list; do \
  	  dir="`echo $$p | sed -e 's|/[^/]*$$||'`"; \
! 	  test "$$dir" != "$$p" || dir=.; \
  	  echo "rm -f \"$${dir}/so_locations\""; \
  	  rm -f "$${dir}/so_locations"; \
  	done
***************
*** 286,337 ****
  	$(LINK) -rpath $(libdir) $(libXcursor_la_LDFLAGS) $(libXcursor_la_OBJECTS) $(libXcursor_la_LIBADD) $(LIBS)
  
  mostlyclean-compile:
! 	-rm -f *.$(OBJEXT) core *.core
  
  distclean-compile:
  	-rm -f *.tab.c
  
- @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/cursor.Plo@am__quote@
- @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/display.Plo@am__quote@
- @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/file.Plo@am__quote@
- @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/library.Plo@am__quote@
- @AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/xlib.Plo@am__quote@
- 
- distclean-depend:
- 	-rm -rf ./$(DEPDIR)
- 
  .c.o:
! @am__fastdepCC_TRUE@	if $(COMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" \
! @am__fastdepCC_TRUE@	  -c -o $@ `test -f '$<' || echo '$(srcdir)/'`$<; \
! @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Po"; \
! @am__fastdepCC_TRUE@	else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; \
! @am__fastdepCC_TRUE@	fi
! @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=no @AMDEPBACKSLASH@
! @AMDEP_TRUE@@am__fastdepCC_FALSE@	depfile='$(DEPDIR)/$*.Po' tmpdepfile='$(DEPDIR)/$*.TPo' @AMDEPBACKSLASH@
! @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
! @am__fastdepCC_FALSE@	$(COMPILE) -c `test -f '$<' || echo '$(srcdir)/'`$<
  
  .c.obj:
! @am__fastdepCC_TRUE@	if $(COMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" \
! @am__fastdepCC_TRUE@	  -c -o $@ `if test -f '$<'; then $(CYGPATH_W) '$<'; else $(CYGPATH_W) '$(srcdir)/$<'; fi`; \
! @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Po"; \
! @am__fastdepCC_TRUE@	else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; \
! @am__fastdepCC_TRUE@	fi
! @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=no @AMDEPBACKSLASH@
! @AMDEP_TRUE@@am__fastdepCC_FALSE@	depfile='$(DEPDIR)/$*.Po' tmpdepfile='$(DEPDIR)/$*.TPo' @AMDEPBACKSLASH@
! @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
! @am__fastdepCC_FALSE@	$(COMPILE) -c `if test -f '$<'; then $(CYGPATH_W) '$<'; else $(CYGPATH_W) '$(srcdir)/$<'; fi`
  
  .c.lo:
! @am__fastdepCC_TRUE@	if $(LTCOMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" \
! @am__fastdepCC_TRUE@	  -c -o $@ `test -f '$<' || echo '$(srcdir)/'`$<; \
! @am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Plo"; \
! @am__fastdepCC_TRUE@	else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; \
! @am__fastdepCC_TRUE@	fi
! @AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=yes @AMDEPBACKSLASH@
! @AMDEP_TRUE@@am__fastdepCC_FALSE@	depfile='$(DEPDIR)/$*.Plo' tmpdepfile='$(DEPDIR)/$*.TPlo' @AMDEPBACKSLASH@
! @AMDEP_TRUE@@am__fastdepCC_FALSE@	$(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
! @am__fastdepCC_FALSE@	$(LTCOMPILE) -c -o $@ `test -f '$<' || echo '$(srcdir)/'`$<
  
  mostlyclean-libtool:
  	-rm -f *.lo
--- 326,344 ----
  	$(LINK) -rpath $(libdir) $(libXcursor_la_LDFLAGS) $(libXcursor_la_OBJECTS) $(libXcursor_la_LIBADD) $(LIBS)
  
  mostlyclean-compile:
! 	-rm -f *.$(OBJEXT)
  
  distclean-compile:
  	-rm -f *.tab.c
  
  .c.o:
! 	$(COMPILE) -c $<
  
  .c.obj:
! 	$(COMPILE) -c `$(CYGPATH_W) '$<'`
  
  .c.lo:
! 	$(LTCOMPILE) -c -o $@ $<
  
  mostlyclean-libtool:
  	-rm -f *.lo
***************
*** 342,352 ****
  distclean-libtool:
  	-rm -f libtool
  uninstall-info-am:
- 
- man3dir = $(mandir)/man3
  install-man3: $(man3_MANS) $(man_MANS)
  	@$(NORMAL_INSTALL)
! 	$(mkinstalldirs) $(DESTDIR)$(man3dir)
  	@list='$(man3_MANS) $(dist_man3_MANS) $(nodist_man3_MANS)'; \
  	l2='$(man_MANS) $(dist_man_MANS) $(nodist_man_MANS)'; \
  	for i in $$l2; do \
--- 349,357 ----
  distclean-libtool:
  	-rm -f libtool
  uninstall-info-am:
  install-man3: $(man3_MANS) $(man_MANS)
  	@$(NORMAL_INSTALL)
! 	test -z "$(man3dir)" || $(mkdir_p) "$(DESTDIR)$(man3dir)"
  	@list='$(man3_MANS) $(dist_man3_MANS) $(nodist_man3_MANS)'; \
  	l2='$(man_MANS) $(dist_man_MANS) $(nodist_man_MANS)'; \
  	for i in $$l2; do \
***************
*** 365,372 ****
  	  inst=`echo $$i | sed -e 's/\\.[0-9a-z]*$$//'`; \
  	  inst=`echo $$inst | sed -e 's/^.*\///'`; \
  	  inst=`echo $$inst | sed '$(transform)'`.$$ext; \
! 	  echo " $(INSTALL_DATA) $$file $(DESTDIR)$(man3dir)/$$inst"; \
! 	  $(INSTALL_DATA) $$file $(DESTDIR)$(man3dir)/$$inst; \
  	done
  uninstall-man3:
  	@$(NORMAL_UNINSTALL)
--- 370,377 ----
  	  inst=`echo $$i | sed -e 's/\\.[0-9a-z]*$$//'`; \
  	  inst=`echo $$inst | sed -e 's/^.*\///'`; \
  	  inst=`echo $$inst | sed '$(transform)'`.$$ext; \
! 	  echo " $(INSTALL_DATA) '$$file' '$(DESTDIR)$(man3dir)/$$inst'"; \
! 	  $(INSTALL_DATA) "$$file" "$(DESTDIR)$(man3dir)/$$inst"; \
  	done
  uninstall-man3:
  	@$(NORMAL_UNINSTALL)
***************
*** 386,439 ****
  	  inst=`echo $$i | sed -e 's/\\.[0-9a-z]*$$//'`; \
  	  inst=`echo $$inst | sed -e 's/^.*\///'`; \
  	  inst=`echo $$inst | sed '$(transform)'`.$$ext; \
! 	  echo " rm -f $(DESTDIR)$(man3dir)/$$inst"; \
! 	  rm -f $(DESTDIR)$(man3dir)/$$inst; \
  	done
- pkgconfigDATA_INSTALL = $(INSTALL_DATA)
  install-pkgconfigDATA: $(pkgconfig_DATA)
  	@$(NORMAL_INSTALL)
! 	$(mkinstalldirs) $(DESTDIR)$(pkgconfigdir)
  	@list='$(pkgconfig_DATA)'; for p in $$list; do \
  	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
! 	  f="`echo $$p | sed -e 's|^.*/||'`"; \
! 	  echo " $(pkgconfigDATA_INSTALL) $$d$$p $(DESTDIR)$(pkgconfigdir)/$$f"; \
! 	  $(pkgconfigDATA_INSTALL) $$d$$p $(DESTDIR)$(pkgconfigdir)/$$f; \
  	done
  
  uninstall-pkgconfigDATA:
  	@$(NORMAL_UNINSTALL)
  	@list='$(pkgconfig_DATA)'; for p in $$list; do \
! 	  f="`echo $$p | sed -e 's|^.*/||'`"; \
! 	  echo " rm -f $(DESTDIR)$(pkgconfigdir)/$$f"; \
! 	  rm -f $(DESTDIR)$(pkgconfigdir)/$$f; \
  	done
- libXcursorincludeHEADERS_INSTALL = $(INSTALL_HEADER)
  install-libXcursorincludeHEADERS: $(libXcursorinclude_HEADERS)
  	@$(NORMAL_INSTALL)
! 	$(mkinstalldirs) $(DESTDIR)$(libXcursorincludedir)
  	@list='$(libXcursorinclude_HEADERS)'; for p in $$list; do \
  	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
! 	  f="`echo $$p | sed -e 's|^.*/||'`"; \
! 	  echo " $(libXcursorincludeHEADERS_INSTALL) $$d$$p $(DESTDIR)$(libXcursorincludedir)/$$f"; \
! 	  $(libXcursorincludeHEADERS_INSTALL) $$d$$p $(DESTDIR)$(libXcursorincludedir)/$$f; \
  	done
  
  uninstall-libXcursorincludeHEADERS:
  	@$(NORMAL_UNINSTALL)
  	@list='$(libXcursorinclude_HEADERS)'; for p in $$list; do \
! 	  f="`echo $$p | sed -e 's|^.*/||'`"; \
! 	  echo " rm -f $(DESTDIR)$(libXcursorincludedir)/$$f"; \
! 	  rm -f $(DESTDIR)$(libXcursorincludedir)/$$f; \
  	done
  
- ETAGS = etags
- ETAGSFLAGS =
- 
- CTAGS = ctags
- CTAGSFLAGS =
- 
- tags: TAGS
- 
  ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
  	list='$(SOURCES) $(HEADERS) $(LISP) $(TAGS_FILES)'; \
  	unique=`for i in $$list; do \
--- 391,434 ----
  	  inst=`echo $$i | sed -e 's/\\.[0-9a-z]*$$//'`; \
  	  inst=`echo $$inst | sed -e 's/^.*\///'`; \
  	  inst=`echo $$inst | sed '$(transform)'`.$$ext; \
! 	  echo " rm -f '$(DESTDIR)$(man3dir)/$$inst'"; \
! 	  rm -f "$(DESTDIR)$(man3dir)/$$inst"; \
  	done
  install-pkgconfigDATA: $(pkgconfig_DATA)
  	@$(NORMAL_INSTALL)
! 	test -z "$(pkgconfigdir)" || $(mkdir_p) "$(DESTDIR)$(pkgconfigdir)"
  	@list='$(pkgconfig_DATA)'; for p in $$list; do \
  	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
! 	  f=$(am__strip_dir) \
! 	  echo " $(pkgconfigDATA_INSTALL) '$$d$$p' '$(DESTDIR)$(pkgconfigdir)/$$f'"; \
! 	  $(pkgconfigDATA_INSTALL) "$$d$$p" "$(DESTDIR)$(pkgconfigdir)/$$f"; \
  	done
  
  uninstall-pkgconfigDATA:
  	@$(NORMAL_UNINSTALL)
  	@list='$(pkgconfig_DATA)'; for p in $$list; do \
! 	  f=$(am__strip_dir) \
! 	  echo " rm -f '$(DESTDIR)$(pkgconfigdir)/$$f'"; \
! 	  rm -f "$(DESTDIR)$(pkgconfigdir)/$$f"; \
  	done
  install-libXcursorincludeHEADERS: $(libXcursorinclude_HEADERS)
  	@$(NORMAL_INSTALL)
! 	test -z "$(libXcursorincludedir)" || $(mkdir_p) "$(DESTDIR)$(libXcursorincludedir)"
  	@list='$(libXcursorinclude_HEADERS)'; for p in $$list; do \
  	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
! 	  f=$(am__strip_dir) \
! 	  echo " $(libXcursorincludeHEADERS_INSTALL) '$$d$$p' '$(DESTDIR)$(libXcursorincludedir)/$$f'"; \
! 	  $(libXcursorincludeHEADERS_INSTALL) "$$d$$p" "$(DESTDIR)$(libXcursorincludedir)/$$f"; \
  	done
  
  uninstall-libXcursorincludeHEADERS:
  	@$(NORMAL_UNINSTALL)
  	@list='$(libXcursorinclude_HEADERS)'; for p in $$list; do \
! 	  f=$(am__strip_dir) \
! 	  echo " rm -f '$(DESTDIR)$(libXcursorincludedir)/$$f'"; \
! 	  rm -f "$(DESTDIR)$(libXcursorincludedir)/$$f"; \
  	done
  
  ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
  	list='$(SOURCES) $(HEADERS) $(LISP) $(TAGS_FILES)'; \
  	unique=`for i in $$list; do \
***************
*** 442,447 ****
--- 437,443 ----
  	  $(AWK) '    { files[$$0] = 1; } \
  	       END { for (i in files) print i; }'`; \
  	mkid -fID $$unique
+ tags: TAGS
  
  TAGS:  $(HEADERS) $(SOURCES) config.h.in $(TAGS_DEPENDENCIES) \
  		$(TAGS_FILES) $(LISP)
***************
*** 453,462 ****
  	  done | \
  	  $(AWK) '    { files[$$0] = 1; } \
  	       END { for (i in files) print i; }'`; \
! 	test -z "$(ETAGS_ARGS)$$tags$$unique" \
! 	  || $(ETAGS) $(ETAGSFLAGS) $(AM_ETAGSFLAGS) $(ETAGS_ARGS) \
! 	     $$tags $$unique
! 
  ctags: CTAGS
  CTAGS:  $(HEADERS) $(SOURCES) config.h.in $(TAGS_DEPENDENCIES) \
  		$(TAGS_FILES) $(LISP)
--- 449,459 ----
  	  done | \
  	  $(AWK) '    { files[$$0] = 1; } \
  	       END { for (i in files) print i; }'`; \
! 	if test -z "$(ETAGS_ARGS)$$tags$$unique"; then :; else \
! 	  test -n "$$unique" || unique=$$empty_fix; \
! 	  $(ETAGS) $(ETAGSFLAGS) $(AM_ETAGSFLAGS) $(ETAGS_ARGS) \
! 	    $$tags $$unique; \
! 	fi
  ctags: CTAGS
  CTAGS:  $(HEADERS) $(SOURCES) config.h.in $(TAGS_DEPENDENCIES) \
  		$(TAGS_FILES) $(LISP)
***************
*** 479,502 ****
  
  distclean-tags:
  	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags
- DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
- 
- top_distdir = .
- distdir = $(PACKAGE)-$(VERSION)
- 
- am__remove_distdir = \
-   { test ! -d $(distdir) \
-     || { find $(distdir) -type d ! -perm -200 -exec chmod u+w {} ';' \
-          && rm -fr $(distdir); }; }
- 
- GZIP_ENV = --best
- distuninstallcheck_listfiles = find . -type f -print
- distcleancheck_listfiles = find . -type f -print
  
  distdir: $(DISTFILES)
  	$(am__remove_distdir)
  	mkdir $(distdir)
! 	$(mkinstalldirs) $(distdir)/.
  	@srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`; \
  	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's|.|.|g'`; \
  	list='$(DISTFILES)'; for file in $$list; do \
--- 476,486 ----
  
  distclean-tags:
  	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags
  
  distdir: $(DISTFILES)
  	$(am__remove_distdir)
  	mkdir $(distdir)
! 	$(mkdir_p) $(distdir)/.
  	@srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`; \
  	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's|.|.|g'`; \
  	list='$(DISTFILES)'; for file in $$list; do \
***************
*** 508,514 ****
  	  dir=`echo "$$file" | sed -e 's,/[^/]*$$,,'`; \
  	  if test "$$dir" != "$$file" && test "$$dir" != "."; then \
  	    dir="/$$dir"; \
! 	    $(mkinstalldirs) "$(distdir)$$dir"; \
  	  else \
  	    dir=''; \
  	  fi; \
--- 492,498 ----
  	  dir=`echo "$$file" | sed -e 's,/[^/]*$$,,'`; \
  	  if test "$$dir" != "$$file" && test "$$dir" != "."; then \
  	    dir="/$$dir"; \
! 	    $(mkdir_p) "$(distdir)$$dir"; \
  	  else \
  	    dir=''; \
  	  fi; \
***************
*** 529,547 ****
  	  ! -type d ! -perm -444 -exec $(SHELL) $(install_sh) -c -m a+r {} {} \; \
  	|| chmod -R a+r $(distdir)
  dist-gzip: distdir
! 	$(AMTAR) chof - $(distdir) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).tar.gz
  	$(am__remove_distdir)
  
  dist dist-all: distdir
! 	$(AMTAR) chof - $(distdir) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).tar.gz
  	$(am__remove_distdir)
  
  # This target untars the dist file and tries a VPATH configuration.  Then
  # it guarantees that the distribution is self-contained by making another
  # tarfile.
  distcheck: dist
! 	$(am__remove_distdir)
! 	GZIP=$(GZIP_ENV) gunzip -c $(distdir).tar.gz | $(AMTAR) xf -
  	chmod -R a-w $(distdir); chmod a+w $(distdir)
  	mkdir $(distdir)/_build
  	mkdir $(distdir)/_inst
--- 513,558 ----
  	  ! -type d ! -perm -444 -exec $(SHELL) $(install_sh) -c -m a+r {} {} \; \
  	|| chmod -R a+r $(distdir)
  dist-gzip: distdir
! 	tardir=$(distdir) && $(am__tar) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).tar.gz
! 	$(am__remove_distdir)
! 
! dist-bzip2: distdir
! 	tardir=$(distdir) && $(am__tar) | bzip2 -9 -c >$(distdir).tar.bz2
! 	$(am__remove_distdir)
! 
! dist-tarZ: distdir
! 	tardir=$(distdir) && $(am__tar) | compress -c >$(distdir).tar.Z
! 	$(am__remove_distdir)
! 
! dist-shar: distdir
! 	shar $(distdir) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).shar.gz
! 	$(am__remove_distdir)
! 
! dist-zip: distdir
! 	-rm -f $(distdir).zip
! 	zip -rq $(distdir).zip $(distdir)
  	$(am__remove_distdir)
  
  dist dist-all: distdir
! 	tardir=$(distdir) && $(am__tar) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).tar.gz
  	$(am__remove_distdir)
  
  # This target untars the dist file and tries a VPATH configuration.  Then
  # it guarantees that the distribution is self-contained by making another
  # tarfile.
  distcheck: dist
! 	case '$(DIST_ARCHIVES)' in \
! 	*.tar.gz*) \
! 	  GZIP=$(GZIP_ENV) gunzip -c $(distdir).tar.gz | $(am__untar) ;;\
! 	*.tar.bz2*) \
! 	  bunzip2 -c $(distdir).tar.bz2 | $(am__untar) ;;\
! 	*.tar.Z*) \
! 	  uncompress -c $(distdir).tar.Z | $(am__untar) ;;\
! 	*.shar.gz*) \
! 	  GZIP=$(GZIP_ENV) gunzip -c $(distdir).shar.gz | unshar ;;\
! 	*.zip*) \
! 	  unzip $(distdir).zip ;;\
! 	esac
  	chmod -R a-w $(distdir); chmod a+w $(distdir)
  	mkdir $(distdir)/_build
  	mkdir $(distdir)/_inst
***************
*** 561,579 ****
  	        distuninstallcheck \
  	  && chmod -R a-w "$$dc_install_base" \
  	  && ({ \
! 	       (cd ../.. && $(mkinstalldirs) "$$dc_destdir") \
  	       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR="$$dc_destdir" install \
  	       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR="$$dc_destdir" uninstall \
  	       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR="$$dc_destdir" \
  	            distuninstallcheck_dir="$$dc_destdir" distuninstallcheck; \
  	      } || { rm -rf "$$dc_destdir"; exit 1; }) \
  	  && rm -rf "$$dc_destdir" \
! 	  && $(MAKE) $(AM_MAKEFLAGS) dist-gzip \
! 	  && rm -f $(distdir).tar.gz \
  	  && $(MAKE) $(AM_MAKEFLAGS) distcleancheck
  	$(am__remove_distdir)
! 	@echo "$(distdir).tar.gz is ready for distribution" | \
! 	  sed 'h;s/./=/g;p;x;p;x'
  distuninstallcheck:
  	@cd $(distuninstallcheck_dir) \
  	&& test `$(distuninstallcheck_listfiles) | wc -l` -le 1 \
--- 572,591 ----
  	        distuninstallcheck \
  	  && chmod -R a-w "$$dc_install_base" \
  	  && ({ \
! 	       (cd ../.. && umask 077 && mkdir "$$dc_destdir") \
  	       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR="$$dc_destdir" install \
  	       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR="$$dc_destdir" uninstall \
  	       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR="$$dc_destdir" \
  	            distuninstallcheck_dir="$$dc_destdir" distuninstallcheck; \
  	      } || { rm -rf "$$dc_destdir"; exit 1; }) \
  	  && rm -rf "$$dc_destdir" \
! 	  && $(MAKE) $(AM_MAKEFLAGS) dist \
! 	  && rm -rf $(DIST_ARCHIVES) \
  	  && $(MAKE) $(AM_MAKEFLAGS) distcleancheck
  	$(am__remove_distdir)
! 	@(echo "$(distdir) archives ready for distribution: "; \
! 	  list='$(DIST_ARCHIVES)'; for i in $$list; do echo $$i; done) | \
! 	  sed -e '1{h;s/./=/g;p;x;}' -e '$${p;x;}'
  distuninstallcheck:
  	@cd $(distuninstallcheck_dir) \
  	&& test `$(distuninstallcheck_listfiles) | wc -l` -le 1 \
***************
*** 595,604 ****
  check-am: all-am
  check: check-am
  all-am: Makefile $(LTLIBRARIES) $(MANS) $(DATA) $(HEADERS) config.h
- 
  installdirs:
! 	$(mkinstalldirs) $(DESTDIR)$(libdir) $(DESTDIR)$(man3dir) $(DESTDIR)$(pkgconfigdir) $(DESTDIR)$(libXcursorincludedir)
! 
  install: install-am
  install-exec: install-exec-am
  install-data: install-data-am
--- 607,616 ----
  check-am: all-am
  check: check-am
  all-am: Makefile $(LTLIBRARIES) $(MANS) $(DATA) $(HEADERS) config.h
  installdirs:
! 	for dir in "$(DESTDIR)$(libdir)" "$(DESTDIR)$(man3dir)" "$(DESTDIR)$(pkgconfigdir)" "$(DESTDIR)$(libXcursorincludedir)"; do \
! 	  test -z "$$dir" || $(mkdir_p) "$$dir"; \
! 	done
  install: install-am
  install-exec: install-exec-am
  install-data: install-data-am
***************
*** 610,616 ****
  installcheck: installcheck-am
  install-strip:
  	$(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM="$(INSTALL_STRIP_PROGRAM)" \
! 	  INSTALL_STRIP_FLAG=-s \
  	  `test -z '$(STRIP)' || \
  	    echo "INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'"` install
  mostlyclean-generic:
--- 622,628 ----
  installcheck: installcheck-am
  install-strip:
  	$(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM="$(INSTALL_STRIP_PROGRAM)" \
! 	  install_sh_PROGRAM="$(INSTALL_STRIP_PROGRAM)" INSTALL_STRIP_FLAG=-s \
  	  `test -z '$(STRIP)' || \
  	    echo "INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'"` install
  mostlyclean-generic:
***************
*** 618,624 ****
  clean-generic:
  
  distclean-generic:
! 	-rm -f Makefile $(CONFIG_CLEAN_FILES)
  
  maintainer-clean-generic:
  	@echo "This command is intended for maintainers to use"
--- 630,636 ----
  clean-generic:
  
  distclean-generic:
! 	-test -z "$(CONFIG_CLEAN_FILES)" || rm -f $(CONFIG_CLEAN_FILES)
  
  maintainer-clean-generic:
  	@echo "This command is intended for maintainers to use"
***************
*** 630,643 ****
  
  distclean: distclean-am
  	-rm -f $(am__CONFIG_DISTCLEAN_FILES)
! distclean-am: clean-am distclean-compile distclean-depend \
! 	distclean-generic distclean-hdr distclean-libtool \
! 	distclean-tags
  
  dvi: dvi-am
  
  dvi-am:
  
  info: info-am
  
  info-am:
--- 642,657 ----
  
  distclean: distclean-am
  	-rm -f $(am__CONFIG_DISTCLEAN_FILES)
! 	-rm -f Makefile
! distclean-am: clean-am distclean-compile distclean-generic \
! 	distclean-hdr distclean-libtool distclean-tags
  
  dvi: dvi-am
  
  dvi-am:
  
+ html: html-am
+ 
  info: info-am
  
  info-am:
***************
*** 655,661 ****
  
  maintainer-clean: maintainer-clean-am
  	-rm -f $(am__CONFIG_DISTCLEAN_FILES)
! 	-rm -rf autom4te.cache
  maintainer-clean-am: distclean-am maintainer-clean-generic
  
  mostlyclean: mostlyclean-am
--- 669,676 ----
  
  maintainer-clean: maintainer-clean-am
  	-rm -f $(am__CONFIG_DISTCLEAN_FILES)
! 	-rm -rf $(top_srcdir)/autom4te.cache
! 	-rm -f Makefile
  maintainer-clean-am: distclean-am maintainer-clean-generic
  
  mostlyclean: mostlyclean-am
***************
*** 677,693 ****
  
  uninstall-man: uninstall-man3
  
! .PHONY: CTAGS GTAGS all all-am check check-am clean clean-generic \
! 	clean-libLTLIBRARIES clean-libtool ctags dist dist-all \
! 	dist-gzip distcheck distclean distclean-compile \
! 	distclean-depend distclean-generic distclean-hdr \
! 	distclean-libtool distclean-tags distcleancheck distdir \
! 	distuninstallcheck dvi dvi-am info info-am install install-am \
! 	install-data install-data-am install-exec install-exec-am \
! 	install-info install-info-am install-libLTLIBRARIES \
! 	install-libXcursorincludeHEADERS install-man install-man3 \
! 	install-pkgconfigDATA install-strip installcheck \
! 	installcheck-am installdirs maintainer-clean \
  	maintainer-clean-generic mostlyclean mostlyclean-compile \
  	mostlyclean-generic mostlyclean-libtool pdf pdf-am ps ps-am \
  	tags uninstall uninstall-am uninstall-info-am \
--- 692,708 ----
  
  uninstall-man: uninstall-man3
  
! .PHONY: CTAGS GTAGS all all-am am--refresh check check-am clean \
! 	clean-generic clean-libLTLIBRARIES clean-libtool ctags dist \
! 	dist-all dist-bzip2 dist-gzip dist-shar dist-tarZ dist-zip \
! 	distcheck distclean distclean-compile distclean-generic \
! 	distclean-hdr distclean-libtool distclean-tags distcleancheck \
! 	distdir distuninstallcheck dvi dvi-am html html-am info \
! 	info-am install install-am install-data install-data-am \
! 	install-exec install-exec-am install-info install-info-am \
! 	install-libLTLIBRARIES install-libXcursorincludeHEADERS \
! 	install-man install-man3 install-pkgconfigDATA install-strip \
! 	installcheck installcheck-am installdirs maintainer-clean \
  	maintainer-clean-generic mostlyclean mostlyclean-compile \
  	mostlyclean-generic mostlyclean-libtool pdf pdf-am ps ps-am \
  	tags uninstall uninstall-am uninstall-info-am \
diff -crN ./xcursor/aclocal.m4 /users6/vanderms/sb/gnome_21264bis/src/./xcursor/aclocal.m4
*** ./xcursor/aclocal.m4	Wed May 21 19:22:45 2003
--- /users6/vanderms/sb/gnome_21264bis/src/./xcursor/aclocal.m4	Tue Jan 17 10:48:23 2006
***************
*** 1,7 ****
! # generated automatically by aclocal 1.7.4 -*- Autoconf -*-
  
! # Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002
! # Free Software Foundation, Inc.
  # This file is free software; the Free Software Foundation
  # gives unlimited permission to copy and/or distribute it,
  # with or without modifications, as long as this notice is preserved.
--- 1,7 ----
! # generated automatically by aclocal 1.9.6 -*- Autoconf -*-
  
! # Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
! # 2005  Free Software Foundation, Inc.
  # This file is free software; the Free Software Foundation
  # gives unlimited permission to copy and/or distribute it,
  # with or without modifications, as long as this notice is preserved.
***************
*** 11,2347 ****
  # even the implied warranty of MERCHANTABILITY or FITNESS FOR A
  # PARTICULAR PURPOSE.
  
! # Do all the work for Automake.                            -*- Autoconf -*-
  
! # This macro actually does too much some checks are only needed if
! # your package does certain things.  But this isn't really a big deal.
  
! # Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003
! # Free Software Foundation, Inc.
  
! # This program is free software; you can redistribute it and/or modify
! # it under the terms of the GNU General Public License as published by
! # the Free Software Foundation; either version 2, or (at your option)
! # any later version.
  
! # This program is distributed in the hope that it will be useful,
! # but WITHOUT ANY WARRANTY; without even the implied warranty of
! # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
! # GNU General Public License for more details.
  
! # You should have received a copy of the GNU General Public License
! # along with this program; if not, write to the Free Software
! # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
! # 02111-1307, USA.
  
! # serial 10
  
! AC_PREREQ([2.54])
  
! # Autoconf 2.50 wants to disallow AM_ names.  We explicitly allow
! # the ones we care about.
! m4_pattern_allow([^AM_[A-Z]+FLAGS$])dnl
  
! # AM_INIT_AUTOMAKE(PACKAGE, VERSION, [NO-DEFINE])
! # AM_INIT_AUTOMAKE([OPTIONS])
! # -----------------------------------------------
! # The call with PACKAGE and VERSION arguments is the old style
! # call (pre autoconf-2.50), which is being phased out.  PACKAGE
! # and VERSION should now be passed to AC_INIT and removed from
! # the call to AM_INIT_AUTOMAKE.
! # We support both call styles for the transition.  After
! # the next Automake release, Autoconf can make the AC_INIT
! # arguments mandatory, and then we can depend on a new Autoconf
! # release and drop the old call support.
! AC_DEFUN([AM_INIT_AUTOMAKE],
! [AC_REQUIRE([AM_SET_CURRENT_AUTOMAKE_VERSION])dnl
!  AC_REQUIRE([AC_PROG_INSTALL])dnl
! # test to see if srcdir already configured
! if test "`cd $srcdir && pwd`" != "`pwd`" &&
!    test -f $srcdir/config.status; then
!   AC_MSG_ERROR([source directory already configured; run "make distclean" there first])
! fi
  
! # test whether we have cygpath
! if test -z "$CYGPATH_W"; then
!   if (cygpath --version) >/dev/null 2>/dev/null; then
!     CYGPATH_W='cygpath -w'
!   else
!     CYGPATH_W=echo
    fi
! fi
! AC_SUBST([CYGPATH_W])
  
! # Define the identity of the package.
! dnl Distinguish between old-style and new-style calls.
! m4_ifval([$2],
! [m4_ifval([$3], [_AM_SET_OPTION([no-define])])dnl
!  AC_SUBST([PACKAGE], [$1])dnl
!  AC_SUBST([VERSION], [$2])],
! [_AM_SET_OPTIONS([$1])dnl
!  AC_SUBST([PACKAGE], ['AC_PACKAGE_TARNAME'])dnl
!  AC_SUBST([VERSION], ['AC_PACKAGE_VERSION'])])dnl
  
! _AM_IF_OPTION([no-define],,
! [AC_DEFINE_UNQUOTED(PACKAGE, "$PACKAGE", [Name of package])
!  AC_DEFINE_UNQUOTED(VERSION, "$VERSION", [Version number of package])])dnl
  
! # Some tools Automake needs.
! AC_REQUIRE([AM_SANITY_CHECK])dnl
! AC_REQUIRE([AC_ARG_PROGRAM])dnl
! AM_MISSING_PROG(ACLOCAL, aclocal-${am__api_version})
! AM_MISSING_PROG(AUTOCONF, autoconf)
! AM_MISSING_PROG(AUTOMAKE, automake-${am__api_version})
! AM_MISSING_PROG(AUTOHEADER, autoheader)
! AM_MISSING_PROG(MAKEINFO, makeinfo)
! AM_MISSING_PROG(AMTAR, tar)
! AM_PROG_INSTALL_SH
! AM_PROG_INSTALL_STRIP
! # We need awk for the "check" target.  The system "awk" is bad on
! # some platforms.
! AC_REQUIRE([AC_PROG_AWK])dnl
! AC_REQUIRE([AC_PROG_MAKE_SET])dnl
! AC_REQUIRE([AM_SET_LEADING_DOT])dnl
  
! _AM_IF_OPTION([no-dependencies],,
! [AC_PROVIDE_IFELSE([AC_PROG_CC],
!                   [_AM_DEPENDENCIES(CC)],
!                   [define([AC_PROG_CC],
!                           defn([AC_PROG_CC])[_AM_DEPENDENCIES(CC)])])dnl
! AC_PROVIDE_IFELSE([AC_PROG_CXX],
!                   [_AM_DEPENDENCIES(CXX)],
!                   [define([AC_PROG_CXX],
!                           defn([AC_PROG_CXX])[_AM_DEPENDENCIES(CXX)])])dnl
! ])
! ])
  
  
! # When config.status generates a header, we must update the stamp-h file.
! # This file resides in the same directory as the config header
! # that is generated.  The stamp files are numbered to have different names.
  
! # Autoconf calls _AC_AM_CONFIG_HEADER_HOOK (when defined) in the
! # loop where config.status creates the headers, so we can generate
! # our stamp files there.
! AC_DEFUN([_AC_AM_CONFIG_HEADER_HOOK],
! [# Compute $1's index in $config_headers.
! _am_stamp_count=1
! for _am_header in $config_headers :; do
!   case $_am_header in
!     $1 | $1:* )
!       break ;;
!     * )
!       _am_stamp_count=`expr $_am_stamp_count + 1` ;;
!   esac
! done
! echo "timestamp for $1" >`AS_DIRNAME([$1])`/stamp-h[]$_am_stamp_count])
  
! # Copyright 2002  Free Software Foundation, Inc.
  
! # This program is free software; you can redistribute it and/or modify
! # it under the terms of the GNU General Public License as published by
! # the Free Software Foundation; either version 2, or (at your option)
! # any later version.
  
! # This program is distributed in the hope that it will be useful,
! # but WITHOUT ANY WARRANTY; without even the implied warranty of
! # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
! # GNU General Public License for more details.
  
! # You should have received a copy of the GNU General Public License
! # along with this program; if not, write to the Free Software
! # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
  
! # AM_AUTOMAKE_VERSION(VERSION)
! # ----------------------------
! # Automake X.Y traces this macro to ensure aclocal.m4 has been
! # generated from the m4 files accompanying Automake X.Y.
! AC_DEFUN([AM_AUTOMAKE_VERSION],[am__api_version="1.7"])
  
! # AM_SET_CURRENT_AUTOMAKE_VERSION
! # -------------------------------
! # Call AM_AUTOMAKE_VERSION so it can be traced.
! # This function is AC_REQUIREd by AC_INIT_AUTOMAKE.
! AC_DEFUN([AM_SET_CURRENT_AUTOMAKE_VERSION],
! 	 [AM_AUTOMAKE_VERSION([1.7.4])])
  
! # Helper functions for option handling.                    -*- Autoconf -*-
  
! # Copyright 2001, 2002  Free Software Foundation, Inc.
! 
! # This program is free software; you can redistribute it and/or modify
! # it under the terms of the GNU General Public License as published by
! # the Free Software Foundation; either version 2, or (at your option)
! # any later version.
! 
! # This program is distributed in the hope that it will be useful,
! # but WITHOUT ANY WARRANTY; without even the implied warranty of
! # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
! # GNU General Public License for more details.
! 
! # You should have received a copy of the GNU General Public License
! # along with this program; if not, write to the Free Software
! # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
! # 02111-1307, USA.
  
! # serial 2
  
! # _AM_MANGLE_OPTION(NAME)
! # -----------------------
! AC_DEFUN([_AM_MANGLE_OPTION],
! [[_AM_OPTION_]m4_bpatsubst($1, [[^a-zA-Z0-9_]], [_])])
  
! # _AM_SET_OPTION(NAME)
! # ------------------------------
! # Set option NAME.  Presently that only means defining a flag for this option.
! AC_DEFUN([_AM_SET_OPTION],
! [m4_define(_AM_MANGLE_OPTION([$1]), 1)])
  
! # _AM_SET_OPTIONS(OPTIONS)
! # ----------------------------------
! # OPTIONS is a space-separated list of Automake options.
! AC_DEFUN([_AM_SET_OPTIONS],
! [AC_FOREACH([_AM_Option], [$1], [_AM_SET_OPTION(_AM_Option)])])
  
! # _AM_IF_OPTION(OPTION, IF-SET, [IF-NOT-SET])
! # -------------------------------------------
! # Execute IF-SET if OPTION is set, IF-NOT-SET otherwise.
! AC_DEFUN([_AM_IF_OPTION],
! [m4_ifset(_AM_MANGLE_OPTION([$1]), [$2], [$3])])
  
! #
! # Check to make sure that the build environment is sane.
! #
  
! # Copyright 1996, 1997, 2000, 2001 Free Software Foundation, Inc.
  
! # This program is free software; you can redistribute it and/or modify
! # it under the terms of the GNU General Public License as published by
! # the Free Software Foundation; either version 2, or (at your option)
! # any later version.
  
! # This program is distributed in the hope that it will be useful,
! # but WITHOUT ANY WARRANTY; without even the implied warranty of
! # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
! # GNU General Public License for more details.
  
! # You should have received a copy of the GNU General Public License
! # along with this program; if not, write to the Free Software
! # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
! # 02111-1307, USA.
  
! # serial 3
  
! # AM_SANITY_CHECK
! # ---------------
! AC_DEFUN([AM_SANITY_CHECK],
! [AC_MSG_CHECKING([whether build environment is sane])
! # Just in case
! sleep 1
! echo timestamp > conftest.file
! # Do `set' in a subshell so we don't clobber the current shell's
! # arguments.  Must try -L first in case configure is actually a
! # symlink; some systems play weird games with the mod time of symlinks
! # (eg FreeBSD returns the mod time of the symlink's containing
! # directory).
! if (
!    set X `ls -Lt $srcdir/configure conftest.file 2> /dev/null`
!    if test "$[*]" = "X"; then
!       # -L didn't work.
!       set X `ls -t $srcdir/configure conftest.file`
!    fi
!    rm -f conftest.file
!    if test "$[*]" != "X $srcdir/configure conftest.file" \
!       && test "$[*]" != "X conftest.file $srcdir/configure"; then
  
!       # If neither matched, then we have a broken ls.  This can happen
!       # if, for instance, CONFIG_SHELL is bash and it inherits a
!       # broken ls alias from the environment.  This has actually
!       # happened.  Such a system could not be considered "sane".
!       AC_MSG_ERROR([ls -t appears to fail.  Make sure there is not a broken
! alias in your environment])
!    fi
  
!    test "$[2]" = conftest.file
!    )
  then
!    # Ok.
!    :
  else
!    AC_MSG_ERROR([newly created file is older than distributed files!
! Check your system clock])
  fi
! AC_MSG_RESULT(yes)])
! 
! #  -*- Autoconf -*-
! 
! 
! # Copyright 1997, 1999, 2000, 2001 Free Software Foundation, Inc.
  
! # This program is free software; you can redistribute it and/or modify
! # it under the terms of the GNU General Public License as published by
! # the Free Software Foundation; either version 2, or (at your option)
! # any later version.
  
! # This program is distributed in the hope that it will be useful,
! # but WITHOUT ANY WARRANTY; without even the implied warranty of
! # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
! # GNU General Public License for more details.
  
! # You should have received a copy of the GNU General Public License
! # along with this program; if not, write to the Free Software
! # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
! # 02111-1307, USA.
  
! # serial 3
  
! # AM_MISSING_PROG(NAME, PROGRAM)
! # ------------------------------
! AC_DEFUN([AM_MISSING_PROG],
! [AC_REQUIRE([AM_MISSING_HAS_RUN])
! $1=${$1-"${am_missing_run}$2"}
! AC_SUBST($1)])
! 
! 
! # AM_MISSING_HAS_RUN
! # ------------------
! # Define MISSING if not defined so far and test if it supports --run.
! # If it does, set am_missing_run to use it, otherwise, to nothing.
! AC_DEFUN([AM_MISSING_HAS_RUN],
! [AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl
! test x"${MISSING+set}" = xset || MISSING="\${SHELL} $am_aux_dir/missing"
! # Use eval to expand $SHELL
! if eval "$MISSING --run true"; then
!   am_missing_run="$MISSING --run "
  else
!   am_missing_run=
!   AC_MSG_WARN([`missing' script is too old or missing])
  fi
- ])
  
! # AM_AUX_DIR_EXPAND
! 
! # Copyright 2001 Free Software Foundation, Inc.
! 
! # This program is free software; you can redistribute it and/or modify
! # it under the terms of the GNU General Public License as published by
! # the Free Software Foundation; either version 2, or (at your option)
! # any later version.
  
! # This program is distributed in the hope that it will be useful,
! # but WITHOUT ANY WARRANTY; without even the implied warranty of
! # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
! # GNU General Public License for more details.
  
! # You should have received a copy of the GNU General Public License
! # along with this program; if not, write to the Free Software
! # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
! # 02111-1307, USA.
  
! # For projects using AC_CONFIG_AUX_DIR([foo]), Autoconf sets
! # $ac_aux_dir to `$srcdir/foo'.  In other projects, it is set to
! # `$srcdir', `$srcdir/..', or `$srcdir/../..'.
! #
! # Of course, Automake must honor this variable whenever it calls a
! # tool from the auxiliary directory.  The problem is that $srcdir (and
! # therefore $ac_aux_dir as well) can be either absolute or relative,
! # depending on how configure is run.  This is pretty annoying, since
! # it makes $ac_aux_dir quite unusable in subdirectories: in the top
! # source directory, any form will work fine, but in subdirectories a
! # relative path needs to be adjusted first.
! #
! # $ac_aux_dir/missing
! #    fails when called from a subdirectory if $ac_aux_dir is relative
! # $top_srcdir/$ac_aux_dir/missing
! #    fails if $ac_aux_dir is absolute,
! #    fails when called from a subdirectory in a VPATH build with
! #          a relative $ac_aux_dir
! #
! # The reason of the latter failure is that $top_srcdir and $ac_aux_dir
! # are both prefixed by $srcdir.  In an in-source build this is usually
! # harmless because $srcdir is `.', but things will broke when you
! # start a VPATH build or use an absolute $srcdir.
! #
! # So we could use something similar to $top_srcdir/$ac_aux_dir/missing,
! # iff we strip the leading $srcdir from $ac_aux_dir.  That would be:
! #   am_aux_dir='\$(top_srcdir)/'`expr "$ac_aux_dir" : "$srcdir//*\(.*\)"`
! # and then we would define $MISSING as
! #   MISSING="\${SHELL} $am_aux_dir/missing"
! # This will work as long as MISSING is not called from configure, because
! # unfortunately $(top_srcdir) has no meaning in configure.
! # However there are other variables, like CC, which are often used in
! # configure, and could therefore not use this "fixed" $ac_aux_dir.
! #
! # Another solution, used here, is to always expand $ac_aux_dir to an
! # absolute PATH.  The drawback is that using absolute paths prevent a
! # configured tree to be moved without reconfiguration.
  
! # Rely on autoconf to set up CDPATH properly.
! AC_PREREQ([2.50])
  
! AC_DEFUN([AM_AUX_DIR_EXPAND], [
! # expand $ac_aux_dir to an absolute path
! am_aux_dir=`cd $ac_aux_dir && pwd`
! ])
  
! # AM_PROG_INSTALL_SH
! # ------------------
! # Define $install_sh.
  
! # Copyright 2001 Free Software Foundation, Inc.
  
! # This program is free software; you can redistribute it and/or modify
! # it under the terms of the GNU General Public License as published by
! # the Free Software Foundation; either version 2, or (at your option)
! # any later version.
  
! # This program is distributed in the hope that it will be useful,
! # but WITHOUT ANY WARRANTY; without even the implied warranty of
! # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
! # GNU General Public License for more details.
  
! # You should have received a copy of the GNU General Public License
! # along with this program; if not, write to the Free Software
! # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
! # 02111-1307, USA.
  
! AC_DEFUN([AM_PROG_INSTALL_SH],
! [AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl
! install_sh=${install_sh-"$am_aux_dir/install-sh"}
! AC_SUBST(install_sh)])
  
! # AM_PROG_INSTALL_STRIP
  
! # Copyright 2001 Free Software Foundation, Inc.
  
! # This program is free software; you can redistribute it and/or modify
! # it under the terms of the GNU General Public License as published by
! # the Free Software Foundation; either version 2, or (at your option)
! # any later version.
  
! # This program is distributed in the hope that it will be useful,
! # but WITHOUT ANY WARRANTY; without even the implied warranty of
! # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
! # GNU General Public License for more details.
  
! # You should have received a copy of the GNU General Public License
! # along with this program; if not, write to the Free Software
! # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
! # 02111-1307, USA.
  
! # One issue with vendor `install' (even GNU) is that you can't
! # specify the program used to strip binaries.  This is especially
! # annoying in cross-compiling environments, where the build's strip
! # is unlikely to handle the host's binaries.
! # Fortunately install-sh will honor a STRIPPROG variable, so we
! # always use install-sh in `make install-strip', and initialize
! # STRIPPROG with the value of the STRIP variable (set by the user).
! AC_DEFUN([AM_PROG_INSTALL_STRIP],
! [AC_REQUIRE([AM_PROG_INSTALL_SH])dnl
! # Installed binaries are usually stripped using `strip' when the user
! # run `make install-strip'.  However `strip' might not be the right
! # tool to use in cross-compilation environments, therefore Automake
! # will honor the `STRIP' environment variable to overrule this program.
! dnl Don't test for $cross_compiling = yes, because it might be `maybe'.
! if test "$cross_compiling" != no; then
!   AC_CHECK_TOOL([STRIP], [strip], :)
  fi
! INSTALL_STRIP_PROGRAM="\${SHELL} \$(install_sh) -c -s"
! AC_SUBST([INSTALL_STRIP_PROGRAM])])
  
! #                                                          -*- Autoconf -*-
! # Copyright (C) 2003  Free Software Foundation, Inc.
  
! # This program is free software; you can redistribute it and/or modify
! # it under the terms of the GNU General Public License as published by
! # the Free Software Foundation; either version 2, or (at your option)
! # any later version.
  
! # This program is distributed in the hope that it will be useful,
! # but WITHOUT ANY WARRANTY; without even the implied warranty of
! # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
! # GNU General Public License for more details.
  
! # You should have received a copy of the GNU General Public License
! # along with this program; if not, write to the Free Software
! # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
! # 02111-1307, USA.
  
! # serial 1
  
! # Check whether the underlying file-system supports filenames
! # with a leading dot.  For instance MS-DOS doesn't.
! AC_DEFUN([AM_SET_LEADING_DOT],
! [rm -rf .tst 2>/dev/null
! mkdir .tst 2>/dev/null
! if test -d .tst; then
!   am__leading_dot=.
! else
!   am__leading_dot=_
! fi
! rmdir .tst 2>/dev/null
! AC_SUBST([am__leading_dot])])
  
! # serial 5						-*- Autoconf -*-
  
! # Copyright (C) 1999, 2000, 2001, 2002, 2003  Free Software Foundation, Inc.
  
! # This program is free software; you can redistribute it and/or modify
! # it under the terms of the GNU General Public License as published by
! # the Free Software Foundation; either version 2, or (at your option)
! # any later version.
  
! # This program is distributed in the hope that it will be useful,
! # but WITHOUT ANY WARRANTY; without even the implied warranty of
! # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
! # GNU General Public License for more details.
  
! # You should have received a copy of the GNU General Public License
! # along with this program; if not, write to the Free Software
! # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
! # 02111-1307, USA.
  
  
! # There are a few dirty hacks below to avoid letting `AC_PROG_CC' be
! # written in clear, in which case automake, when reading aclocal.m4,
! # will think it sees a *use*, and therefore will trigger all it's
! # C support machinery.  Also note that it means that autoscan, seeing
! # CC etc. in the Makefile, will ask for an AC_PROG_CC use...
  
  
  
! # _AM_DEPENDENCIES(NAME)
! # ----------------------
! # See how the compiler implements dependency checking.
! # NAME is "CC", "CXX", "GCJ", or "OBJC".
! # We try a few techniques and use that to set a single cache variable.
! #
! # We don't AC_REQUIRE the corresponding AC_PROG_CC since the latter was
! # modified to invoke _AM_DEPENDENCIES(CC); we would have a circular
! # dependency, and given that the user is not expected to run this macro,
! # just rely on AC_PROG_CC.
! AC_DEFUN([_AM_DEPENDENCIES],
! [AC_REQUIRE([AM_SET_DEPDIR])dnl
! AC_REQUIRE([AM_OUTPUT_DEPENDENCY_COMMANDS])dnl
! AC_REQUIRE([AM_MAKE_INCLUDE])dnl
! AC_REQUIRE([AM_DEP_TRACK])dnl
  
! ifelse([$1], CC,   [depcc="$CC"   am_compiler_list=],
!        [$1], CXX,  [depcc="$CXX"  am_compiler_list=],
!        [$1], OBJC, [depcc="$OBJC" am_compiler_list='gcc3 gcc'],
!        [$1], GCJ,  [depcc="$GCJ"  am_compiler_list='gcc3 gcc'],
!                    [depcc="$$1"   am_compiler_list=])
  
! AC_CACHE_CHECK([dependency style of $depcc],
!                [am_cv_$1_dependencies_compiler_type],
! [if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
!   # We make a subdir and do the tests there.  Otherwise we can end up
!   # making bogus files that we don't know about and never remove.  For
!   # instance it was reported that on HP-UX the gcc test will end up
!   # making a dummy file named `D' -- because `-MD' means `put the output
!   # in D'.
!   mkdir conftest.dir
!   # Copy depcomp to subdir because otherwise we won't find it if we're
!   # using a relative directory.
!   cp "$am_depcomp" conftest.dir
!   cd conftest.dir
  
!   am_cv_$1_dependencies_compiler_type=none
!   if test "$am_compiler_list" = ""; then
!      am_compiler_list=`sed -n ['s/^#*\([a-zA-Z0-9]*\))$/\1/p'] < ./depcomp`
!   fi
!   for depmode in $am_compiler_list; do
!     # We need to recreate these files for each test, as the compiler may
!     # overwrite some of them when testing with obscure command lines.
!     # This happens at least with the AIX C compiler.
!     echo '#include "conftest.h"' > conftest.c
!     echo 'int i;' > conftest.h
!     echo "${am__include} ${am__quote}conftest.Po${am__quote}" > confmf
  
!     case $depmode in
!     nosideeffect)
!       # after this tag, mechanisms are not by side-effect, so they'll
!       # only be used when explicitly requested
!       if test "x$enable_dependency_tracking" = xyes; then
! 	continue
!       else
! 	break
!       fi
!       ;;
!     none) break ;;
!     esac
!     # We check with `-c' and `-o' for the sake of the "dashmstdout"
!     # mode.  It turns out that the SunPro C++ compiler does not properly
!     # handle `-M -o', and we need to detect this.
!     if depmode=$depmode \
!        source=conftest.c object=conftest.o \
!        depfile=conftest.Po tmpdepfile=conftest.TPo \
!        $SHELL ./depcomp $depcc -c -o conftest.o conftest.c \
!          >/dev/null 2>conftest.err &&
!        grep conftest.h conftest.Po > /dev/null 2>&1 &&
!        ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
!       # icc doesn't choke on unknown options, it will just issue warnings
!       # (even with -Werror).  So we grep stderr for any message
!       # that says an option was ignored.
!       if grep 'ignoring option' conftest.err >/dev/null 2>&1; then :; else
!         am_cv_$1_dependencies_compiler_type=$depmode
!         break
!       fi
!     fi
!   done
  
!   cd ..
!   rm -rf conftest.dir
! else
!   am_cv_$1_dependencies_compiler_type=none
! fi
! ])
! AC_SUBST([$1DEPMODE], [depmode=$am_cv_$1_dependencies_compiler_type])
! AM_CONDITIONAL([am__fastdep$1], [
!   test "x$enable_dependency_tracking" != xno \
!   && test "$am_cv_$1_dependencies_compiler_type" = gcc3])
! ])
  
  
! # AM_SET_DEPDIR
! # -------------
! # Choose a directory name for dependency files.
! # This macro is AC_REQUIREd in _AM_DEPENDENCIES
! AC_DEFUN([AM_SET_DEPDIR],
! [AC_REQUIRE([AM_SET_LEADING_DOT])dnl
! AC_SUBST([DEPDIR], ["${am__leading_dot}deps"])dnl
! ])
  
  
! # AM_DEP_TRACK
! # ------------
! AC_DEFUN([AM_DEP_TRACK],
! [AC_ARG_ENABLE(dependency-tracking,
! [  --disable-dependency-tracking Speeds up one-time builds
!   --enable-dependency-tracking  Do not reject slow dependency extractors])
! if test "x$enable_dependency_tracking" != xno; then
!   am_depcomp="$ac_aux_dir/depcomp"
!   AMDEPBACKSLASH='\'
  fi
- AM_CONDITIONAL([AMDEP], [test "x$enable_dependency_tracking" != xno])
- AC_SUBST([AMDEPBACKSLASH])
- ])
  
! # Generate code to set up dependency tracking.   -*- Autoconf -*-
  
! # Copyright 1999, 2000, 2001, 2002 Free Software Foundation, Inc.
  
- # This program is free software; you can redistribute it and/or modify
- # it under the terms of the GNU General Public License as published by
- # the Free Software Foundation; either version 2, or (at your option)
- # any later version.
  
! # This program is distributed in the hope that it will be useful,
! # but WITHOUT ANY WARRANTY; without even the implied warranty of
! # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
! # GNU General Public License for more details.
  
! # You should have received a copy of the GNU General Public License
! # along with this program; if not, write to the Free Software
! # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
! # 02111-1307, USA.
  
! #serial 2
  
! # _AM_OUTPUT_DEPENDENCY_COMMANDS
! # ------------------------------
! AC_DEFUN([_AM_OUTPUT_DEPENDENCY_COMMANDS],
! [for mf in $CONFIG_FILES; do
!   # Strip MF so we end up with the name of the file.
!   mf=`echo "$mf" | sed -e 's/:.*$//'`
!   # Check whether this is an Automake generated Makefile or not.
!   # We used to match only the files named `Makefile.in', but
!   # some people rename them; so instead we look at the file content.
!   # Grep'ing the first line is not enough: some people post-process
!   # each Makefile.in and add a new line on top of each file to say so.
!   # So let's grep whole file.
!   if grep '^#.*generated by automake' $mf > /dev/null 2>&1; then
!     dirpart=`AS_DIRNAME("$mf")`
    else
!     continue
!   fi
!   grep '^DEP_FILES *= *[[^ @%:@]]' < "$mf" > /dev/null || continue
!   # Extract the definition of DEP_FILES from the Makefile without
!   # running `make'.
!   DEPDIR=`sed -n -e '/^DEPDIR = / s///p' < "$mf"`
!   test -z "$DEPDIR" && continue
!   # When using ansi2knr, U may be empty or an underscore; expand it
!   U=`sed -n -e '/^U = / s///p' < "$mf"`
!   test -d "$dirpart/$DEPDIR" || mkdir "$dirpart/$DEPDIR"
!   # We invoke sed twice because it is the simplest approach to
!   # changing $(DEPDIR) to its actual value in the expansion.
!   for file in `sed -n -e '
!     /^DEP_FILES = .*\\\\$/ {
!       s/^DEP_FILES = //
!       :loop
! 	s/\\\\$//
! 	p
! 	n
! 	/\\\\$/ b loop
!       p
!     }
!     /^DEP_FILES = / s/^DEP_FILES = //p' < "$mf" | \
!        sed -e 's/\$(DEPDIR)/'"$DEPDIR"'/g' -e 's/\$U/'"$U"'/g'`; do
!     # Make sure the directory exists.
!     test -f "$dirpart/$file" && continue
!     fdir=`AS_DIRNAME(["$file"])`
!     AS_MKDIR_P([$dirpart/$fdir])
!     # echo "creating $dirpart/$file"
!     echo '# dummy' > "$dirpart/$file"
!   done
! done
! ])# _AM_OUTPUT_DEPENDENCY_COMMANDS
  
  
! # AM_OUTPUT_DEPENDENCY_COMMANDS
! # -----------------------------
! # This macro should only be invoked once -- use via AC_REQUIRE.
! #
! # This code is only required when automatic dependency tracking
! # is enabled.  FIXME.  This creates each `.P' file that we will
! # need in order to bootstrap the dependency handling code.
! AC_DEFUN([AM_OUTPUT_DEPENDENCY_COMMANDS],
! [AC_CONFIG_COMMANDS([depfiles],
!      [test x"$AMDEP_TRUE" != x"" || _AM_OUTPUT_DEPENDENCY_COMMANDS],
!      [AMDEP_TRUE="$AMDEP_TRUE" ac_aux_dir="$ac_aux_dir"])
! ])
  
! # Check to see how 'make' treats includes.	-*- Autoconf -*-
  
! # Copyright (C) 2001, 2002 Free Software Foundation, Inc.
  
! # This program is free software; you can redistribute it and/or modify
! # it under the terms of the GNU General Public License as published by
! # the Free Software Foundation; either version 2, or (at your option)
! # any later version.
  
! # This program is distributed in the hope that it will be useful,
! # but WITHOUT ANY WARRANTY; without even the implied warranty of
! # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
! # GNU General Public License for more details.
  
! # You should have received a copy of the GNU General Public License
! # along with this program; if not, write to the Free Software
! # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
! # 02111-1307, USA.
  
! # serial 2
  
! # AM_MAKE_INCLUDE()
! # -----------------
! # Check to see how make treats includes.
! AC_DEFUN([AM_MAKE_INCLUDE],
! [am_make=${MAKE-make}
! cat > confinc << 'END'
! doit:
! 	@echo done
! END
! # If we don't find an include directive, just comment out the code.
! AC_MSG_CHECKING([for style of include used by $am_make])
! am__include="#"
! am__quote=
! _am_result=none
! # First try GNU make style include.
! echo "include confinc" > confmf
! # We grep out `Entering directory' and `Leaving directory'
! # messages which can occur if `w' ends up in MAKEFLAGS.
! # In particular we don't look at `^make:' because GNU make might
! # be invoked under some other name (usually "gmake"), in which
! # case it prints its new name instead of `make'.
! if test "`$am_make -s -f confmf 2> /dev/null | grep -v 'ing directory'`" = "done"; then
!    am__include=include
!    am__quote=
!    _am_result=GNU
! fi
! # Now try BSD make style include.
! if test "$am__include" = "#"; then
!    echo '.include "confinc"' > confmf
!    if test "`$am_make -s -f confmf 2> /dev/null`" = "done"; then
!       am__include=.include
!       am__quote="\""
!       _am_result=BSD
!    fi
! fi
! AC_SUBST(am__include)
! AC_SUBST(am__quote)
! AC_MSG_RESULT($_am_result)
! rm -f confinc confmf
! ])
! 
! # AM_CONDITIONAL                                              -*- Autoconf -*-
! 
! # Copyright 1997, 2000, 2001 Free Software Foundation, Inc.
  
! # This program is free software; you can redistribute it and/or modify
! # it under the terms of the GNU General Public License as published by
! # the Free Software Foundation; either version 2, or (at your option)
! # any later version.
  
! # This program is distributed in the hope that it will be useful,
! # but WITHOUT ANY WARRANTY; without even the implied warranty of
! # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
! # GNU General Public License for more details.
  
! # You should have received a copy of the GNU General Public License
! # along with this program; if not, write to the Free Software
! # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
! # 02111-1307, USA.
  
! # serial 5
  
! AC_PREREQ(2.52)
  
! # AM_CONDITIONAL(NAME, SHELL-CONDITION)
! # -------------------------------------
! # Define a conditional.
! AC_DEFUN([AM_CONDITIONAL],
! [ifelse([$1], [TRUE],  [AC_FATAL([$0: invalid condition: $1])],
!         [$1], [FALSE], [AC_FATAL([$0: invalid condition: $1])])dnl
! AC_SUBST([$1_TRUE])
! AC_SUBST([$1_FALSE])
! if $2; then
!   $1_TRUE=
!   $1_FALSE='#'
! else
!   $1_TRUE='#'
!   $1_FALSE=
  fi
- AC_CONFIG_COMMANDS_PRE(
- [if test -z "${$1_TRUE}" && test -z "${$1_FALSE}"; then
-   AC_MSG_ERROR([conditional "$1" was never defined.
- Usually this means the macro was only invoked conditionally.])
- fi])])
- 
- # Like AC_CONFIG_HEADER, but automatically create stamp file. -*- Autoconf -*-
  
! # Copyright 1996, 1997, 2000, 2001 Free Software Foundation, Inc.
  
! # This program is free software; you can redistribute it and/or modify
! # it under the terms of the GNU General Public License as published by
! # the Free Software Foundation; either version 2, or (at your option)
! # any later version.
  
! # This program is distributed in the hope that it will be useful,
! # but WITHOUT ANY WARRANTY; without even the implied warranty of
! # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
! # GNU General Public License for more details.
  
! # You should have received a copy of the GNU General Public License
! # along with this program; if not, write to the Free Software
! # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
! # 02111-1307, USA.
  
- AC_PREREQ([2.52])
  
! # serial 6
  
! # AM_CONFIG_HEADER is obsolete.  It has been replaced by AC_CONFIG_HEADERS.
! AU_DEFUN([AM_CONFIG_HEADER], [AC_CONFIG_HEADERS($@)])
  
! # libtool.m4 - Configure libtool for the host system. -*-Shell-script-*-
  
! # serial 46 AC_PROG_LIBTOOL
  
! AC_DEFUN([AC_PROG_LIBTOOL],
! [AC_REQUIRE([AC_LIBTOOL_SETUP])dnl
  
! # This can be used to rebuild libtool when needed
! LIBTOOL_DEPS="$ac_aux_dir/ltmain.sh"
  
! # Always use our own libtool.
! LIBTOOL='$(SHELL) $(top_builddir)/libtool'
! AC_SUBST(LIBTOOL)dnl
! 
! # Prevent multiple expansion
! define([AC_PROG_LIBTOOL], [])
! ])
! 
! AC_DEFUN([AC_LIBTOOL_SETUP],
! [AC_PREREQ(2.13)dnl
! AC_REQUIRE([AC_ENABLE_SHARED])dnl
! AC_REQUIRE([AC_ENABLE_STATIC])dnl
! AC_REQUIRE([AC_ENABLE_FAST_INSTALL])dnl
! AC_REQUIRE([AC_CANONICAL_HOST])dnl
! AC_REQUIRE([AC_CANONICAL_BUILD])dnl
! AC_REQUIRE([AC_PROG_CC])dnl
! AC_REQUIRE([AC_PROG_LD])dnl
! AC_REQUIRE([AC_PROG_LD_RELOAD_FLAG])dnl
! AC_REQUIRE([AC_PROG_NM])dnl
! AC_REQUIRE([LT_AC_PROG_SED])dnl
! 
! AC_REQUIRE([AC_PROG_LN_S])dnl
! AC_REQUIRE([AC_DEPLIBS_CHECK_METHOD])dnl
! AC_REQUIRE([AC_OBJEXT])dnl
! AC_REQUIRE([AC_EXEEXT])dnl
! dnl
  
! _LT_AC_PROG_ECHO_BACKSLASH
! # Only perform the check for file, if the check method requires it
! case $deplibs_check_method in
! file_magic*)
!   if test "$file_magic_cmd" = '$MAGIC_CMD'; then
!     AC_PATH_MAGIC
    fi
    ;;
  esac
  
! AC_CHECK_TOOL(RANLIB, ranlib, :)
! AC_CHECK_TOOL(STRIP, strip, :)
  
! ifdef([AC_PROVIDE_AC_LIBTOOL_DLOPEN], enable_dlopen=yes, enable_dlopen=no)
! ifdef([AC_PROVIDE_AC_LIBTOOL_WIN32_DLL],
! enable_win32_dll=yes, enable_win32_dll=no)
  
! AC_ARG_ENABLE(libtool-lock,
!   [  --disable-libtool-lock  avoid locking (might break parallel builds)])
! test "x$enable_libtool_lock" != xno && enable_libtool_lock=yes
  
! # Some flags need to be propagated to the compiler or linker for good
! # libtool support.
! case $host in
! *-*-irix6*)
!   # Find out which ABI we are using.
!   echo '[#]line __oline__ "configure"' > conftest.$ac_ext
!   if AC_TRY_EVAL(ac_compile); then
!     case `/usr/bin/file conftest.$ac_objext` in
!     *32-bit*)
!       LD="${LD-ld} -32"
!       ;;
!     *N32*)
!       LD="${LD-ld} -n32"
!       ;;
!     *64-bit*)
!       LD="${LD-ld} -64"
!       ;;
!     esac
!   fi
!   rm -rf conftest*
!   ;;
  
! *-*-sco3.2v5*)
!   # On SCO OpenServer 5, we need -belf to get full-featured binaries.
!   SAVE_CFLAGS="$CFLAGS"
!   CFLAGS="$CFLAGS -belf"
!   AC_CACHE_CHECK([whether the C compiler needs -belf], lt_cv_cc_needs_belf,
!     [AC_LANG_SAVE
!      AC_LANG_C
!      AC_TRY_LINK([],[],[lt_cv_cc_needs_belf=yes],[lt_cv_cc_needs_belf=no])
!      AC_LANG_RESTORE])
!   if test x"$lt_cv_cc_needs_belf" != x"yes"; then
!     # this is probably gcc 2.8.0, egcs 1.0 or newer; no need for -belf
!     CFLAGS="$SAVE_CFLAGS"
!   fi
!   ;;
  
! ifdef([AC_PROVIDE_AC_LIBTOOL_WIN32_DLL],
! [*-*-cygwin* | *-*-mingw* | *-*-pw32*)
!   AC_CHECK_TOOL(DLLTOOL, dlltool, false)
!   AC_CHECK_TOOL(AS, as, false)
!   AC_CHECK_TOOL(OBJDUMP, objdump, false)
  
!   # recent cygwin and mingw systems supply a stub DllMain which the user
!   # can override, but on older systems we have to supply one
!   AC_CACHE_CHECK([if libtool should supply DllMain function], lt_cv_need_dllmain,
!     [AC_TRY_LINK([],
!       [extern int __attribute__((__stdcall__)) DllMain(void*, int, void*);
!       DllMain (0, 0, 0);],
!       [lt_cv_need_dllmain=no],[lt_cv_need_dllmain=yes])])
  
!   case $host/$CC in
!   *-*-cygwin*/gcc*-mno-cygwin*|*-*-mingw*)
!     # old mingw systems require "-dll" to link a DLL, while more recent ones
!     # require "-mdll"
!     SAVE_CFLAGS="$CFLAGS"
!     CFLAGS="$CFLAGS -mdll"
!     AC_CACHE_CHECK([how to link DLLs], lt_cv_cc_dll_switch,
!       [AC_TRY_LINK([], [], [lt_cv_cc_dll_switch=-mdll],[lt_cv_cc_dll_switch=-dll])])
!     CFLAGS="$SAVE_CFLAGS" ;;
!   *-*-cygwin* | *-*-pw32*)
!     # cygwin systems need to pass --dll to the linker, and not link
!     # crt.o which will require a WinMain@16 definition.
!     lt_cv_cc_dll_switch="-Wl,--dll -nostartfiles" ;;
!   esac
!   ;;
!   ])
! esac
  
! _LT_AC_LTCONFIG_HACK
  
! ])
  
! # AC_LIBTOOL_HEADER_ASSERT
! # ------------------------
! AC_DEFUN([AC_LIBTOOL_HEADER_ASSERT],
! [AC_CACHE_CHECK([whether $CC supports assert without backlinking],
!     [lt_cv_func_assert_works],
!     [case $host in
!     *-*-solaris*)
!       if test "$GCC" = yes && test "$with_gnu_ld" != yes; then
!         case `$CC --version 2>/dev/null` in
!         [[12]].*) lt_cv_func_assert_works=no ;;
!         *)        lt_cv_func_assert_works=yes ;;
!         esac
!       fi
        ;;
!     esac])
  
! if test "x$lt_cv_func_assert_works" = xyes; then
!   AC_CHECK_HEADERS(assert.h)
! fi
! ])# AC_LIBTOOL_HEADER_ASSERT
  
! # _LT_AC_CHECK_DLFCN
! # --------------------
! AC_DEFUN([_LT_AC_CHECK_DLFCN],
! [AC_CHECK_HEADERS(dlfcn.h)
! ])# _LT_AC_CHECK_DLFCN
  
! # AC_LIBTOOL_SYS_GLOBAL_SYMBOL_PIPE
! # ---------------------------------
! AC_DEFUN([AC_LIBTOOL_SYS_GLOBAL_SYMBOL_PIPE],
! [AC_REQUIRE([AC_CANONICAL_HOST])
! AC_REQUIRE([AC_PROG_NM])
! AC_REQUIRE([AC_OBJEXT])
! # Check for command to grab the raw symbol name followed by C symbol from nm.
! AC_MSG_CHECKING([command to parse $NM output])
! AC_CACHE_VAL([lt_cv_sys_global_symbol_pipe], [dnl
  
! # These are sane defaults that work on at least a few old systems.
! # [They come from Ultrix.  What could be older than Ultrix?!! ;)]
  
! # Character class describing NM global symbol codes.
! symcode='[[BCDEGRST]]'
  
! # Regexp to match symbols that can be accessed directly from C.
! sympat='\([[_A-Za-z]][[_A-Za-z0-9]]*\)'
  
! # Transform the above into a raw symbol and a C symbol.
! symxfrm='\1 \2\3 \3'
  
! # Transform an extracted symbol line into a proper C declaration
! lt_cv_global_symbol_to_cdecl="sed -n -e 's/^. .* \(.*\)$/extern char \1;/p'"
  
! # Transform an extracted symbol line into symbol name and symbol address
! lt_cv_global_symbol_to_c_name_address="sed -n -e 's/^: \([[^ ]]*\) $/  {\\\"\1\\\", (lt_ptr) 0},/p' -e 's/^$symcode \([[^ ]]*\) \([[^ ]]*\)$/  {\"\2\", (lt_ptr) \&\2},/p'"
  
! # Define system-specific variables.
! case $host_os in
! aix*)
!   symcode='[[BCDT]]'
!   ;;
! cygwin* | mingw* | pw32*)
!   symcode='[[ABCDGISTW]]'
!   ;;
! hpux*) # Its linker distinguishes data from code symbols
!   lt_cv_global_symbol_to_cdecl="sed -n -e 's/^T .* \(.*\)$/extern char \1();/p' -e 's/^$symcode* .* \(.*\)$/extern char \1;/p'"
!   lt_cv_global_symbol_to_c_name_address="sed -n -e 's/^: \([[^ ]]*\) $/  {\\\"\1\\\", (lt_ptr) 0},/p' -e 's/^$symcode* \([[^ ]]*\) \([[^ ]]*\)$/  {\"\2\", (lt_ptr) \&\2},/p'"
!   ;;
! irix* | nonstopux*)
!   symcode='[[BCDEGRST]]'
!   ;;
! osf*)
!   symcode='[[BCDEGQRST]]'
!   ;;
! solaris* | sysv5*)
!   symcode='[[BDT]]'
!   ;;
! sysv4)
!   symcode='[[DFNSTU]]'
!   ;;
! esac
  
! # Handle CRLF in mingw tool chain
! opt_cr=
! case $host_os in
! mingw*)
!   opt_cr=`echo 'x\{0,1\}' | tr x '\015'` # option cr in regexp
!   ;;
! esac
  
! # If we're using GNU nm, then use its standard symbol codes.
! if $NM -V 2>&1 | egrep '(GNU|with BFD)' > /dev/null; then
!   symcode='[[ABCDGISTW]]'
! fi
  
! # Try without a prefix undercore, then with it.
! for ac_symprfx in "" "_"; do
  
!   # Write the raw and C identifiers.
! lt_cv_sys_global_symbol_pipe="sed -n -e 's/^.*[[ 	]]\($symcode$symcode*\)[[ 	]][[ 	]]*\($ac_symprfx\)$sympat$opt_cr$/$symxfrm/p'"
  
!   # Check to see that the pipe works correctly.
!   pipe_works=no
!   rm -f conftest*
!   cat > conftest.$ac_ext <<EOF
! #ifdef __cplusplus
! extern "C" {
! #endif
! char nm_test_var;
! void nm_test_func(){}
! #ifdef __cplusplus
! }
! #endif
! int main(){nm_test_var='a';nm_test_func();return(0);}
! EOF
  
!   if AC_TRY_EVAL(ac_compile); then
!     # Now try to grab the symbols.
!     nlist=conftest.nm
!     if AC_TRY_EVAL(NM conftest.$ac_objext \| $lt_cv_sys_global_symbol_pipe \> $nlist) && test -s "$nlist"; then
!       # Try sorting and uniquifying the output.
!       if sort "$nlist" | uniq > "$nlist"T; then
! 	mv -f "$nlist"T "$nlist"
        else
! 	rm -f "$nlist"T
        fi
! 
!       # Make sure that we snagged all the symbols we need.
!       if egrep ' nm_test_var$' "$nlist" >/dev/null; then
! 	if egrep ' nm_test_func$' "$nlist" >/dev/null; then
! 	  cat <<EOF > conftest.$ac_ext
! #ifdef __cplusplus
! extern "C" {
! #endif
! 
! EOF
! 	  # Now generate the symbol file.
! 	  eval "$lt_cv_global_symbol_to_cdecl"' < "$nlist" >> conftest.$ac_ext'
! 
! 	  cat <<EOF >> conftest.$ac_ext
! #if defined (__STDC__) && __STDC__
! # define lt_ptr void *
! #else
! # define lt_ptr char *
! # define const
! #endif
! 
! /* The mapping between symbol names and symbols. */
! const struct {
!   const char *name;
!   lt_ptr address;
! }
! lt_preloaded_symbols[[]] =
! {
! EOF
! 	  sed "s/^$symcode$symcode* \(.*\) \(.*\)$/  {\"\2\", (lt_ptr) \&\2},/" < "$nlist" >> conftest.$ac_ext
! 	  cat <<\EOF >> conftest.$ac_ext
!   {0, (lt_ptr) 0}
! };
! 
! #ifdef __cplusplus
! }
! #endif
! EOF
! 	  # Now try linking the two files.
! 	  mv conftest.$ac_objext conftstm.$ac_objext
! 	  save_LIBS="$LIBS"
! 	  save_CFLAGS="$CFLAGS"
! 	  LIBS="conftstm.$ac_objext"
! 	  CFLAGS="$CFLAGS$no_builtin_flag"
! 	  if AC_TRY_EVAL(ac_link) && test -s conftest$ac_exeext; then
! 	    pipe_works=yes
! 	  fi
! 	  LIBS="$save_LIBS"
! 	  CFLAGS="$save_CFLAGS"
! 	else
! 	  echo "cannot find nm_test_func in $nlist" >&AC_FD_CC
! 	fi
!       else
! 	echo "cannot find nm_test_var in $nlist" >&AC_FD_CC
!       fi
!     else
!       echo "cannot run $lt_cv_sys_global_symbol_pipe" >&AC_FD_CC
!     fi
!   else
!     echo "$progname: failed program was:" >&AC_FD_CC
!     cat conftest.$ac_ext >&5
!   fi
!   rm -f conftest* conftst*
! 
!   # Do not use the global_symbol_pipe unless it works.
!   if test "$pipe_works" = yes; then
!     break
!   else
!     lt_cv_sys_global_symbol_pipe=
!   fi
! done
! ])
! global_symbol_pipe="$lt_cv_sys_global_symbol_pipe"
! if test -z "$lt_cv_sys_global_symbol_pipe"; then
!   global_symbol_to_cdecl=
!   global_symbol_to_c_name_address=
! else
!   global_symbol_to_cdecl="$lt_cv_global_symbol_to_cdecl"
!   global_symbol_to_c_name_address="$lt_cv_global_symbol_to_c_name_address"
! fi
! if test -z "$global_symbol_pipe$global_symbol_to_cdec$global_symbol_to_c_name_address";
! then
!   AC_MSG_RESULT(failed)
! else
!   AC_MSG_RESULT(ok)
! fi
! ]) # AC_LIBTOOL_SYS_GLOBAL_SYMBOL_PIPE
! 
! # _LT_AC_LIBTOOL_SYS_PATH_SEPARATOR
! # ---------------------------------
! AC_DEFUN([_LT_AC_LIBTOOL_SYS_PATH_SEPARATOR],
! [# Find the correct PATH separator.  Usually this is `:', but
! # DJGPP uses `;' like DOS.
! if test "X${PATH_SEPARATOR+set}" != Xset; then
!   UNAME=${UNAME-`uname 2>/dev/null`}
!   case X$UNAME in
!     *-DOS) lt_cv_sys_path_separator=';' ;;
!     *)     lt_cv_sys_path_separator=':' ;;
!   esac
!   PATH_SEPARATOR=$lt_cv_sys_path_separator
! fi
! ])# _LT_AC_LIBTOOL_SYS_PATH_SEPARATOR
! 
! # _LT_AC_PROG_ECHO_BACKSLASH
! # --------------------------
! # Add some code to the start of the generated configure script which
! # will find an echo command which doesn't interpret backslashes.
! AC_DEFUN([_LT_AC_PROG_ECHO_BACKSLASH],
! [ifdef([AC_DIVERSION_NOTICE], [AC_DIVERT_PUSH(AC_DIVERSION_NOTICE)],
! 			      [AC_DIVERT_PUSH(NOTICE)])
! _LT_AC_LIBTOOL_SYS_PATH_SEPARATOR
! 
! # Check that we are running under the correct shell.
! SHELL=${CONFIG_SHELL-/bin/sh}
! 
! case X$ECHO in
! X*--fallback-echo)
!   # Remove one level of quotation (which was required for Make).
!   ECHO=`echo "$ECHO" | sed 's,\\\\\[$]\\[$]0,'[$]0','`
!   ;;
! esac
! 
! echo=${ECHO-echo}
! if test "X[$]1" = X--no-reexec; then
!   # Discard the --no-reexec flag, and continue.
!   shift
! elif test "X[$]1" = X--fallback-echo; then
!   # Avoid inline document here, it may be left over
!   :
! elif test "X`($echo '\t') 2>/dev/null`" = 'X\t'; then
!   # Yippee, $echo works!
!   :
! else
!   # Restart under the correct shell.
!   exec $SHELL "[$]0" --no-reexec ${1+"[$]@"}
! fi
! 
! if test "X[$]1" = X--fallback-echo; then
!   # used as fallback echo
!   shift
!   cat <<EOF
! $*
! EOF
!   exit 0
! fi
! 
! # The HP-UX ksh and POSIX shell print the target directory to stdout
! # if CDPATH is set.
! if test "X${CDPATH+set}" = Xset; then CDPATH=:; export CDPATH; fi
! 
! if test -z "$ECHO"; then
! if test "X${echo_test_string+set}" != Xset; then
! # find a string as large as possible, as long as the shell can cope with it
!   for cmd in 'sed 50q "[$]0"' 'sed 20q "[$]0"' 'sed 10q "[$]0"' 'sed 2q "[$]0"' 'echo test'; do
!     # expected sizes: less than 2Kb, 1Kb, 512 bytes, 16 bytes, ...
!     if (echo_test_string="`eval $cmd`") 2>/dev/null &&
!        echo_test_string="`eval $cmd`" &&
!        (test "X$echo_test_string" = "X$echo_test_string") 2>/dev/null
!     then
!       break
!     fi
!   done
! fi
! 
! if test "X`($echo '\t') 2>/dev/null`" = 'X\t' &&
!    echo_testing_string=`($echo "$echo_test_string") 2>/dev/null` &&
!    test "X$echo_testing_string" = "X$echo_test_string"; then
!   :
! else
!   # The Solaris, AIX, and Digital Unix default echo programs unquote
!   # backslashes.  This makes it impossible to quote backslashes using
!   #   echo "$something" | sed 's/\\/\\\\/g'
!   #
!   # So, first we look for a working echo in the user's PATH.
! 
!   IFS="${IFS= 	}"; save_ifs="$IFS"; IFS=$PATH_SEPARATOR
!   for dir in $PATH /usr/ucb; do
!     if (test -f $dir/echo || test -f $dir/echo$ac_exeext) &&
!        test "X`($dir/echo '\t') 2>/dev/null`" = 'X\t' &&
!        echo_testing_string=`($dir/echo "$echo_test_string") 2>/dev/null` &&
!        test "X$echo_testing_string" = "X$echo_test_string"; then
!       echo="$dir/echo"
!       break
!     fi
!   done
!   IFS="$save_ifs"
! 
!   if test "X$echo" = Xecho; then
!     # We didn't find a better echo, so look for alternatives.
!     if test "X`(print -r '\t') 2>/dev/null`" = 'X\t' &&
!        echo_testing_string=`(print -r "$echo_test_string") 2>/dev/null` &&
!        test "X$echo_testing_string" = "X$echo_test_string"; then
!       # This shell has a builtin print -r that does the trick.
!       echo='print -r'
!     elif (test -f /bin/ksh || test -f /bin/ksh$ac_exeext) &&
! 	 test "X$CONFIG_SHELL" != X/bin/ksh; then
!       # If we have ksh, try running configure again with it.
!       ORIGINAL_CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}
!       export ORIGINAL_CONFIG_SHELL
!       CONFIG_SHELL=/bin/ksh
!       export CONFIG_SHELL
!       exec $CONFIG_SHELL "[$]0" --no-reexec ${1+"[$]@"}
!     else
!       # Try using printf.
!       echo='printf %s\n'
!       if test "X`($echo '\t') 2>/dev/null`" = 'X\t' &&
! 	 echo_testing_string=`($echo "$echo_test_string") 2>/dev/null` &&
! 	 test "X$echo_testing_string" = "X$echo_test_string"; then
! 	# Cool, printf works
! 	:
!       elif echo_testing_string=`($ORIGINAL_CONFIG_SHELL "[$]0" --fallback-echo '\t') 2>/dev/null` &&
! 	   test "X$echo_testing_string" = 'X\t' &&
! 	   echo_testing_string=`($ORIGINAL_CONFIG_SHELL "[$]0" --fallback-echo "$echo_test_string") 2>/dev/null` &&
! 	   test "X$echo_testing_string" = "X$echo_test_string"; then
! 	CONFIG_SHELL=$ORIGINAL_CONFIG_SHELL
! 	export CONFIG_SHELL
! 	SHELL="$CONFIG_SHELL"
! 	export SHELL
! 	echo="$CONFIG_SHELL [$]0 --fallback-echo"
!       elif echo_testing_string=`($CONFIG_SHELL "[$]0" --fallback-echo '\t') 2>/dev/null` &&
! 	   test "X$echo_testing_string" = 'X\t' &&
! 	   echo_testing_string=`($CONFIG_SHELL "[$]0" --fallback-echo "$echo_test_string") 2>/dev/null` &&
! 	   test "X$echo_testing_string" = "X$echo_test_string"; then
! 	echo="$CONFIG_SHELL [$]0 --fallback-echo"
!       else
! 	# maybe with a smaller string...
! 	prev=:
! 
! 	for cmd in 'echo test' 'sed 2q "[$]0"' 'sed 10q "[$]0"' 'sed 20q "[$]0"' 'sed 50q "[$]0"'; do
! 	  if (test "X$echo_test_string" = "X`eval $cmd`") 2>/dev/null
! 	  then
! 	    break
! 	  fi
! 	  prev="$cmd"
! 	done
! 
! 	if test "$prev" != 'sed 50q "[$]0"'; then
! 	  echo_test_string=`eval $prev`
! 	  export echo_test_string
! 	  exec ${ORIGINAL_CONFIG_SHELL-${CONFIG_SHELL-/bin/sh}} "[$]0" ${1+"[$]@"}
! 	else
! 	  # Oops.  We lost completely, so just stick with echo.
! 	  echo=echo
! 	fi
!       fi
!     fi
!   fi
! fi
! fi
! 
! # Copy echo and quote the copy suitably for passing to libtool from
! # the Makefile, instead of quoting the original, which is used later.
! ECHO=$echo
! if test "X$ECHO" = "X$CONFIG_SHELL [$]0 --fallback-echo"; then
!    ECHO="$CONFIG_SHELL \\\$\[$]0 --fallback-echo"
! fi
! 
! AC_SUBST(ECHO)
! AC_DIVERT_POP
! ])# _LT_AC_PROG_ECHO_BACKSLASH
! 
! # _LT_AC_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
! #                           ACTION-IF-FALSE, ACTION-IF-CROSS-COMPILING)
! # ------------------------------------------------------------------
! AC_DEFUN([_LT_AC_TRY_DLOPEN_SELF],
! [if test "$cross_compiling" = yes; then :
!   [$4]
! else
!   AC_REQUIRE([_LT_AC_CHECK_DLFCN])dnl
!   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
!   lt_status=$lt_dlunknown
!   cat > conftest.$ac_ext <<EOF
! [#line __oline__ "configure"
! #include "confdefs.h"
! 
! #if HAVE_DLFCN_H
! #include <dlfcn.h>
! #endif
! 
! #include <stdio.h>
! 
! #ifdef RTLD_GLOBAL
! #  define LT_DLGLOBAL		RTLD_GLOBAL
! #else
! #  ifdef DL_GLOBAL
! #    define LT_DLGLOBAL		DL_GLOBAL
! #  else
! #    define LT_DLGLOBAL		0
! #  endif
! #endif
! 
! /* We may have to define LT_DLLAZY_OR_NOW in the command line if we
!    find out it does not work in some platform. */
! #ifndef LT_DLLAZY_OR_NOW
! #  ifdef RTLD_LAZY
! #    define LT_DLLAZY_OR_NOW		RTLD_LAZY
! #  else
! #    ifdef DL_LAZY
! #      define LT_DLLAZY_OR_NOW		DL_LAZY
! #    else
! #      ifdef RTLD_NOW
! #        define LT_DLLAZY_OR_NOW	RTLD_NOW
! #      else
! #        ifdef DL_NOW
! #          define LT_DLLAZY_OR_NOW	DL_NOW
! #        else
! #          define LT_DLLAZY_OR_NOW	0
! #        endif
! #      endif
! #    endif
! #  endif
! #endif
! 
! #ifdef __cplusplus
! extern "C" void exit (int);
! #endif
! 
! void fnord() { int i=42;}
! int main ()
! {
!   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
!   int status = $lt_dlunknown;
! 
!   if (self)
!     {
!       if (dlsym (self,"fnord"))       status = $lt_dlno_uscore;
!       else if (dlsym( self,"_fnord")) status = $lt_dlneed_uscore;
!       /* dlclose (self); */
!     }
! 
!     exit (status);
! }]
! EOF
!   if AC_TRY_EVAL(ac_link) && test -s conftest${ac_exeext} 2>/dev/null; then
!     (./conftest; exit; ) 2>/dev/null
!     lt_status=$?
!     case x$lt_status in
!       x$lt_dlno_uscore) $1 ;;
!       x$lt_dlneed_uscore) $2 ;;
!       x$lt_unknown|x*) $3 ;;
!     esac
!   else :
!     # compilation failed
!     $3
!   fi
! fi
! rm -fr conftest*
! ])# _LT_AC_TRY_DLOPEN_SELF
! 
! # AC_LIBTOOL_DLOPEN_SELF
! # -------------------
! AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF],
! [if test "x$enable_dlopen" != xyes; then
!   enable_dlopen=unknown
!   enable_dlopen_self=unknown
!   enable_dlopen_self_static=unknown
! else
!   lt_cv_dlopen=no
!   lt_cv_dlopen_libs=
! 
!   case $host_os in
!   beos*)
!     lt_cv_dlopen="load_add_on"
!     lt_cv_dlopen_libs=
!     lt_cv_dlopen_self=yes
!     ;;
! 
!   cygwin* | mingw* | pw32*)
!     lt_cv_dlopen="LoadLibrary"
!     lt_cv_dlopen_libs=
!    ;;
! 
!   *)
!     AC_CHECK_FUNC([shl_load],
!           [lt_cv_dlopen="shl_load"],
!       [AC_CHECK_LIB([dld], [shl_load],
!             [lt_cv_dlopen="shl_load" lt_cv_dlopen_libs="-dld"],
! 	[AC_CHECK_FUNC([dlopen],
! 	      [lt_cv_dlopen="dlopen"],
! 	  [AC_CHECK_LIB([dl], [dlopen],
! 	        [lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-ldl"],
! 	    [AC_CHECK_LIB([svld], [dlopen],
! 	          [lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-lsvld"],
! 	      [AC_CHECK_LIB([dld], [dld_link],
! 	            [lt_cv_dlopen="dld_link" lt_cv_dlopen_libs="-dld"])
! 	      ])
! 	    ])
! 	  ])
! 	])
!       ])
!     ;;
!   esac
! 
!   if test "x$lt_cv_dlopen" != xno; then
!     enable_dlopen=yes
!   else
!     enable_dlopen=no
!   fi
! 
!   case $lt_cv_dlopen in
!   dlopen)
!     save_CPPFLAGS="$CPPFLAGS"
!     AC_REQUIRE([_LT_AC_CHECK_DLFCN])dnl
!     test "x$ac_cv_header_dlfcn_h" = xyes && CPPFLAGS="$CPPFLAGS -DHAVE_DLFCN_H"
! 
!     save_LDFLAGS="$LDFLAGS"
!     eval LDFLAGS=\"\$LDFLAGS $export_dynamic_flag_spec\"
! 
!     save_LIBS="$LIBS"
!     LIBS="$lt_cv_dlopen_libs $LIBS"
! 
!     AC_CACHE_CHECK([whether a program can dlopen itself],
! 	  lt_cv_dlopen_self, [dnl
! 	  _LT_AC_TRY_DLOPEN_SELF(
! 	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
! 	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
!     ])
! 
!     if test "x$lt_cv_dlopen_self" = xyes; then
!       LDFLAGS="$LDFLAGS $link_static_flag"
!       AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
!     	  lt_cv_dlopen_self_static, [dnl
! 	  _LT_AC_TRY_DLOPEN_SELF(
! 	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
! 	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
!       ])
!     fi
! 
!     CPPFLAGS="$save_CPPFLAGS"
!     LDFLAGS="$save_LDFLAGS"
!     LIBS="$save_LIBS"
!     ;;
!   esac
! 
!   case $lt_cv_dlopen_self in
!   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
!   *) enable_dlopen_self=unknown ;;
!   esac
! 
!   case $lt_cv_dlopen_self_static in
!   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
!   *) enable_dlopen_self_static=unknown ;;
!   esac
! fi
! ])# AC_LIBTOOL_DLOPEN_SELF
! 
! AC_DEFUN([_LT_AC_LTCONFIG_HACK],
! [AC_REQUIRE([AC_LIBTOOL_SYS_GLOBAL_SYMBOL_PIPE])dnl
! # Sed substitution that helps us do robust quoting.  It backslashifies
! # metacharacters that are still active within double-quoted strings.
! Xsed='sed -e s/^X//'
! sed_quote_subst='s/\([[\\"\\`$\\\\]]\)/\\\1/g'
! 
! # Same as above, but do not quote variable references.
! double_quote_subst='s/\([[\\"\\`\\\\]]\)/\\\1/g'
! 
! # Sed substitution to delay expansion of an escaped shell variable in a
! # double_quote_subst'ed string.
! delay_variable_subst='s/\\\\\\\\\\\$/\\\\\\$/g'
! 
! # Constants:
! rm="rm -f"
! 
! # Global variables:
! default_ofile=libtool
! can_build_shared=yes
! 
! # All known linkers require a `.a' archive for static linking (except M$VC,
! # which needs '.lib').
! libext=a
! ltmain="$ac_aux_dir/ltmain.sh"
! ofile="$default_ofile"
! with_gnu_ld="$lt_cv_prog_gnu_ld"
! need_locks="$enable_libtool_lock"
! 
! old_CC="$CC"
! old_CFLAGS="$CFLAGS"
! 
! # Set sane defaults for various variables
! test -z "$AR" && AR=ar
! test -z "$AR_FLAGS" && AR_FLAGS=cru
! test -z "$AS" && AS=as
! test -z "$CC" && CC=cc
! test -z "$DLLTOOL" && DLLTOOL=dlltool
! test -z "$LD" && LD=ld
! test -z "$LN_S" && LN_S="ln -s"
! test -z "$MAGIC_CMD" && MAGIC_CMD=file
! test -z "$NM" && NM=nm
! test -z "$OBJDUMP" && OBJDUMP=objdump
! test -z "$RANLIB" && RANLIB=:
! test -z "$STRIP" && STRIP=:
! test -z "$ac_objext" && ac_objext=o
! 
! if test x"$host" != x"$build"; then
!   ac_tool_prefix=${host_alias}-
! else
!   ac_tool_prefix=
! fi
! 
! # Transform linux* to *-*-linux-gnu*, to support old configure scripts.
! case $host_os in
! linux-gnu*) ;;
! linux*) host=`echo $host | sed 's/^\(.*-.*-linux\)\(.*\)$/\1-gnu\2/'`
! esac
! 
! case $host_os in
! aix3*)
!   # AIX sometimes has problems with the GCC collect2 program.  For some
!   # reason, if we set the COLLECT_NAMES environment variable, the problems
!   # vanish in a puff of smoke.
!   if test "X${COLLECT_NAMES+set}" != Xset; then
!     COLLECT_NAMES=
!     export COLLECT_NAMES
!   fi
!   ;;
! esac
! 
! # Determine commands to create old-style static archives.
! old_archive_cmds='$AR $AR_FLAGS $oldlib$oldobjs$old_deplibs'
! old_postinstall_cmds='chmod 644 $oldlib'
! old_postuninstall_cmds=
! 
! if test -n "$RANLIB"; then
!   case $host_os in
!   openbsd*)
!     old_postinstall_cmds="\$RANLIB -t \$oldlib~$old_postinstall_cmds"
!     ;;
!   *)
!     old_postinstall_cmds="\$RANLIB \$oldlib~$old_postinstall_cmds"
!     ;;
!   esac
!   old_archive_cmds="$old_archive_cmds~\$RANLIB \$oldlib"
! fi
! 
! # Allow CC to be a program name with arguments.
! set dummy $CC
! compiler="[$]2"
! 
! AC_MSG_CHECKING([for objdir])
! rm -f .libs 2>/dev/null
! mkdir .libs 2>/dev/null
! if test -d .libs; then
!   objdir=.libs
! else
!   # MS-DOS does not allow filenames that begin with a dot.
!   objdir=_libs
! fi
! rmdir .libs 2>/dev/null
! AC_MSG_RESULT($objdir)
! 
! 
! AC_ARG_WITH(pic,
! [  --with-pic              try to use only PIC/non-PIC objects [default=use both]],
! pic_mode="$withval", pic_mode=default)
! test -z "$pic_mode" && pic_mode=default
! 
! # We assume here that the value for lt_cv_prog_cc_pic will not be cached
! # in isolation, and that seeing it set (from the cache) indicates that
! # the associated values are set (in the cache) correctly too.
! AC_MSG_CHECKING([for $compiler option to produce PIC])
! AC_CACHE_VAL(lt_cv_prog_cc_pic,
! [ lt_cv_prog_cc_pic=
!   lt_cv_prog_cc_shlib=
!   lt_cv_prog_cc_wl=
!   lt_cv_prog_cc_static=
!   lt_cv_prog_cc_no_builtin=
!   lt_cv_prog_cc_can_build_shared=$can_build_shared
! 
!   if test "$GCC" = yes; then
!     lt_cv_prog_cc_wl='-Wl,'
!     lt_cv_prog_cc_static='-static'
! 
!     case $host_os in
!     aix*)
!       # Below there is a dirty hack to force normal static linking with -ldl
!       # The problem is because libdl dynamically linked with both libc and
!       # libC (AIX C++ library), which obviously doesn't included in libraries
!       # list by gcc. This cause undefined symbols with -static flags.
!       # This hack allows C programs to be linked with "-static -ldl", but
!       # not sure about C++ programs.
!       lt_cv_prog_cc_static="$lt_cv_prog_cc_static ${lt_cv_prog_cc_wl}-lC"
!       ;;
!     amigaos*)
!       # FIXME: we need at least 68020 code to build shared libraries, but
!       # adding the `-m68020' flag to GCC prevents building anything better,
!       # like `-m68040'.
!       lt_cv_prog_cc_pic='-m68020 -resident32 -malways-restore-a4'
!       ;;
!     beos* | irix5* | irix6* | nonstopux* | osf3* | osf4* | osf5*)
!       # PIC is the default for these OSes.
!       ;;
!     darwin* | rhapsody*)
!       # PIC is the default on this platform
!       # Common symbols not allowed in MH_DYLIB files
!       lt_cv_prog_cc_pic='-fno-common'
!       ;;
!     cygwin* | mingw* | pw32* | os2*)
!       # This hack is so that the source file can tell whether it is being
!       # built for inclusion in a dll (and should export symbols for example).
!       lt_cv_prog_cc_pic='-DDLL_EXPORT'
!       ;;
!     sysv4*MP*)
!       if test -d /usr/nec; then
! 	 lt_cv_prog_cc_pic=-Kconform_pic
!       fi
!       ;;
!     *)
!       lt_cv_prog_cc_pic='-fPIC'
!       ;;
!     esac
!   else
!     # PORTME Check for PIC flags for the system compiler.
!     case $host_os in
!     aix3* | aix4* | aix5*)
!       lt_cv_prog_cc_wl='-Wl,'
!       # All AIX code is PIC.
!       if test "$host_cpu" = ia64; then
! 	# AIX 5 now supports IA64 processor
! 	lt_cv_prog_cc_static='-Bstatic'
!       else
! 	lt_cv_prog_cc_static='-bnso -bI:/lib/syscalls.exp'
!       fi
!       ;;
! 
!     hpux9* | hpux10* | hpux11*)
!       # Is there a better lt_cv_prog_cc_static that works with the bundled CC?
!       lt_cv_prog_cc_wl='-Wl,'
!       lt_cv_prog_cc_static="${lt_cv_prog_cc_wl}-a ${lt_cv_prog_cc_wl}archive"
!       lt_cv_prog_cc_pic='+Z'
!       ;;
! 
!     irix5* | irix6* | nonstopux*)
!       lt_cv_prog_cc_wl='-Wl,'
!       lt_cv_prog_cc_static='-non_shared'
!       # PIC (with -KPIC) is the default.
!       ;;
! 
!     cygwin* | mingw* | pw32* | os2*)
!       # This hack is so that the source file can tell whether it is being
!       # built for inclusion in a dll (and should export symbols for example).
!       lt_cv_prog_cc_pic='-DDLL_EXPORT'
!       ;;
! 
!     newsos6)
!       lt_cv_prog_cc_pic='-KPIC'
!       lt_cv_prog_cc_static='-Bstatic'
!       ;;
! 
!     osf3* | osf4* | osf5*)
!       # All OSF/1 code is PIC.
!       lt_cv_prog_cc_wl='-Wl,'
!       lt_cv_prog_cc_static='-non_shared'
!       ;;
! 
!     sco3.2v5*)
!       lt_cv_prog_cc_pic='-Kpic'
!       lt_cv_prog_cc_static='-dn'
!       lt_cv_prog_cc_shlib='-belf'
!       ;;
! 
!     solaris*)
!       lt_cv_prog_cc_pic='-KPIC'
!       lt_cv_prog_cc_static='-Bstatic'
!       lt_cv_prog_cc_wl='-Wl,'
!       ;;
! 
!     sunos4*)
!       lt_cv_prog_cc_pic='-PIC'
!       lt_cv_prog_cc_static='-Bstatic'
!       lt_cv_prog_cc_wl='-Qoption ld '
!       ;;
! 
!     sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
!       lt_cv_prog_cc_pic='-KPIC'
!       lt_cv_prog_cc_static='-Bstatic'
!       lt_cv_prog_cc_wl='-Wl,'
!       ;;
! 
!     uts4*)
!       lt_cv_prog_cc_pic='-pic'
!       lt_cv_prog_cc_static='-Bstatic'
!       ;;
! 
!     sysv4*MP*)
!       if test -d /usr/nec ;then
! 	lt_cv_prog_cc_pic='-Kconform_pic'
! 	lt_cv_prog_cc_static='-Bstatic'
!       fi
!       ;;
! 
!     *)
!       lt_cv_prog_cc_can_build_shared=no
!       ;;
!     esac
!   fi
! ])
! if test -z "$lt_cv_prog_cc_pic"; then
!   AC_MSG_RESULT([none])
! else
!   AC_MSG_RESULT([$lt_cv_prog_cc_pic])
! 
!   # Check to make sure the pic_flag actually works.
!   AC_MSG_CHECKING([if $compiler PIC flag $lt_cv_prog_cc_pic works])
!   AC_CACHE_VAL(lt_cv_prog_cc_pic_works, [dnl
!     save_CFLAGS="$CFLAGS"
!     CFLAGS="$CFLAGS $lt_cv_prog_cc_pic -DPIC"
!     AC_TRY_COMPILE([], [], [dnl
!       case $host_os in
!       hpux9* | hpux10* | hpux11*)
! 	# On HP-UX, both CC and GCC only warn that PIC is supported... then
! 	# they create non-PIC objects.  So, if there were any warnings, we
! 	# assume that PIC is not supported.
! 	if test -s conftest.err; then
! 	  lt_cv_prog_cc_pic_works=no
! 	else
! 	  lt_cv_prog_cc_pic_works=yes
! 	fi
! 	;;
!       *)
! 	lt_cv_prog_cc_pic_works=yes
! 	;;
!       esac
!     ], [dnl
!       lt_cv_prog_cc_pic_works=no
!     ])
!     CFLAGS="$save_CFLAGS"
!   ])
! 
!   if test "X$lt_cv_prog_cc_pic_works" = Xno; then
!     lt_cv_prog_cc_pic=
!     lt_cv_prog_cc_can_build_shared=no
!   else
!     lt_cv_prog_cc_pic=" $lt_cv_prog_cc_pic"
!   fi
! 
!   AC_MSG_RESULT([$lt_cv_prog_cc_pic_works])
! fi
! 
! # Check for any special shared library compilation flags.
! if test -n "$lt_cv_prog_cc_shlib"; then
!   AC_MSG_WARN([\`$CC' requires \`$lt_cv_prog_cc_shlib' to build shared libraries])
!   if echo "$old_CC $old_CFLAGS " | egrep -e "[[ 	]]$lt_cv_prog_cc_shlib[[ 	]]" >/dev/null; then :
!   else
!    AC_MSG_WARN([add \`$lt_cv_prog_cc_shlib' to the CC or CFLAGS env variable and reconfigure])
!     lt_cv_prog_cc_can_build_shared=no
!   fi
! fi
! 
! AC_MSG_CHECKING([if $compiler static flag $lt_cv_prog_cc_static works])
! AC_CACHE_VAL([lt_cv_prog_cc_static_works], [dnl
!   lt_cv_prog_cc_static_works=no
!   save_LDFLAGS="$LDFLAGS"
!   LDFLAGS="$LDFLAGS $lt_cv_prog_cc_static"
!   AC_TRY_LINK([], [], [lt_cv_prog_cc_static_works=yes])
!   LDFLAGS="$save_LDFLAGS"
! ])
! 
! # Belt *and* braces to stop my trousers falling down:
! test "X$lt_cv_prog_cc_static_works" = Xno && lt_cv_prog_cc_static=
! AC_MSG_RESULT([$lt_cv_prog_cc_static_works])
! 
! pic_flag="$lt_cv_prog_cc_pic"
! special_shlib_compile_flags="$lt_cv_prog_cc_shlib"
! wl="$lt_cv_prog_cc_wl"
! link_static_flag="$lt_cv_prog_cc_static"
! no_builtin_flag="$lt_cv_prog_cc_no_builtin"
! can_build_shared="$lt_cv_prog_cc_can_build_shared"
! 
! 
! # Check to see if options -o and -c are simultaneously supported by compiler
! AC_MSG_CHECKING([if $compiler supports -c -o file.$ac_objext])
! AC_CACHE_VAL([lt_cv_compiler_c_o], [
! $rm -r conftest 2>/dev/null
! mkdir conftest
! cd conftest
! echo "int some_variable = 0;" > conftest.$ac_ext
! mkdir out
! # According to Tom Tromey, Ian Lance Taylor reported there are C compilers
! # that will create temporary files in the current directory regardless of
! # the output directory.  Thus, making CWD read-only will cause this test
! # to fail, enabling locking or at least warning the user not to do parallel
! # builds.
! chmod -w .
! save_CFLAGS="$CFLAGS"
! CFLAGS="$CFLAGS -o out/conftest2.$ac_objext"
! compiler_c_o=no
! if { (eval echo configure:__oline__: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>out/conftest.err; } && test -s out/conftest2.$ac_objext; then
!   # The compiler can only warn and ignore the option if not recognized
!   # So say no if there are warnings
!   if test -s out/conftest.err; then
!     lt_cv_compiler_c_o=no
!   else
!     lt_cv_compiler_c_o=yes
!   fi
! else
!   # Append any errors to the config.log.
!   cat out/conftest.err 1>&AC_FD_CC
!   lt_cv_compiler_c_o=no
! fi
! CFLAGS="$save_CFLAGS"
! chmod u+w .
! $rm conftest* out/*
! rmdir out
! cd ..
! rmdir conftest
! $rm -r conftest 2>/dev/null
! ])
! compiler_c_o=$lt_cv_compiler_c_o
! AC_MSG_RESULT([$compiler_c_o])
! 
! if test x"$compiler_c_o" = x"yes"; then
!   # Check to see if we can write to a .lo
!   AC_MSG_CHECKING([if $compiler supports -c -o file.lo])
!   AC_CACHE_VAL([lt_cv_compiler_o_lo], [
!   lt_cv_compiler_o_lo=no
!   save_CFLAGS="$CFLAGS"
!   CFLAGS="$CFLAGS -c -o conftest.lo"
!   save_objext="$ac_objext"
!   ac_objext=lo
!   AC_TRY_COMPILE([], [int some_variable = 0;], [dnl
!     # The compiler can only warn and ignore the option if not recognized
!     # So say no if there are warnings
!     if test -s conftest.err; then
!       lt_cv_compiler_o_lo=no
!     else
!       lt_cv_compiler_o_lo=yes
!     fi
!   ])
!   ac_objext="$save_objext"
!   CFLAGS="$save_CFLAGS"
!   ])
!   compiler_o_lo=$lt_cv_compiler_o_lo
!   AC_MSG_RESULT([$compiler_o_lo])
! else
!   compiler_o_lo=no
! fi
! 
! # Check to see if we can do hard links to lock some files if needed
! hard_links="nottested"
! if test "$compiler_c_o" = no && test "$need_locks" != no; then
!   # do not overwrite the value of need_locks provided by the user
!   AC_MSG_CHECKING([if we can lock with hard links])
!   hard_links=yes
!   $rm conftest*
!   ln conftest.a conftest.b 2>/dev/null && hard_links=no
!   touch conftest.a
!   ln conftest.a conftest.b 2>&5 || hard_links=no
!   ln conftest.a conftest.b 2>/dev/null && hard_links=no
!   AC_MSG_RESULT([$hard_links])
!   if test "$hard_links" = no; then
!     AC_MSG_WARN([\`$CC' does not support \`-c -o', so \`make -j' may be unsafe])
!     need_locks=warn
!   fi
! else
!   need_locks=no
! fi
! 
! if test "$GCC" = yes; then
!   # Check to see if options -fno-rtti -fno-exceptions are supported by compiler
!   AC_MSG_CHECKING([if $compiler supports -fno-rtti -fno-exceptions])
!   echo "int some_variable = 0;" > conftest.$ac_ext
!   save_CFLAGS="$CFLAGS"
!   CFLAGS="$CFLAGS -fno-rtti -fno-exceptions -c conftest.$ac_ext"
!   compiler_rtti_exceptions=no
!   AC_TRY_COMPILE([], [int some_variable = 0;], [dnl
!     # The compiler can only warn and ignore the option if not recognized
!     # So say no if there are warnings
!     if test -s conftest.err; then
!       compiler_rtti_exceptions=no
!     else
!       compiler_rtti_exceptions=yes
!     fi
!   ])
!   CFLAGS="$save_CFLAGS"
!   AC_MSG_RESULT([$compiler_rtti_exceptions])
! 
!   if test "$compiler_rtti_exceptions" = "yes"; then
!     no_builtin_flag=' -fno-builtin -fno-rtti -fno-exceptions'
!   else
!     no_builtin_flag=' -fno-builtin'
!   fi
! fi
! 
! # See if the linker supports building shared libraries.
! AC_MSG_CHECKING([whether the linker ($LD) supports shared libraries])
! 
! allow_undefined_flag=
! no_undefined_flag=
! need_lib_prefix=unknown
! need_version=unknown
! # when you set need_version to no, make sure it does not cause -set_version
! # flags to be left without arguments
! archive_cmds=
! archive_expsym_cmds=
! old_archive_from_new_cmds=
! old_archive_from_expsyms_cmds=
! export_dynamic_flag_spec=
! whole_archive_flag_spec=
! thread_safe_flag_spec=
! hardcode_into_libs=no
! hardcode_libdir_flag_spec=
! hardcode_libdir_separator=
! hardcode_direct=no
! hardcode_minus_L=no
! hardcode_shlibpath_var=unsupported
! runpath_var=
! link_all_deplibs=unknown
! always_export_symbols=no
! export_symbols_cmds='$NM $libobjs $convenience | $global_symbol_pipe | sed '\''s/.* //'\'' | sort | uniq > $export_symbols'
! # include_expsyms should be a list of space-separated symbols to be *always*
! # included in the symbol list
! include_expsyms=
! # exclude_expsyms can be an egrep regular expression of symbols to exclude
! # it will be wrapped by ` (' and `)$', so one must not match beginning or
! # end of line.  Example: `a|bc|.*d.*' will exclude the symbols `a' and `bc',
! # as well as any symbol that contains `d'.
! exclude_expsyms="_GLOBAL_OFFSET_TABLE_"
! # Although _GLOBAL_OFFSET_TABLE_ is a valid symbol C name, most a.out
! # platforms (ab)use it in PIC code, but their linkers get confused if
! # the symbol is explicitly referenced.  Since portable code cannot
! # rely on this symbol name, it's probably fine to never include it in
! # preloaded symbol tables.
! extract_expsyms_cmds=
! 
! case $host_os in
! cygwin* | mingw* | pw32*)
!   # FIXME: the MSVC++ port hasn't been tested in a loooong time
!   # When not using gcc, we currently assume that we are using
!   # Microsoft Visual C++.
!   if test "$GCC" != yes; then
!     with_gnu_ld=no
!   fi
!   ;;
! openbsd*)
!   with_gnu_ld=no
!   ;;
! esac
! 
! ld_shlibs=yes
! if test "$with_gnu_ld" = yes; then
!   # If archive_cmds runs LD, not CC, wlarc should be empty
!   wlarc='${wl}'
! 
!   # See if GNU ld supports shared libraries.
!   case $host_os in
!   aix3* | aix4* | aix5*)
!     # On AIX, the GNU linker is very broken
!     # Note:Check GNU linker on AIX 5-IA64 when/if it becomes available.
!     ld_shlibs=no
!     cat <<EOF 1>&2
! 
! *** Warning: the GNU linker, at least up to release 2.9.1, is reported
! *** to be unable to reliably create shared libraries on AIX.
! *** Therefore, libtool is disabling shared libraries support.  If you
! *** really care for shared libraries, you may want to modify your PATH
! *** so that a non-GNU linker is found, and then restart.
! 
! EOF
!     ;;
! 
!   amigaos*)
!     archive_cmds='$rm $output_objdir/a2ixlibrary.data~$echo "#define NAME $libname" > $output_objdir/a2ixlibrary.data~$echo "#define LIBRARY_ID 1" >> $output_objdir/a2ixlibrary.data~$echo "#define VERSION $major" >> $output_objdir/a2ixlibrary.data~$echo "#define REVISION $revision" >> $output_objdir/a2ixlibrary.data~$AR $AR_FLAGS $lib $libobjs~$RANLIB $lib~(cd $output_objdir && a2ixlibrary -32)'
!     hardcode_libdir_flag_spec='-L$libdir'
!     hardcode_minus_L=yes
! 
!     # Samuel A. Falvo II <kc5tja@dolphin.openprojects.net> reports
!     # that the semantics of dynamic libraries on AmigaOS, at least up
!     # to version 4, is to share data among multiple programs linked
!     # with the same dynamic library.  Since this doesn't match the
!     # behavior of shared libraries on other platforms, we can use
!     # them.
!     ld_shlibs=no
!     ;;
! 
!   beos*)
!     if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then
!       allow_undefined_flag=unsupported
!       # Joseph Beckenbach <jrb3@best.com> says some releases of gcc
!       # support --undefined.  This deserves some investigation.  FIXME
!       archive_cmds='$CC -nostart $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
!     else
!       ld_shlibs=no
!     fi
!     ;;
! 
!   cygwin* | mingw* | pw32*)
!     # hardcode_libdir_flag_spec is actually meaningless, as there is
!     # no search path for DLLs.
!     hardcode_libdir_flag_spec='-L$libdir'
!     allow_undefined_flag=unsupported
!     always_export_symbols=yes
! 
!     extract_expsyms_cmds='test -f $output_objdir/impgen.c || \
!       sed -e "/^# \/\* impgen\.c starts here \*\//,/^# \/\* impgen.c ends here \*\// { s/^# //;s/^# *$//; p; }" -e d < $''0 > $output_objdir/impgen.c~
!       test -f $output_objdir/impgen.exe || (cd $output_objdir && \
!       if test "x$HOST_CC" != "x" ; then $HOST_CC -o impgen impgen.c ; \
!       else $CC -o impgen impgen.c ; fi)~
!       $output_objdir/impgen $dir/$soroot > $output_objdir/$soname-def'
! 
!     old_archive_from_expsyms_cmds='$DLLTOOL --as=$AS --dllname $soname --def $output_objdir/$soname-def --output-lib $output_objdir/$newlib'
! 
!     # cygwin and mingw dlls have different entry points and sets of symbols
!     # to exclude.
!     # FIXME: what about values for MSVC?
!     dll_entry=__cygwin_dll_entry@12
!     dll_exclude_symbols=DllMain@12,_cygwin_dll_entry@12,_cygwin_noncygwin_dll_entry@12~
!     case $host_os in
!     mingw*)
!       # mingw values
!       dll_entry=_DllMainCRTStartup@12
!       dll_exclude_symbols=DllMain@12,DllMainCRTStartup@12,DllEntryPoint@12~
!       ;;
!     esac
! 
!     # mingw and cygwin differ, and it's simplest to just exclude the union
!     # of the two symbol sets.
!     dll_exclude_symbols=DllMain@12,_cygwin_dll_entry@12,_cygwin_noncygwin_dll_entry@12,DllMainCRTStartup@12,DllEntryPoint@12
! 
!     # recent cygwin and mingw systems supply a stub DllMain which the user
!     # can override, but on older systems we have to supply one (in ltdll.c)
!     if test "x$lt_cv_need_dllmain" = "xyes"; then
!       ltdll_obj='$output_objdir/$soname-ltdll.'"$ac_objext "
!       ltdll_cmds='test -f $output_objdir/$soname-ltdll.c || sed -e "/^# \/\* ltdll\.c starts here \*\//,/^# \/\* ltdll.c ends here \*\// { s/^# //; p; }" -e d < $''0 > $output_objdir/$soname-ltdll.c~
! 	test -f $output_objdir/$soname-ltdll.$ac_objext || (cd $output_objdir && $CC -c $soname-ltdll.c)~'
!     else
!       ltdll_obj=
!       ltdll_cmds=
!     fi
! 
!     # Extract the symbol export list from an `--export-all' def file,
!     # then regenerate the def file from the symbol export list, so that
!     # the compiled dll only exports the symbol export list.
!     # Be careful not to strip the DATA tag left be newer dlltools.
!     export_symbols_cmds="$ltdll_cmds"'
!       $DLLTOOL --export-all --exclude-symbols '$dll_exclude_symbols' --output-def $output_objdir/$soname-def '$ltdll_obj'$libobjs $convenience~
!       sed -e "1,/EXPORTS/d" -e "s/ @ [[0-9]]*//" -e "s/ *;.*$//" < $output_objdir/$soname-def > $export_symbols'
! 
!     # If the export-symbols file already is a .def file (1st line
!     # is EXPORTS), use it as is.
!     # If DATA tags from a recent dlltool are present, honour them!
!     archive_expsym_cmds='if test "x`sed 1q $export_symbols`" = xEXPORTS; then
! 	cp $export_symbols $output_objdir/$soname-def;
!       else
! 	echo EXPORTS > $output_objdir/$soname-def;
! 	_lt_hint=1;
! 	cat $export_symbols | while read symbol; do
! 	 set dummy \$symbol;
! 	 case \[$]# in
! 	   2) echo "   \[$]2 @ \$_lt_hint ; " >> $output_objdir/$soname-def;;
! 	   4) echo "   \[$]2 \[$]3 \[$]4 ; " >> $output_objdir/$soname-def; _lt_hint=`expr \$_lt_hint - 1`;;
! 	   *) echo "     \[$]2 @ \$_lt_hint \[$]3 ; " >> $output_objdir/$soname-def;;
! 	 esac;
! 	 _lt_hint=`expr 1 + \$_lt_hint`;
! 	done;
!       fi~
!       '"$ltdll_cmds"'
!       $CC -Wl,--base-file,$output_objdir/$soname-base '$lt_cv_cc_dll_switch' -Wl,-e,'$dll_entry' -o $output_objdir/$soname '$ltdll_obj'$libobjs $deplibs $compiler_flags~
!       $DLLTOOL --as=$AS --dllname $soname --exclude-symbols '$dll_exclude_symbols' --def $output_objdir/$soname-def --base-file $output_objdir/$soname-base --output-exp $output_objdir/$soname-exp~
!       $CC -Wl,--base-file,$output_objdir/$soname-base $output_objdir/$soname-exp '$lt_cv_cc_dll_switch' -Wl,-e,'$dll_entry' -o $output_objdir/$soname '$ltdll_obj'$libobjs $deplibs $compiler_flags~
!       $DLLTOOL --as=$AS --dllname $soname --exclude-symbols '$dll_exclude_symbols' --def $output_objdir/$soname-def --base-file $output_objdir/$soname-base --output-exp $output_objdir/$soname-exp --output-lib $output_objdir/$libname.dll.a~
!       $CC $output_objdir/$soname-exp '$lt_cv_cc_dll_switch' -Wl,-e,'$dll_entry' -o $output_objdir/$soname '$ltdll_obj'$libobjs $deplibs $compiler_flags'
!     ;;
! 
!   netbsd*)
!     if echo __ELF__ | $CC -E - | grep __ELF__ >/dev/null; then
!       archive_cmds='$LD -Bshareable $libobjs $deplibs $linker_flags -o $lib'
!       wlarc=
!     else
!       archive_cmds='$CC -shared -nodefaultlibs $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
!       archive_expsym_cmds='$CC -shared -nodefaultlibs $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'
!     fi
!     ;;
! 
!   solaris* | sysv5*)
!     if $LD -v 2>&1 | egrep 'BFD 2\.8' > /dev/null; then
!       ld_shlibs=no
!       cat <<EOF 1>&2
! 
! *** Warning: The releases 2.8.* of the GNU linker cannot reliably
! *** create shared libraries on Solaris systems.  Therefore, libtool
! *** is disabling shared libraries support.  We urge you to upgrade GNU
! *** binutils to release 2.9.1 or newer.  Another option is to modify
! *** your PATH or compiler configuration so that the native linker is
! *** used, and then restart.
! 
! EOF
!     elif $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then
!       archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
!       archive_expsym_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'
!     else
!       ld_shlibs=no
!     fi
!     ;;
! 
!   sunos4*)
!     archive_cmds='$LD -assert pure-text -Bshareable -o $lib $libobjs $deplibs $linker_flags'
!     wlarc=
!     hardcode_direct=yes
!     hardcode_shlibpath_var=no
!     ;;
! 
!   *)
!     if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then
!       archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
!       archive_expsym_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'
!     else
!       ld_shlibs=no
!     fi
!     ;;
!   esac
! 
!   if test "$ld_shlibs" = yes; then
!     runpath_var=LD_RUN_PATH
!     hardcode_libdir_flag_spec='${wl}--rpath ${wl}$libdir'
!     export_dynamic_flag_spec='${wl}--export-dynamic'
!     case $host_os in
!     cygwin* | mingw* | pw32*)
!       # dlltool doesn't understand --whole-archive et. al.
!       whole_archive_flag_spec=
!       ;;
!     *)
!       # ancient GNU ld didn't support --whole-archive et. al.
!       if $LD --help 2>&1 | egrep 'no-whole-archive' > /dev/null; then
! 	whole_archive_flag_spec="$wlarc"'--whole-archive$convenience '"$wlarc"'--no-whole-archive'
!       else
! 	whole_archive_flag_spec=
!       fi
!       ;;
!     esac
!   fi
! else
!   # PORTME fill in a description of your system's linker (not GNU ld)
!   case $host_os in
!   aix3*)
!     allow_undefined_flag=unsupported
!     always_export_symbols=yes
!     archive_expsym_cmds='$LD -o $output_objdir/$soname $libobjs $deplibs $linker_flags -bE:$export_symbols -T512 -H512 -bM:SRE~$AR $AR_FLAGS $lib $output_objdir/$soname'
!     # Note: this linker hardcodes the directories in LIBPATH if there
!     # are no directories specified by -L.
!     hardcode_minus_L=yes
!     if test "$GCC" = yes && test -z "$link_static_flag"; then
!       # Neither direct hardcoding nor static linking is supported with a
!       # broken collect2.
!       hardcode_direct=unsupported
!     fi
!     ;;
! 
!   aix4* | aix5*)
!     if test "$host_cpu" = ia64; then
!       # On IA64, the linker does run time linking by default, so we don't
!       # have to do anything special.
!       aix_use_runtimelinking=no
!       exp_sym_flag='-Bexport'
!       no_entry_flag=""
!     else
!       aix_use_runtimelinking=no
! 
!       # Test if we are trying to use run time linking or normal
!       # AIX style linking. If -brtl is somewhere in LDFLAGS, we
!       # need to do runtime linking.
!       case $host_os in aix4.[[23]]|aix4.[[23]].*|aix5*)
! 	for ld_flag in $LDFLAGS; do
! 	  case $ld_flag in
! 	  *-brtl*)
! 	    aix_use_runtimelinking=yes
! 	    break
! 	  ;;
! 	  esac
! 	done
!       esac
! 
!       exp_sym_flag='-bexport'
!       no_entry_flag='-bnoentry'
!     fi
! 
!     # When large executables or shared objects are built, AIX ld can
!     # have problems creating the table of contents.  If linking a library
!     # or program results in "error TOC overflow" add -mminimal-toc to
!     # CXXFLAGS/CFLAGS for g++/gcc.  In the cases where that is not
!     # enough to fix the problem, add -Wl,-bbigtoc to LDFLAGS.
! 
!     hardcode_direct=yes
!     archive_cmds=''
!     hardcode_libdir_separator=':'
!     if test "$GCC" = yes; then
!       case $host_os in aix4.[[012]]|aix4.[[012]].*)
! 	collect2name=`${CC} -print-prog-name=collect2`
! 	if test -f "$collect2name" && \
! 	  strings "$collect2name" | grep resolve_lib_name >/dev/null
! 	then
! 	  # We have reworked collect2
! 	  hardcode_direct=yes
! 	else
! 	  # We have old collect2
! 	  hardcode_direct=unsupported
! 	  # It fails to find uninstalled libraries when the uninstalled
! 	  # path is not listed in the libpath.  Setting hardcode_minus_L
! 	  # to unsupported forces relinking
! 	  hardcode_minus_L=yes
! 	  hardcode_libdir_flag_spec='-L$libdir'
! 	  hardcode_libdir_separator=
! 	fi
!       esac
! 
!       shared_flag='-shared'
!     else
!       # not using gcc
!       if test "$host_cpu" = ia64; then
! 	shared_flag='${wl}-G'
!       else
! 	if test "$aix_use_runtimelinking" = yes; then
! 	  shared_flag='${wl}-G'
! 	else
! 	  shared_flag='${wl}-bM:SRE'
! 	fi
!       fi
!     fi
! 
!     # It seems that -bexpall can do strange things, so it is better to
!     # generate a list of symbols to export.
!     always_export_symbols=yes
!     if test "$aix_use_runtimelinking" = yes; then
!       # Warning - without using the other runtime loading flags (-brtl),
!       # -berok will link without error, but may produce a broken library.
!       allow_undefined_flag='-berok'
!       hardcode_libdir_flag_spec='${wl}-blibpath:$libdir:/usr/lib:/lib'
!       archive_expsym_cmds="\$CC"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags `if test "x${allow_undefined_flag}" != "x"; then echo "${wl}${allow_undefined_flag}"; else :; fi` '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols $shared_flag"
!     else
!       if test "$host_cpu" = ia64; then
! 	hardcode_libdir_flag_spec='${wl}-R $libdir:/usr/lib:/lib'
! 	allow_undefined_flag="-z nodefs"
! 	archive_expsym_cmds="\$CC $shared_flag"' -o $output_objdir/$soname ${wl}-h$soname $libobjs $deplibs $compiler_flags ${wl}${allow_undefined_flag} '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols"
!       else
! 	hardcode_libdir_flag_spec='${wl}-bnolibpath ${wl}-blibpath:$libdir:/usr/lib:/lib'
! 	# Warning - without using the other run time loading flags,
! 	# -berok will link without error, but may produce a broken library.
! 	allow_undefined_flag='${wl}-berok'
! 	# This is a bit strange, but is similar to how AIX traditionally builds
! 	# it's shared libraries.
! 	archive_expsym_cmds="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags ${allow_undefined_flag} '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols"' ~$AR -crlo $output_objdir/$libname$release.a $output_objdir/$soname'
!       fi
!     fi
!     ;;
  
    amigaos*)
      archive_cmds='$rm $output_objdir/a2ixlibrary.data~$echo "#define NAME $libname" > $output_objdir/a2ixlibrary.data~$echo "#define LIBRARY_ID 1" >> $output_objdir/a2ixlibrary.data~$echo "#define VERSION $major" >> $output_objdir/a2ixlibrary.data~$echo "#define REVISION $revision" >> $output_objdir/a2ixlibrary.data~$AR $AR_FLAGS $lib $libobjs~$RANLIB $lib~(cd $output_objdir && a2ixlibrary -32)'
--- 11,1499 ----
  # even the implied warranty of MERCHANTABILITY or FITNESS FOR A
  # PARTICULAR PURPOSE.
  
! # libtool.m4 - Configure libtool for the host system. -*-Shell-script-*-
  
! # serial 46 AC_PROG_LIBTOOL
  
! AC_DEFUN([AC_PROG_LIBTOOL],
! [AC_REQUIRE([AC_LIBTOOL_SETUP])dnl
  
! # This can be used to rebuild libtool when needed
! LIBTOOL_DEPS="$ac_aux_dir/ltmain.sh"
  
! # Always use our own libtool.
! LIBTOOL='$(SHELL) $(top_builddir)/libtool'
! AC_SUBST(LIBTOOL)dnl
  
! # Prevent multiple expansion
! define([AC_PROG_LIBTOOL], [])
! ])
  
! AC_DEFUN([AC_LIBTOOL_SETUP],
! [AC_PREREQ(2.13)dnl
! AC_REQUIRE([AC_ENABLE_SHARED])dnl
! AC_REQUIRE([AC_ENABLE_STATIC])dnl
! AC_REQUIRE([AC_ENABLE_FAST_INSTALL])dnl
! AC_REQUIRE([AC_CANONICAL_HOST])dnl
! AC_REQUIRE([AC_CANONICAL_BUILD])dnl
! AC_REQUIRE([AC_PROG_CC])dnl
! AC_REQUIRE([AC_PROG_LD])dnl
! AC_REQUIRE([AC_PROG_LD_RELOAD_FLAG])dnl
! AC_REQUIRE([AC_PROG_NM])dnl
! AC_REQUIRE([AC_PROG_LN_S])dnl
! AC_REQUIRE([AC_DEPLIBS_CHECK_METHOD])dnl
! AC_REQUIRE([AC_OBJEXT])dnl
! AC_REQUIRE([AC_EXEEXT])dnl
! AC_REQUIRE([AC_SANDIE])dnl
! dnl
  
! _LT_AC_PROG_ECHO_BACKSLASH
! # Only perform the check for file, if the check method requires it
! case $deplibs_check_method in
! file_magic*)
!   if test "$file_magic_cmd" = '$MAGIC_CMD'; then
!     AC_PATH_MAGIC
!   fi
!   ;;
! esac
  
! AC_CHECK_TOOL(RANLIB, ranlib, :)
! AC_CHECK_TOOL(STRIP, strip, :)
  
! ifdef([AC_PROVIDE_AC_LIBTOOL_DLOPEN], enable_dlopen=yes, enable_dlopen=no)
! ifdef([AC_PROVIDE_AC_LIBTOOL_WIN32_DLL],
! enable_win32_dll=yes, enable_win32_dll=no)
  
! AC_ARG_ENABLE(libtool-lock,
!   [  --disable-libtool-lock  avoid locking (might break parallel builds)])
! test "x$enable_libtool_lock" != xno && enable_libtool_lock=yes
! 
! # Some flags need to be propagated to the compiler or linker for good
! # libtool support.
! case $host in
! *-*-irix6*)
!   # Find out which ABI we are using.
!   echo '[#]line __oline__ "configure"' > conftest.$ac_ext
!   if AC_TRY_EVAL(ac_compile); then
!     case `/usr/bin/file conftest.$ac_objext` in
!     *32-bit*)
!       LD="${LD-ld} -32"
!       ;;
!     *N32*)
!       LD="${LD-ld} -n32"
!       ;;
!     *64-bit*)
!       LD="${LD-ld} -64"
!       ;;
!     esac
    fi
!   rm -rf conftest*
!   ;;
  
! *-*-sco3.2v5*)
!   # On SCO OpenServer 5, we need -belf to get full-featured binaries.
!   SAVE_CFLAGS="$CFLAGS"
!   CFLAGS="$CFLAGS -belf"
!   AC_CACHE_CHECK([whether the C compiler needs -belf], lt_cv_cc_needs_belf,
!     [AC_LANG_SAVE
!      AC_LANG_C
!      AC_TRY_LINK([],[],[lt_cv_cc_needs_belf=yes],[lt_cv_cc_needs_belf=no])
!      AC_LANG_RESTORE])
!   if test x"$lt_cv_cc_needs_belf" != x"yes"; then
!     # this is probably gcc 2.8.0, egcs 1.0 or newer; no need for -belf
!     CFLAGS="$SAVE_CFLAGS"
!   fi
!   ;;
  
! ifdef([AC_PROVIDE_AC_LIBTOOL_WIN32_DLL],
! [*-*-cygwin* | *-*-mingw* | *-*-pw32*)
!   AC_CHECK_TOOL(DLLTOOL, dlltool, false)
!   AC_CHECK_TOOL(AS, as, false)
!   AC_CHECK_TOOL(OBJDUMP, objdump, false)
  
!   # recent cygwin and mingw systems supply a stub DllMain which the user
!   # can override, but on older systems we have to supply one
!   AC_CACHE_CHECK([if libtool should supply DllMain function], lt_cv_need_dllmain,
!     [AC_TRY_LINK([],
!       [extern int __attribute__((__stdcall__)) DllMain(void*, int, void*);
!       DllMain (0, 0, 0);],
!       [lt_cv_need_dllmain=no],[lt_cv_need_dllmain=yes])])
  
!   case $host/$CC in
!   *-*-cygwin*/gcc*-mno-cygwin*|*-*-mingw*)
!     # old mingw systems require "-dll" to link a DLL, while more recent ones
!     # require "-mdll"
!     SAVE_CFLAGS="$CFLAGS"
!     CFLAGS="$CFLAGS -mdll"
!     AC_CACHE_CHECK([how to link DLLs], lt_cv_cc_dll_switch,
!       [AC_TRY_LINK([], [], [lt_cv_cc_dll_switch=-mdll],[lt_cv_cc_dll_switch=-dll])])
!     CFLAGS="$SAVE_CFLAGS" ;;
!   *-*-cygwin* | *-*-pw32*)
!     # cygwin systems need to pass --dll to the linker, and not link
!     # crt.o which will require a WinMain@16 definition.
!     lt_cv_cc_dll_switch="-Wl,--dll -nostartfiles" ;;
!   esac
!   ;;
!   ])
! esac
  
+ _LT_AC_LTCONFIG_HACK
  
! ])
  
! # AC_LIBTOOL_HEADER_ASSERT
! # ------------------------
! AC_DEFUN([AC_LIBTOOL_HEADER_ASSERT],
! [AC_CACHE_CHECK([whether $CC supports assert without backlinking],
!     [lt_cv_func_assert_works],
!     [case $host in
!     *-*-solaris*)
!       if test "$GCC" = yes && test "$with_gnu_ld" != yes; then
!         case `$CC --version 2>/dev/null` in
!         [[12]].*) lt_cv_func_assert_works=no ;;
!         *)        lt_cv_func_assert_works=yes ;;
!         esac
!       fi
!       ;;
!     esac])
  
! if test "x$lt_cv_func_assert_works" = xyes; then
!   AC_CHECK_HEADERS(assert.h)
! fi
! ])# AC_LIBTOOL_HEADER_ASSERT
  
! # _LT_AC_CHECK_DLFCN
! # --------------------
! AC_DEFUN([_LT_AC_CHECK_DLFCN],
! [AC_CHECK_HEADERS(dlfcn.h)
! ])# _LT_AC_CHECK_DLFCN
  
! # AC_LIBTOOL_SYS_GLOBAL_SYMBOL_PIPE
! # ---------------------------------
! AC_DEFUN([AC_LIBTOOL_SYS_GLOBAL_SYMBOL_PIPE],
! [AC_REQUIRE([AC_CANONICAL_HOST])
! AC_REQUIRE([AC_PROG_NM])
! AC_REQUIRE([AC_OBJEXT])
! # Check for command to grab the raw symbol name followed by C symbol from nm.
! AC_MSG_CHECKING([command to parse $NM output])
! AC_CACHE_VAL([lt_cv_sys_global_symbol_pipe], [dnl
  
! # These are sane defaults that work on at least a few old systems.
! # [They come from Ultrix.  What could be older than Ultrix?!! ;)]
  
! # Character class describing NM global symbol codes.
! symcode='[[BCDEGRST]]'
  
! # Regexp to match symbols that can be accessed directly from C.
! sympat='\([[_A-Za-z]][[_A-Za-z0-9]]*\)'
  
! # Transform the above into a raw symbol and a C symbol.
! symxfrm='\1 \2\3 \3'
  
! # Transform an extracted symbol line into a proper C declaration
! lt_cv_global_symbol_to_cdecl="sed -n -e 's/^. .* \(.*\)$/extern char \1;/p'"
  
! # Transform an extracted symbol line into symbol name and symbol address
! lt_cv_global_symbol_to_c_name_address="sed -n -e 's/^: \([[^ ]]*\) $/  {\\\"\1\\\", (lt_ptr) 0},/p' -e 's/^$symcode \([[^ ]]*\) \([[^ ]]*\)$/  {\"\2\", (lt_ptr) \&\2},/p'"
  
! # Define system-specific variables.
! case $host_os in
! aix*)
!   symcode='[[BCDT]]'
!   ;;
! cygwin* | mingw* | pw32*)
!   symcode='[[ABCDGISTW]]'
!   ;;
! hpux*) # Its linker distinguishes data from code symbols
!   lt_cv_global_symbol_to_cdecl="sed -n -e 's/^T .* \(.*\)$/extern char \1();/p' -e 's/^$symcode* .* \(.*\)$/extern char \1;/p'"
!   lt_cv_global_symbol_to_c_name_address="sed -n -e 's/^: \([[^ ]]*\) $/  {\\\"\1\\\", (lt_ptr) 0},/p' -e 's/^$symcode* \([[^ ]]*\) \([[^ ]]*\)$/  {\"\2\", (lt_ptr) \&\2},/p'"
!   ;;
! irix*)
!   symcode='[[BCDEGRST]]'
!   ;;
! solaris* | sysv5*)
!   symcode='[[BDT]]'
!   ;;
! sysv4)
!   symcode='[[DFNSTU]]'
!   ;;
! esac
  
! # Handle CRLF in mingw tool chain
! opt_cr=
! case $host_os in
! mingw*)
!   opt_cr=`echo 'x\{0,1\}' | tr x '\015'` # option cr in regexp
!   ;;
! esac
  
! # If we're using GNU nm, then use its standard symbol codes.
! if $NM -V 2>&1 | egrep '(GNU|with BFD)' > /dev/null; then
!   symcode='[[ABCDGISTW]]'
! fi
  
! # Try without a prefix undercore, then with it.
! for ac_symprfx in "" "_"; do
  
!   # Write the raw and C identifiers.
! lt_cv_sys_global_symbol_pipe="sed -n -e 's/^.*[[ 	]]\($symcode$symcode*\)[[ 	]][[ 	]]*\($ac_symprfx\)$sympat$opt_cr$/$symxfrm/p'"
  
!   # Check to see that the pipe works correctly.
!   pipe_works=no
!   rm -f conftest*
!   cat > conftest.$ac_ext <<EOF
! #ifdef __cplusplus
! extern "C" {
! #endif
! char nm_test_var;
! void nm_test_func(){}
! #ifdef __cplusplus
! }
! #endif
! int main(){nm_test_var='a';nm_test_func();return(0);}
! EOF
  
!   if AC_TRY_EVAL(ac_compile); then
!     # Now try to grab the symbols.
!     nlist=conftest.nm
!     if AC_TRY_EVAL(NM conftest.$ac_objext \| $lt_cv_sys_global_symbol_pipe \> $nlist) && test -s "$nlist"; then
!       # Try sorting and uniquifying the output.
!       if sort "$nlist" | uniq > "$nlist"T; then
! 	mv -f "$nlist"T "$nlist"
!       else
! 	rm -f "$nlist"T
!       fi
  
!       # Make sure that we snagged all the symbols we need.
!       if egrep ' nm_test_var$' "$nlist" >/dev/null; then
! 	if egrep ' nm_test_func$' "$nlist" >/dev/null; then
! 	  cat <<EOF > conftest.$ac_ext
! #ifdef __cplusplus
! extern "C" {
! #endif
  
! EOF
! 	  # Now generate the symbol file.
! 	  eval "$lt_cv_global_symbol_to_cdecl"' < "$nlist" >> conftest.$ac_ext'
  
! 	  cat <<EOF >> conftest.$ac_ext
! #if defined (__STDC__) && __STDC__
! # define lt_ptr void *
! #else
! # define lt_ptr char *
! # define const
! #endif
  
! /* The mapping between symbol names and symbols. */
! const struct {
!   const char *name;
!   lt_ptr address;
! }
! lt_preloaded_symbols[[]] =
! {
! EOF
! 	  sed "s/^$symcode$symcode* \(.*\) \(.*\)$/  {\"\2\", (lt_ptr) \&\2},/" < "$nlist" >> conftest.$ac_ext
! 	  cat <<\EOF >> conftest.$ac_ext
!   {0, (lt_ptr) 0}
! };
  
! #ifdef __cplusplus
! }
! #endif
! EOF
! 	  # Now try linking the two files.
! 	  mv conftest.$ac_objext conftstm.$ac_objext
! 	  save_LIBS="$LIBS"
! 	  save_CFLAGS="$CFLAGS"
! 	  LIBS="conftstm.$ac_objext"
! 	  CFLAGS="$CFLAGS$no_builtin_flag"
! 	  if AC_TRY_EVAL(ac_link) && test -s conftest; then
! 	    pipe_works=yes
! 	  fi
! 	  LIBS="$save_LIBS"
! 	  CFLAGS="$save_CFLAGS"
! 	else
! 	  echo "cannot find nm_test_func in $nlist" >&AC_FD_CC
! 	fi
!       else
! 	echo "cannot find nm_test_var in $nlist" >&AC_FD_CC
!       fi
!     else
!       echo "cannot run $lt_cv_sys_global_symbol_pipe" >&AC_FD_CC
!     fi
!   else
!     echo "$progname: failed program was:" >&AC_FD_CC
!     cat conftest.$ac_ext >&5
!   fi
!   rm -f conftest* conftst*
  
!   # Do not use the global_symbol_pipe unless it works.
!   if test "$pipe_works" = yes; then
!     break
!   else
!     lt_cv_sys_global_symbol_pipe=
!   fi
! done
! ])
! global_symbol_pipe="$lt_cv_sys_global_symbol_pipe"
! if test -z "$lt_cv_sys_global_symbol_pipe"; then
!   global_symbol_to_cdecl=
!   global_symbol_to_c_name_address=
! else
!   global_symbol_to_cdecl="$lt_cv_global_symbol_to_cdecl"
!   global_symbol_to_c_name_address="$lt_cv_global_symbol_to_c_name_address"
! fi
! if test -z "$global_symbol_pipe$global_symbol_to_cdec$global_symbol_to_c_name_address";
  then
!   AC_MSG_RESULT(failed)
  else
!   AC_MSG_RESULT(ok)
  fi
! ]) # AC_LIBTOOL_SYS_GLOBAL_SYMBOL_PIPE
  
! # _LT_AC_LIBTOOL_SYS_PATH_SEPARATOR
! # ---------------------------------
! AC_DEFUN([_LT_AC_LIBTOOL_SYS_PATH_SEPARATOR],
! [# Find the correct PATH separator.  Usually this is `:', but
! # DJGPP uses `;' like DOS.
! if test "X${PATH_SEPARATOR+set}" != Xset; then
!   UNAME=${UNAME-`uname 2>/dev/null`}
!   case X$UNAME in
!     *-DOS) lt_cv_sys_path_separator=';' ;;
!     *)     lt_cv_sys_path_separator=':' ;;
!   esac
!   PATH_SEPARATOR=$lt_cv_sys_path_separator
! fi
! ])# _LT_AC_LIBTOOL_SYS_PATH_SEPARATOR
  
! # _LT_AC_PROG_ECHO_BACKSLASH
! # --------------------------
! # Add some code to the start of the generated configure script which
! # will find an echo command which doesn't interpret backslashes.
! AC_DEFUN([_LT_AC_PROG_ECHO_BACKSLASH],
! [ifdef([AC_DIVERSION_NOTICE], [AC_DIVERT_PUSH(AC_DIVERSION_NOTICE)],
! 			      [AC_DIVERT_PUSH(NOTICE)])
! _LT_AC_LIBTOOL_SYS_PATH_SEPARATOR
  
! # Check that we are running under the correct shell.
! SHELL=${CONFIG_SHELL-/bin/sh}
  
! case X$ECHO in
! X*--fallback-echo)
!   # Remove one level of quotation (which was required for Make).
!   ECHO=`echo "$ECHO" | sed 's,\\\\\[$]\\[$]0,'[$]0','`
!   ;;
! esac
  
! echo=${ECHO-echo}
! if test "X[$]1" = X--no-reexec; then
!   # Discard the --no-reexec flag, and continue.
!   shift
! elif test "X[$]1" = X--fallback-echo; then
!   # Avoid inline document here, it may be left over
!   :
! elif test "X`($echo '\t') 2>/dev/null`" = 'X\t'; then
!   # Yippee, $echo works!
!   :
  else
!   # Restart under the correct shell.
!   exec $SHELL "[$]0" --no-reexec ${1+"[$]@"}
  fi
  
! if test "X[$]1" = X--fallback-echo; then
!   # used as fallback echo
!   shift
!   cat <<EOF
! $*
! EOF
!   exit 0
! fi
  
! # The HP-UX ksh and POSIX shell print the target directory to stdout
! # if CDPATH is set.
! if test "X${CDPATH+set}" = Xset; then CDPATH=:; export CDPATH; fi
  
! if test -z "$ECHO"; then
! if test "X${echo_test_string+set}" != Xset; then
! # find a string as large as possible, as long as the shell can cope with it
!   for cmd in 'sed 50q "[$]0"' 'sed 20q "[$]0"' 'sed 10q "[$]0"' 'sed 2q "[$]0"' 'echo test'; do
!     # expected sizes: less than 2Kb, 1Kb, 512 bytes, 16 bytes, ...
!     if (echo_test_string="`eval $cmd`") 2>/dev/null &&
!        echo_test_string="`eval $cmd`" &&
!        (test "X$echo_test_string" = "X$echo_test_string") 2>/dev/null
!     then
!       break
!     fi
!   done
! fi
  
! if test "X`($echo '\t') 2>/dev/null`" = 'X\t' &&
!    echo_testing_string=`($echo "$echo_test_string") 2>/dev/null` &&
!    test "X$echo_testing_string" = "X$echo_test_string"; then
!   :
! else
!   # The Solaris, AIX, and Digital Unix default echo programs unquote
!   # backslashes.  This makes it impossible to quote backslashes using
!   #   echo "$something" | sed 's/\\/\\\\/g'
!   #
!   # So, first we look for a working echo in the user's PATH.
  
!   IFS="${IFS= 	}"; save_ifs="$IFS"; IFS=$PATH_SEPARATOR
!   for dir in $PATH /usr/ucb; do
!     if (test -f $dir/echo || test -f $dir/echo$ac_exeext) &&
!        test "X`($dir/echo '\t') 2>/dev/null`" = 'X\t' &&
!        echo_testing_string=`($dir/echo "$echo_test_string") 2>/dev/null` &&
!        test "X$echo_testing_string" = "X$echo_test_string"; then
!       echo="$dir/echo"
!       break
!     fi
!   done
!   IFS="$save_ifs"
  
!   if test "X$echo" = Xecho; then
!     # We didn't find a better echo, so look for alternatives.
!     if test "X`(print -r '\t') 2>/dev/null`" = 'X\t' &&
!        echo_testing_string=`(print -r "$echo_test_string") 2>/dev/null` &&
!        test "X$echo_testing_string" = "X$echo_test_string"; then
!       # This shell has a builtin print -r that does the trick.
!       echo='print -r'
!     elif (test -f /bin/ksh || test -f /bin/ksh$ac_exeext) &&
! 	 test "X$CONFIG_SHELL" != X/bin/ksh; then
!       # If we have ksh, try running configure again with it.
!       ORIGINAL_CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}
!       export ORIGINAL_CONFIG_SHELL
!       CONFIG_SHELL=/bin/ksh
!       export CONFIG_SHELL
!       exec $CONFIG_SHELL "[$]0" --no-reexec ${1+"[$]@"}
!     else
!       # Try using printf.
!       echo='printf %s\n'
!       if test "X`($echo '\t') 2>/dev/null`" = 'X\t' &&
! 	 echo_testing_string=`($echo "$echo_test_string") 2>/dev/null` &&
! 	 test "X$echo_testing_string" = "X$echo_test_string"; then
! 	# Cool, printf works
! 	:
!       elif echo_testing_string=`($ORIGINAL_CONFIG_SHELL "[$]0" --fallback-echo '\t') 2>/dev/null` &&
! 	   test "X$echo_testing_string" = 'X\t' &&
! 	   echo_testing_string=`($ORIGINAL_CONFIG_SHELL "[$]0" --fallback-echo "$echo_test_string") 2>/dev/null` &&
! 	   test "X$echo_testing_string" = "X$echo_test_string"; then
! 	CONFIG_SHELL=$ORIGINAL_CONFIG_SHELL
! 	export CONFIG_SHELL
! 	SHELL="$CONFIG_SHELL"
! 	export SHELL
! 	echo="$CONFIG_SHELL [$]0 --fallback-echo"
!       elif echo_testing_string=`($CONFIG_SHELL "[$]0" --fallback-echo '\t') 2>/dev/null` &&
! 	   test "X$echo_testing_string" = 'X\t' &&
! 	   echo_testing_string=`($CONFIG_SHELL "[$]0" --fallback-echo "$echo_test_string") 2>/dev/null` &&
! 	   test "X$echo_testing_string" = "X$echo_test_string"; then
! 	echo="$CONFIG_SHELL [$]0 --fallback-echo"
!       else
! 	# maybe with a smaller string...
! 	prev=:
  
! 	for cmd in 'echo test' 'sed 2q "[$]0"' 'sed 10q "[$]0"' 'sed 20q "[$]0"' 'sed 50q "[$]0"'; do
! 	  if (test "X$echo_test_string" = "X`eval $cmd`") 2>/dev/null
! 	  then
! 	    break
! 	  fi
! 	  prev="$cmd"
! 	done
  
! 	if test "$prev" != 'sed 50q "[$]0"'; then
! 	  echo_test_string=`eval $prev`
! 	  export echo_test_string
! 	  exec ${ORIGINAL_CONFIG_SHELL-${CONFIG_SHELL-/bin/sh}} "[$]0" ${1+"[$]@"}
! 	else
! 	  # Oops.  We lost completely, so just stick with echo.
! 	  echo=echo
! 	fi
!       fi
!     fi
!   fi
! fi
! fi
  
! # Copy echo and quote the copy suitably for passing to libtool from
! # the Makefile, instead of quoting the original, which is used later.
! ECHO=$echo
! if test "X$ECHO" = "X$CONFIG_SHELL [$]0 --fallback-echo"; then
!    ECHO="$CONFIG_SHELL \\\$\[$]0 --fallback-echo"
! fi
  
! AC_SUBST(ECHO)
! AC_DIVERT_POP
! ])# _LT_AC_PROG_ECHO_BACKSLASH
  
! # _LT_AC_TRY_DLOPEN_SELF (ACTION-IF-TRUE, ACTION-IF-TRUE-W-USCORE,
! #                           ACTION-IF-FALSE, ACTION-IF-CROSS-COMPILING)
! # ------------------------------------------------------------------
! AC_DEFUN([_LT_AC_TRY_DLOPEN_SELF],
! [if test "$cross_compiling" = yes; then :
!   [$4]
! else
!   AC_REQUIRE([_LT_AC_CHECK_DLFCN])dnl
!   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
!   lt_status=$lt_dlunknown
!   cat > conftest.$ac_ext <<EOF
! [#line __oline__ "configure"
! #include "confdefs.h"
  
! #if HAVE_DLFCN_H
! #include <dlfcn.h>
! #endif
  
! #include <stdio.h>
  
! #ifdef RTLD_GLOBAL
! #  define LT_DLGLOBAL		RTLD_GLOBAL
! #else
! #  ifdef DL_GLOBAL
! #    define LT_DLGLOBAL		DL_GLOBAL
! #  else
! #    define LT_DLGLOBAL		0
! #  endif
! #endif
  
! /* We may have to define LT_DLLAZY_OR_NOW in the command line if we
!    find out it does not work in some platform. */
! #ifndef LT_DLLAZY_OR_NOW
! #  ifdef RTLD_LAZY
! #    define LT_DLLAZY_OR_NOW		RTLD_LAZY
! #  else
! #    ifdef DL_LAZY
! #      define LT_DLLAZY_OR_NOW		DL_LAZY
! #    else
! #      ifdef RTLD_NOW
! #        define LT_DLLAZY_OR_NOW	RTLD_NOW
! #      else
! #        ifdef DL_NOW
! #          define LT_DLLAZY_OR_NOW	DL_NOW
! #        else
! #          define LT_DLLAZY_OR_NOW	0
! #        endif
! #      endif
! #    endif
! #  endif
! #endif
  
! #ifdef __cplusplus
! extern "C" void exit (int);
! #endif
  
! void fnord() { int i=42;}
! int main ()
! {
!   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
!   int status = $lt_dlunknown;
  
!   if (self)
!     {
!       if (dlsym (self,"fnord"))       status = $lt_dlno_uscore;
!       else if (dlsym( self,"_fnord")) status = $lt_dlneed_uscore;
!       /* dlclose (self); */
!     }
! 
!     exit (status);
! }]
! EOF
!   if AC_TRY_EVAL(ac_link) && test -s conftest${ac_exeext} 2>/dev/null; then
!     (./conftest; exit; ) 2>/dev/null
!     lt_status=$?
!     case x$lt_status in
!       x$lt_dlno_uscore) $1 ;;
!       x$lt_dlneed_uscore) $2 ;;
!       x$lt_unknown|x*) $3 ;;
!     esac
!   else :
!     # compilation failed
!     $3
!   fi
  fi
! rm -fr conftest*
! ])# _LT_AC_TRY_DLOPEN_SELF
  
! # AC_LIBTOOL_DLOPEN_SELF
! # -------------------
! AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF],
! [if test "x$enable_dlopen" != xyes; then
!   enable_dlopen=unknown
!   enable_dlopen_self=unknown
!   enable_dlopen_self_static=unknown
! else
!   lt_cv_dlopen=no
!   lt_cv_dlopen_libs=
  
!   case $host_os in
!   beos*)
!     lt_cv_dlopen="load_add_on"
!     lt_cv_dlopen_libs=
!     lt_cv_dlopen_self=yes
!     ;;
  
!   cygwin* | mingw* | pw32*)
!     lt_cv_dlopen="LoadLibrary"
!     lt_cv_dlopen_libs=
!    ;;
  
!   *)
!     AC_CHECK_FUNC([shl_load],
!           [lt_cv_dlopen="shl_load"],
!       [AC_CHECK_LIB([dld], [shl_load],
!             [lt_cv_dlopen="shl_load" lt_cv_dlopen_libs="-dld"],
! 	[AC_CHECK_FUNC([dlopen],
! 	      [lt_cv_dlopen="dlopen"],
! 	  [AC_CHECK_LIB([dl], [dlopen],
! 	        [lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-ldl"],
! 	    [AC_CHECK_LIB([svld], [dlopen],
! 	          [lt_cv_dlopen="dlopen" lt_cv_dlopen_libs="-lsvld"],
! 	      [AC_CHECK_LIB([dld], [dld_link],
! 	            [lt_cv_dlopen="dld_link" lt_cv_dlopen_libs="-dld"])
! 	      ])
! 	    ])
! 	  ])
! 	])
!       ])
!     ;;
!   esac
  
!   if test "x$lt_cv_dlopen" != xno; then
!     enable_dlopen=yes
!   else
!     enable_dlopen=no
!   fi
  
!   case $lt_cv_dlopen in
!   dlopen)
!     save_CPPFLAGS="$CPPFLAGS"
!     AC_REQUIRE([_LT_AC_CHECK_DLFCN])dnl
!     test "x$ac_cv_header_dlfcn_h" = xyes && CPPFLAGS="$CPPFLAGS -DHAVE_DLFCN_H"
  
!     save_LDFLAGS="$LDFLAGS"
!     eval LDFLAGS=\"\$LDFLAGS $export_dynamic_flag_spec\"
  
!     save_LIBS="$LIBS"
!     LIBS="$lt_cv_dlopen_libs $LIBS"
  
!     AC_CACHE_CHECK([whether a program can dlopen itself],
! 	  lt_cv_dlopen_self, [dnl
! 	  _LT_AC_TRY_DLOPEN_SELF(
! 	    lt_cv_dlopen_self=yes, lt_cv_dlopen_self=yes,
! 	    lt_cv_dlopen_self=no, lt_cv_dlopen_self=cross)
!     ])
  
!     if test "x$lt_cv_dlopen_self" = xyes; then
!       LDFLAGS="$LDFLAGS $link_static_flag"
!       AC_CACHE_CHECK([whether a statically linked program can dlopen itself],
!     	  lt_cv_dlopen_self_static, [dnl
! 	  _LT_AC_TRY_DLOPEN_SELF(
! 	    lt_cv_dlopen_self_static=yes, lt_cv_dlopen_self_static=yes,
! 	    lt_cv_dlopen_self_static=no,  lt_cv_dlopen_self_static=cross)
!       ])
!     fi
  
!     CPPFLAGS="$save_CPPFLAGS"
!     LDFLAGS="$save_LDFLAGS"
!     LIBS="$save_LIBS"
!     ;;
!   esac
  
+   case $lt_cv_dlopen_self in
+   yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;
+   *) enable_dlopen_self=unknown ;;
+   esac
  
!   case $lt_cv_dlopen_self_static in
!   yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;
!   *) enable_dlopen_self_static=unknown ;;
!   esac
! fi
! ])# AC_LIBTOOL_DLOPEN_SELF
  
+ AC_DEFUN([_LT_AC_LTCONFIG_HACK],
+ [AC_REQUIRE([AC_LIBTOOL_SYS_GLOBAL_SYMBOL_PIPE])dnl
+ # Sed substitution that helps us do robust quoting.  It backslashifies
+ # metacharacters that are still active within double-quoted strings.
+ Xsed='sed -e s/^X//'
+ sed_quote_subst='s/\([[\\"\\`$\\\\]]\)/\\\1/g'
  
+ # Same as above, but do not quote variable references.
+ double_quote_subst='s/\([[\\"\\`\\\\]]\)/\\\1/g'
  
! # Sed substitution to delay expansion of an escaped shell variable in a
! # double_quote_subst'ed string.
! delay_variable_subst='s/\\\\\\\\\\\$/\\\\\\$/g'
  
! # Constants:
! rm="rm -f"
  
! # Global variables:
! default_ofile=libtool
! can_build_shared=yes
  
! # All known linkers require a `.a' archive for static linking (except M$VC,
! # which needs '.lib').
! libext=a
! ltmain="$ac_aux_dir/ltmain.sh"
! ofile="$default_ofile"
! with_gnu_ld="$lt_cv_prog_gnu_ld"
! need_locks="$enable_libtool_lock"
  
! old_CC="$CC"
! old_CFLAGS="$CFLAGS"
  
! # Set sane defaults for various variables
! test -z "$AR" && AR=ar
! test -z "$AR_FLAGS" && AR_FLAGS=cru
! test -z "$AS" && AS=as
! test -z "$CC" && CC=cc
! test -z "$DLLTOOL" && DLLTOOL=dlltool
! test -z "$LD" && LD=ld
! test -z "$LN_S" && LN_S="ln -s"
! test -z "$MAGIC_CMD" && MAGIC_CMD=file
! test -z "$NM" && NM=nm
! test -z "$OBJDUMP" && OBJDUMP=objdump
! test -z "$RANLIB" && RANLIB=:
! test -z "$STRIP" && STRIP=:
! test -z "$ac_objext" && ac_objext=o
  
+ if test x"$host" != x"$build"; then
+   ac_tool_prefix=${host_alias}-
+ else
+   ac_tool_prefix=
+ fi
  
! # Transform linux* to *-*-linux-gnu*, to support old configure scripts.
! case $host_os in
! linux-gnu*) ;;
! linux*) host=`echo $host | sed 's/^\(.*-.*-linux\)\(.*\)$/\1-gnu\2/'`
! esac
  
+ case $host_os in
+ aix3*)
+   # AIX sometimes has problems with the GCC collect2 program.  For some
+   # reason, if we set the COLLECT_NAMES environment variable, the problems
+   # vanish in a puff of smoke.
+   if test "X${COLLECT_NAMES+set}" != Xset; then
+     COLLECT_NAMES=
+     export COLLECT_NAMES
+   fi
+   ;;
+ esac
  
! # Determine commands to create old-style static archives.
! old_archive_cmds='$AR $AR_FLAGS $oldlib$oldobjs$old_deplibs'
! old_postinstall_cmds='chmod 644 $oldlib'
! old_postuninstall_cmds=
! 
! if test -n "$RANLIB"; then
!   case $host_os in
!   openbsd*)
!     old_postinstall_cmds="\$RANLIB -t \$oldlib~$old_postinstall_cmds"
!     ;;
!   *)
!     old_postinstall_cmds="\$RANLIB \$oldlib~$old_postinstall_cmds"
!     ;;
!   esac
!   old_archive_cmds="$old_archive_cmds~\$RANLIB \$oldlib"
  fi
  
! # Allow CC to be a program name with arguments.
! set dummy $CC
! compiler="[$]2"
  
! AC_MSG_CHECKING([for objdir])
! rm -f .libs 2>/dev/null
! mkdir .libs 2>/dev/null
! if test -d .libs; then
!   objdir=.libs
! else
!   # MS-DOS does not allow filenames that begin with a dot.
!   objdir=_libs
! fi
! rmdir .libs 2>/dev/null
! AC_MSG_RESULT($objdir)
  
  
! AC_ARG_WITH(pic,
! [  --with-pic              try to use only PIC/non-PIC objects [default=use both]],
! pic_mode="$withval", pic_mode=default)
! test -z "$pic_mode" && pic_mode=default
  
! # We assume here that the value for lt_cv_prog_cc_pic will not be cached
! # in isolation, and that seeing it set (from the cache) indicates that
! # the associated values are set (in the cache) correctly too.
! AC_MSG_CHECKING([for $compiler option to produce PIC])
! AC_CACHE_VAL(lt_cv_prog_cc_pic,
! [ lt_cv_prog_cc_pic=
!   lt_cv_prog_cc_shlib=
!   lt_cv_prog_cc_wl=
!   lt_cv_prog_cc_static=
!   lt_cv_prog_cc_no_builtin=
!   lt_cv_prog_cc_can_build_shared=$can_build_shared
  
!   if test "$GCC" = yes; then
!     lt_cv_prog_cc_wl='-Wl,'
!     lt_cv_prog_cc_static='-static'
  
!     case $host_os in
!     aix*)
!       # Below there is a dirty hack to force normal static linking with -ldl
!       # The problem is because libdl dynamically linked with both libc and
!       # libC (AIX C++ library), which obviously doesn't included in libraries
!       # list by gcc. This cause undefined symbols with -static flags.
!       # This hack allows C programs to be linked with "-static -ldl", but
!       # not sure about C++ programs.
!       lt_cv_prog_cc_static="$lt_cv_prog_cc_static ${lt_cv_prog_cc_wl}-lC"
!       ;;
!     amigaos*)
!       # FIXME: we need at least 68020 code to build shared libraries, but
!       # adding the `-m68020' flag to GCC prevents building anything better,
!       # like `-m68040'.
!       lt_cv_prog_cc_pic='-m68020 -resident32 -malways-restore-a4'
!       ;;
!     beos* | irix5* | irix6* | osf3* | osf4* | osf5*)
!       # PIC is the default for these OSes.
!       ;;
!     darwin* | rhapsody*)
!       # PIC is the default on this platform
!       # Common symbols not allowed in MH_DYLIB files
!       lt_cv_prog_cc_pic='-fno-common'
!       ;;
!     cygwin* | mingw* | pw32* | os2*)
!       # This hack is so that the source file can tell whether it is being
!       # built for inclusion in a dll (and should export symbols for example).
!       lt_cv_prog_cc_pic='-DDLL_EXPORT'
!       ;;
!     sysv4*MP*)
!       if test -d /usr/nec; then
! 	 lt_cv_prog_cc_pic=-Kconform_pic
!       fi
!       ;;
!     *)
!       lt_cv_prog_cc_pic='-fPIC'
!       ;;
!     esac
    else
!     # PORTME Check for PIC flags for the system compiler.
!     case $host_os in
!     aix3* | aix4* | aix5*)
!       lt_cv_prog_cc_wl='-Wl,'
!       # All AIX code is PIC.
!       if test "$host_cpu" = ia64; then
! 	# AIX 5 now supports IA64 processor
! 	lt_cv_prog_cc_static='-Bstatic'
!       else
! 	lt_cv_prog_cc_static='-bnso -bI:/lib/syscalls.exp'
!       fi
!       ;;
  
+     hpux9* | hpux10* | hpux11*)
+       # Is there a better lt_cv_prog_cc_static that works with the bundled CC?
+       lt_cv_prog_cc_wl='-Wl,'
+       lt_cv_prog_cc_static="${lt_cv_prog_cc_wl}-a ${lt_cv_prog_cc_wl}archive"
+       lt_cv_prog_cc_pic='+Z'
+       ;;
  
!     irix5* | irix6*)
!       lt_cv_prog_cc_wl='-Wl,'
!       lt_cv_prog_cc_static='-non_shared'
!       # PIC (with -KPIC) is the default.
!       ;;
  
!     cygwin* | mingw* | pw32* | os2*)
!       # This hack is so that the source file can tell whether it is being
!       # built for inclusion in a dll (and should export symbols for example).
!       lt_cv_prog_cc_pic='-DDLL_EXPORT'
!       ;;
  
!     newsos6)
!       lt_cv_prog_cc_pic='-KPIC'
!       lt_cv_prog_cc_static='-Bstatic'
!       ;;
  
!     osf3* | osf4* | osf5*)
!       # All OSF/1 code is PIC.
!       lt_cv_prog_cc_wl='-Wl,'
!       lt_cv_prog_cc_static='-non_shared'
!       ;;
  
!     sco3.2v5*)
!       lt_cv_prog_cc_pic='-Kpic'
!       lt_cv_prog_cc_static='-dn'
!       lt_cv_prog_cc_shlib='-belf'
!       ;;
  
!     solaris*)
!       lt_cv_prog_cc_pic='-KPIC'
!       lt_cv_prog_cc_static='-Bstatic'
!       lt_cv_prog_cc_wl='-Wl,'
!       ;;
  
!     sunos4*)
!       lt_cv_prog_cc_pic='-PIC'
!       lt_cv_prog_cc_static='-Bstatic'
!       lt_cv_prog_cc_wl='-Qoption ld '
!       ;;
  
!     sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
!       lt_cv_prog_cc_pic='-KPIC'
!       lt_cv_prog_cc_static='-Bstatic'
!       if test "x$host_vendor" = xsni; then
! 	lt_cv_prog_cc_wl='-LD'
!       else
! 	lt_cv_prog_cc_wl='-Wl,'
!       fi
!       ;;
  
!     uts4*)
!       lt_cv_prog_cc_pic='-pic'
!       lt_cv_prog_cc_static='-Bstatic'
!       ;;
  
!     sysv4*MP*)
!       if test -d /usr/nec ;then
! 	lt_cv_prog_cc_pic='-Kconform_pic'
! 	lt_cv_prog_cc_static='-Bstatic'
!       fi
!       ;;
  
!     *)
!       lt_cv_prog_cc_can_build_shared=no
!       ;;
!     esac
!   fi
! ])
! if test -z "$lt_cv_prog_cc_pic"; then
!   AC_MSG_RESULT([none])
! else
!   AC_MSG_RESULT([$lt_cv_prog_cc_pic])
  
!   # Check to make sure the pic_flag actually works.
!   AC_MSG_CHECKING([if $compiler PIC flag $lt_cv_prog_cc_pic works])
!   AC_CACHE_VAL(lt_cv_prog_cc_pic_works, [dnl
!     save_CFLAGS="$CFLAGS"
!     CFLAGS="$CFLAGS $lt_cv_prog_cc_pic -DPIC"
!     AC_TRY_COMPILE([], [], [dnl
!       case $host_os in
!       hpux9* | hpux10* | hpux11*)
! 	# On HP-UX, both CC and GCC only warn that PIC is supported... then
! 	# they create non-PIC objects.  So, if there were any warnings, we
! 	# assume that PIC is not supported.
! 	if test -s conftest.err; then
! 	  lt_cv_prog_cc_pic_works=no
! 	else
! 	  lt_cv_prog_cc_pic_works=yes
! 	fi
! 	;;
!       *)
! 	lt_cv_prog_cc_pic_works=yes
! 	;;
!       esac
!     ], [dnl
!       lt_cv_prog_cc_pic_works=no
!     ])
!     CFLAGS="$save_CFLAGS"
!   ])
  
!   if test "X$lt_cv_prog_cc_pic_works" = Xno; then
!     lt_cv_prog_cc_pic=
!     lt_cv_prog_cc_can_build_shared=no
!   else
!     lt_cv_prog_cc_pic=" $lt_cv_prog_cc_pic"
!   fi
  
!   AC_MSG_RESULT([$lt_cv_prog_cc_pic_works])
  fi
  
! # Check for any special shared library compilation flags.
! if test -n "$lt_cv_prog_cc_shlib"; then
!   AC_MSG_WARN([\`$CC' requires \`$lt_cv_prog_cc_shlib' to build shared libraries])
!   if echo "$old_CC $old_CFLAGS " | egrep -e "[[ 	]]$lt_cv_prog_cc_shlib[[ 	]]" >/dev/null; then :
!   else
!    AC_MSG_WARN([add \`$lt_cv_prog_cc_shlib' to the CC or CFLAGS env variable and reconfigure])
!     lt_cv_prog_cc_can_build_shared=no
!   fi
! fi
  
! AC_MSG_CHECKING([if $compiler static flag $lt_cv_prog_cc_static works])
! AC_CACHE_VAL([lt_cv_prog_cc_static_works], [dnl
!   lt_cv_prog_cc_static_works=no
!   save_LDFLAGS="$LDFLAGS"
!   LDFLAGS="$LDFLAGS $lt_cv_prog_cc_static"
!   AC_TRY_LINK([], [], [lt_cv_prog_cc_static_works=yes])
!   LDFLAGS="$save_LDFLAGS"
! ])
  
! # Belt *and* braces to stop my trousers falling down:
! test "X$lt_cv_prog_cc_static_works" = Xno && lt_cv_prog_cc_static=
! AC_MSG_RESULT([$lt_cv_prog_cc_static_works])
  
! pic_flag="$lt_cv_prog_cc_pic"
! special_shlib_compile_flags="$lt_cv_prog_cc_shlib"
! wl="$lt_cv_prog_cc_wl"
! link_static_flag="$lt_cv_prog_cc_static"
! no_builtin_flag="$lt_cv_prog_cc_no_builtin"
! can_build_shared="$lt_cv_prog_cc_can_build_shared"
  
  
! # Check to see if options -o and -c are simultaneously supported by compiler
! AC_MSG_CHECKING([if $compiler supports -c -o file.$ac_objext])
! AC_CACHE_VAL([lt_cv_compiler_c_o], [
! $rm -r conftest 2>/dev/null
! mkdir conftest
! cd conftest
! echo "int some_variable = 0;" > conftest.$ac_ext
! mkdir out
! # According to Tom Tromey, Ian Lance Taylor reported there are C compilers
! # that will create temporary files in the current directory regardless of
! # the output directory.  Thus, making CWD read-only will cause this test
! # to fail, enabling locking or at least warning the user not to do parallel
! # builds.
! chmod -w .
! save_CFLAGS="$CFLAGS"
! CFLAGS="$CFLAGS -o out/conftest2.$ac_objext"
! compiler_c_o=no
! if { (eval echo configure:__oline__: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>out/conftest.err; } && test -s out/conftest2.$ac_objext; then
!   # The compiler can only warn and ignore the option if not recognized
!   # So say no if there are warnings
!   if test -s out/conftest.err; then
!     lt_cv_compiler_c_o=no
!   else
!     lt_cv_compiler_c_o=yes
!   fi
! else
!   # Append any errors to the config.log.
!   cat out/conftest.err 1>&AC_FD_CC
!   lt_cv_compiler_c_o=no
! fi
! CFLAGS="$save_CFLAGS"
! chmod u+w .
! $rm conftest* out/*
! rmdir out
! cd ..
! rmdir conftest
! $rm -r conftest 2>/dev/null
! ])
! compiler_c_o=$lt_cv_compiler_c_o
! AC_MSG_RESULT([$compiler_c_o])
  
! if test x"$compiler_c_o" = x"yes"; then
!   # Check to see if we can write to a .lo
!   AC_MSG_CHECKING([if $compiler supports -c -o file.lo])
!   AC_CACHE_VAL([lt_cv_compiler_o_lo], [
!   lt_cv_compiler_o_lo=no
!   save_CFLAGS="$CFLAGS"
!   CFLAGS="$CFLAGS -c -o conftest.lo"
!   save_objext="$ac_objext"
!   ac_objext=lo
!   AC_TRY_COMPILE([], [int some_variable = 0;], [dnl
!     # The compiler can only warn and ignore the option if not recognized
!     # So say no if there are warnings
!     if test -s conftest.err; then
!       lt_cv_compiler_o_lo=no
!     else
!       lt_cv_compiler_o_lo=yes
!     fi
!   ])
!   ac_objext="$save_objext"
!   CFLAGS="$save_CFLAGS"
!   ])
!   compiler_o_lo=$lt_cv_compiler_o_lo
!   AC_MSG_RESULT([$compiler_o_lo])
! else
!   compiler_o_lo=no
! fi
  
! # Check to see if we can do hard links to lock some files if needed
! hard_links="nottested"
! if test "$compiler_c_o" = no && test "$need_locks" != no; then
!   # do not overwrite the value of need_locks provided by the user
!   AC_MSG_CHECKING([if we can lock with hard links])
!   hard_links=yes
!   $rm conftest*
!   ln conftest.a conftest.b 2>/dev/null && hard_links=no
!   touch conftest.a
!   ln conftest.a conftest.b 2>&5 || hard_links=no
!   ln conftest.a conftest.b 2>/dev/null && hard_links=no
!   AC_MSG_RESULT([$hard_links])
!   if test "$hard_links" = no; then
!     AC_MSG_WARN([\`$CC' does not support \`-c -o', so \`make -j' may be unsafe])
!     need_locks=warn
!   fi
! else
!   need_locks=no
! fi
  
! if test "$GCC" = yes; then
!   # Check to see if options -fno-rtti -fno-exceptions are supported by compiler
!   AC_MSG_CHECKING([if $compiler supports -fno-rtti -fno-exceptions])
!   echo "int some_variable = 0;" > conftest.$ac_ext
!   save_CFLAGS="$CFLAGS"
!   CFLAGS="$CFLAGS -fno-rtti -fno-exceptions -c conftest.$ac_ext"
!   compiler_rtti_exceptions=no
!   AC_TRY_COMPILE([], [int some_variable = 0;], [dnl
!     # The compiler can only warn and ignore the option if not recognized
!     # So say no if there are warnings
!     if test -s conftest.err; then
!       compiler_rtti_exceptions=no
!     else
!       compiler_rtti_exceptions=yes
!     fi
!   ])
!   CFLAGS="$save_CFLAGS"
!   AC_MSG_RESULT([$compiler_rtti_exceptions])
  
!   if test "$compiler_rtti_exceptions" = "yes"; then
!     no_builtin_flag=' -fno-builtin -fno-rtti -fno-exceptions'
!   else
!     no_builtin_flag=' -fno-builtin'
!   fi
! fi
  
! # See if the linker supports building shared libraries.
! AC_MSG_CHECKING([whether the linker ($LD) supports shared libraries])
  
! allow_undefined_flag=
! no_undefined_flag=
! need_lib_prefix=unknown
! need_version=unknown
! # when you set need_version to no, make sure it does not cause -set_version
! # flags to be left without arguments
! archive_cmds=
! archive_expsym_cmds=
! old_archive_from_new_cmds=
! old_archive_from_expsyms_cmds=
! export_dynamic_flag_spec=
! use_runtimelinking=
! whole_archive_flag_spec=
! thread_safe_flag_spec=
! hardcode_into_libs=no
! hardcode_libdir_flag_spec=
! hardcode_libdir_separator=
! hardcode_direct=no
! hardcode_minus_L=no
! hardcode_shlibpath_var=unsupported
! runpath_var=
! link_all_deplibs=unknown
! always_export_symbols=no
! export_symbols_cmds='$NM $libobjs $convenience | $global_symbol_pipe | sed '\''s/.* //'\'' | sort | uniq > $export_symbols'
! export_symbols_cmds32='$NM32 $libobjs32 $convenience | $global_symbol_pipe | sed '\''s/.* //'\'' | sort | uniq > $export_symbols32'
! export_symbols_cmds64='$NM64 $libobjs64 $convenience | $global_symbol_pipe | sed '\''s/.* //'\'' | sort | uniq > $export_symbols64'
! # include_expsyms should be a list of space-separated symbols to be *always*
! # included in the symbol list
! include_expsyms=
! # exclude_expsyms can be an egrep regular expression of symbols to exclude
! # it will be wrapped by ` (' and `)$', so one must not match beginning or
! # end of line.  Example: `a|bc|.*d.*' will exclude the symbols `a' and `bc',
! # as well as any symbol that contains `d'.
! exclude_expsyms="_GLOBAL_OFFSET_TABLE_"
! # Although _GLOBAL_OFFSET_TABLE_ is a valid symbol C name, most a.out
! # platforms (ab)use it in PIC code, but their linkers get confused if
! # the symbol is explicitly referenced.  Since portable code cannot
! # rely on this symbol name, it's probably fine to never include it in
! # preloaded symbol tables.
! extract_expsyms_cmds=
  
! case $host_os in
! cygwin* | mingw* | pw32*)
!   # FIXME: the MSVC++ port hasn't been tested in a loooong time
!   # When not using gcc, we currently assume that we are using
!   # Microsoft Visual C++.
!   if test "$GCC" != yes; then
!     with_gnu_ld=no
    fi
    ;;
+ openbsd*)
+   with_gnu_ld=no
+   ;;
  esac
  
! ld_shlibs=yes
! if test "$with_gnu_ld" = yes; then
!   # If archive_cmds runs LD, not CC, wlarc should be empty
!   wlarc='${wl}'
  
!   # See if GNU ld supports shared libraries.
!   case $host_os in
!   aix3* | aix4* | aix5*)
!     # On AIX, the GNU linker is very broken
!     # Note:Check GNU linker on AIX 5-IA64 when/if it becomes available.
!     ld_shlibs=no
!     cat <<EOF 1>&2
  
! *** Warning: the GNU linker, at least up to release 2.9.1, is reported
! *** to be unable to reliably create shared libraries on AIX.
! *** Therefore, libtool is disabling shared libraries support.  If you
! *** really care for shared libraries, you may want to modify your PATH
! *** so that a non-GNU linker is found, and then restart.
  
! EOF
!     ;;
  
!   amigaos*)
!     archive_cmds='$rm $output_objdir/a2ixlibrary.data~$echo "#define NAME $libname" > $output_objdir/a2ixlibrary.data~$echo "#define LIBRARY_ID 1" >> $output_objdir/a2ixlibrary.data~$echo "#define VERSION $major" >> $output_objdir/a2ixlibrary.data~$echo "#define REVISION $revision" >> $output_objdir/a2ixlibrary.data~$AR $AR_FLAGS $lib $libobjs~$RANLIB $lib~(cd $output_objdir && a2ixlibrary -32)'
!     hardcode_libdir_flag_spec='-L$libdir'
!     hardcode_minus_L=yes
  
!     # Samuel A. Falvo II <kc5tja@dolphin.openprojects.net> reports
!     # that the semantics of dynamic libraries on AmigaOS, at least up
!     # to version 4, is to share data among multiple programs linked
!     # with the same dynamic library.  Since this doesn't match the
!     # behavior of shared libraries on other platforms, we can use
!     # them.
!     ld_shlibs=no
!     ;;
  
!   beos*)
!     if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then
!       allow_undefined_flag=unsupported
!       # Joseph Beckenbach <jrb3@best.com> says some releases of gcc
!       # support --undefined.  This deserves some investigation.  FIXME
!       archive_cmds='$CC -nostart $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
!     else
!       ld_shlibs=no
!     fi
!     ;;
  
!   cygwin* | mingw* | pw32*)
!     # hardcode_libdir_flag_spec is actually meaningless, as there is
!     # no search path for DLLs.
!     hardcode_libdir_flag_spec='-L$libdir'
!     allow_undefined_flag=unsupported
!     always_export_symbols=yes
  
!     extract_expsyms_cmds='test -f $output_objdir/impgen.c || \
!       sed -e "/^# \/\* impgen\.c starts here \*\//,/^# \/\* impgen.c ends here \*\// { s/^# //;s/^# *$//; p; }" -e d < $''0 > $output_objdir/impgen.c~
!       test -f $output_objdir/impgen.exe || (cd $output_objdir && \
!       if test "x$HOST_CC" != "x" ; then $HOST_CC -o impgen impgen.c ; \
!       else $CC -o impgen impgen.c ; fi)~
!       $output_objdir/impgen $dir/$soroot > $output_objdir/$soname-def'
  
!     old_archive_from_expsyms_cmds='$DLLTOOL --as=$AS --dllname $soname --def $output_objdir/$soname-def --output-lib $output_objdir/$newlib'
  
!     # cygwin and mingw dlls have different entry points and sets of symbols
!     # to exclude.
!     # FIXME: what about values for MSVC?
!     dll_entry=__cygwin_dll_entry@12
!     dll_exclude_symbols=DllMain@12,_cygwin_dll_entry@12,_cygwin_noncygwin_dll_entry@12~
!     case $host_os in
!     mingw*)
!       # mingw values
!       dll_entry=_DllMainCRTStartup@12
!       dll_exclude_symbols=DllMain@12,DllMainCRTStartup@12,DllEntryPoint@12~
        ;;
!     esac
  
!     # mingw and cygwin differ, and it's simplest to just exclude the union
!     # of the two symbol sets.
!     dll_exclude_symbols=DllMain@12,_cygwin_dll_entry@12,_cygwin_noncygwin_dll_entry@12,DllMainCRTStartup@12,DllEntryPoint@12
  
!     # recent cygwin and mingw systems supply a stub DllMain which the user
!     # can override, but on older systems we have to supply one (in ltdll.c)
!     if test "x$lt_cv_need_dllmain" = "xyes"; then
!       ltdll_obj='$output_objdir/$soname-ltdll.'"$ac_objext "
!       ltdll_cmds='test -f $output_objdir/$soname-ltdll.c || sed -e "/^# \/\* ltdll\.c starts here \*\//,/^# \/\* ltdll.c ends here \*\// { s/^# //; p; }" -e d < $''0 > $output_objdir/$soname-ltdll.c~
! 	test -f $output_objdir/$soname-ltdll.$ac_objext || (cd $output_objdir && $CC -c $soname-ltdll.c)~'
!     else
!       ltdll_obj=
!       ltdll_cmds=
!     fi
  
!     # Extract the symbol export list from an `--export-all' def file,
!     # then regenerate the def file from the symbol export list, so that
!     # the compiled dll only exports the symbol export list.
!     # Be careful not to strip the DATA tag left be newer dlltools.
!     export_symbols_cmds="$ltdll_cmds"'
!       $DLLTOOL --export-all --exclude-symbols '$dll_exclude_symbols' --output-def $output_objdir/$soname-def '$ltdll_obj'$libobjs $convenience~
!       sed -e "1,/EXPORTS/d" -e "s/ @ [[0-9]]*//" -e "s/ *;.*$//" < $output_objdir/$soname-def > $export_symbols'
  
!     # If the export-symbols file already is a .def file (1st line
!     # is EXPORTS), use it as is.
!     # If DATA tags from a recent dlltool are present, honour them!
!     archive_expsym_cmds='if test "x`head -1 $export_symbols`" = xEXPORTS; then
! 	cp $export_symbols $output_objdir/$soname-def;
!       else
! 	echo EXPORTS > $output_objdir/$soname-def;
! 	_lt_hint=1;
! 	cat $export_symbols | while read symbol; do
! 	 set dummy \$symbol;
! 	 case \[$]# in
! 	   2) echo "   \[$]2 @ \$_lt_hint ; " >> $output_objdir/$soname-def;;
! 	   *) echo "     \[$]2 @ \$_lt_hint \[$]3 ; " >> $output_objdir/$soname-def;;
! 	 esac;
! 	 _lt_hint=`expr 1 + \$_lt_hint`;
! 	done;
!       fi~
!       '"$ltdll_cmds"'
!       $CC -Wl,--base-file,$output_objdir/$soname-base '$lt_cv_cc_dll_switch' -Wl,-e,'$dll_entry' -o $output_objdir/$soname '$ltdll_obj'$libobjs $deplibs $compiler_flags~
!       $DLLTOOL --as=$AS --dllname $soname --exclude-symbols '$dll_exclude_symbols' --def $output_objdir/$soname-def --base-file $output_objdir/$soname-base --output-exp $output_objdir/$soname-exp~
!       $CC -Wl,--base-file,$output_objdir/$soname-base $output_objdir/$soname-exp '$lt_cv_cc_dll_switch' -Wl,-e,'$dll_entry' -o $output_objdir/$soname '$ltdll_obj'$libobjs $deplibs $compiler_flags~
!       $DLLTOOL --as=$AS --dllname $soname --exclude-symbols '$dll_exclude_symbols' --def $output_objdir/$soname-def --base-file $output_objdir/$soname-base --output-exp $output_objdir/$soname-exp --output-lib $output_objdir/$libname.dll.a~
!       $CC $output_objdir/$soname-exp '$lt_cv_cc_dll_switch' -Wl,-e,'$dll_entry' -o $output_objdir/$soname '$ltdll_obj'$libobjs $deplibs $compiler_flags'
!     ;;
  
!   netbsd*)
!     if echo __ELF__ | $CC -E - | grep __ELF__ >/dev/null; then
!       archive_cmds='$LD -Bshareable $libobjs $deplibs $linker_flags -o $lib'
!       wlarc=
!     else
!       archive_cmds='$CC -shared -nodefaultlibs $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
!       archive_expsym_cmds='$CC -shared -nodefaultlibs $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'
!     fi
!     ;;
  
!   solaris* | sysv5*)
!     if $LD -v 2>&1 | egrep 'BFD 2\.8' > /dev/null; then
!       ld_shlibs=no
!       cat <<EOF 1>&2
  
! *** Warning: The releases 2.8.* of the GNU linker cannot reliably
! *** create shared libraries on Solaris systems.  Therefore, libtool
! *** is disabling shared libraries support.  We urge you to upgrade GNU
! *** binutils to release 2.9.1 or newer.  Another option is to modify
! *** your PATH or compiler configuration so that the native linker is
! *** used, and then restart.
  
! EOF
!     elif $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then
!       archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
!       archive_expsym_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'
!     else
!       ld_shlibs=no
!     fi
!     ;;
  
!   sunos4*)
!     archive_cmds='$LD -assert pure-text -Bshareable -o $lib $libobjs $deplibs $linker_flags'
!     wlarc=
!     hardcode_direct=yes
!     hardcode_shlibpath_var=no
!     ;;
  
!   *)
!     if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then
!       archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
!       archive_expsym_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'
!     else
!       ld_shlibs=no
!     fi
!     ;;
!   esac
  
!   if test "$ld_shlibs" = yes; then
!     runpath_var=LD_RUN_PATH
!     hardcode_libdir_flag_spec='${wl}--rpath ${wl}$libdir'
!     export_dynamic_flag_spec='${wl}--export-dynamic'
!     case $host_os in
!     cygwin* | mingw* | pw32*)
!       # dlltool doesn't understand --whole-archive et. al.
!       whole_archive_flag_spec=
!       ;;
!     *)
!       # ancient GNU ld didn't support --whole-archive et. al.
!       if $LD --help 2>&1 | egrep 'no-whole-archive' > /dev/null; then
! 	whole_archive_flag_spec="$wlarc"'--whole-archive$convenience '"$wlarc"'--no-whole-archive'
!       else
! 	whole_archive_flag_spec=
!       fi
!       ;;
!     esac
!   fi
! else
!   # PORTME fill in a description of your system's linker (not GNU ld)
!   case $host_os in
!   aix3*)
!     allow_undefined_flag=unsupported
!     always_export_symbols=yes
!     archive_expsym_cmds='$LD -o $output_objdir/$soname $libobjs $deplibs $linker_flags -bE:$export_symbols -T512 -H512 -bM:SRE~$AR $AR_FLAGS $lib $output_objdir/$soname'
!     # Note: this linker hardcodes the directories in LIBPATH if there
!     # are no directories specified by -L.
!     hardcode_minus_L=yes
!     if test "$GCC" = yes && test -z "$link_static_flag"; then
!       # Neither direct hardcoding nor static linking is supported with a
!       # broken collect2.
!       hardcode_direct=unsupported
!     fi
!     ;;
  
!   aix4* | aix5*)
!     if test "$host_cpu" = ia64; then
!       # On IA64, the linker does run time linking by default, so we don't
!       # have to do anything special.
!       aix_use_runtimelinking=no
!       exp_sym_flag='-Bexport'
!       no_entry_flag=""
!       use_runtimelinking=""
!     else
!       aix_use_runtimelinking=yes
!       exp_sym_flag='-bexport'
!       no_entry_flag='-bnoentry'
!       use_runtimelinking='-brtl'
!     fi
  
!     # When large executables or shared objects are built, AIX ld can
!     # have problems creating the table of contents.  If linking a library
!     # or program results in "error TOC overflow" add -mminimal-toc to
!     # CXXFLAGS/CFLAGS for g++/gcc.  In the cases where that is not
!     # enough to fix the problem, add -Wl,-bbigtoc to LDFLAGS.
  
!     hardcode_direct=yes
!     archive_cmds=''
!     hardcode_libdir_separator=':'
!     if test "$GCC" = yes; then
!       case $host_os in aix4.[[012]]|aix4.[[012]].*)
! 	collect2name=`${CC} -print-prog-name=collect2`
! 	if test -f "$collect2name" && \
! 	  strings "$collect2name" | grep resolve_lib_name >/dev/null
! 	then
! 	  # We have reworked collect2
! 	  hardcode_direct=yes
! 	else
! 	  # We have old collect2
! 	  hardcode_direct=unsupported
! 	  # It fails to find uninstalled libraries when the uninstalled
! 	  # path is not listed in the libpath.  Setting hardcode_minus_L
! 	  # to unsupported forces relinking
! 	  hardcode_minus_L=yes
! 	  hardcode_libdir_flag_spec='-L$libdir'
! 	  hardcode_libdir_separator=
! 	fi
!       esac
  
!       shared_flag='-shared'
!     else
!       # not using gcc
!       shared_flag='${wl}-G'
!     fi
  
!     # It seems that -bexpall can do strange things, so it is better to
!     # generate a list of symbols to export.
!     always_export_symbols=yes
!     if test "$aix_use_runtimelinking" = yes; then
!       # Warning - without using the other runtime loading flags (-brtl),
!       # -berok will link without error, but may produce a broken library.
!       allow_undefined_flag='-berok'
!       hardcode_libdir_flag_spec='${wl}-bnolibpath ${wl}-blibpath:$libdir:/usr/lib:/lib'
!       archive_expsym_cmds="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags ${allow_undefined_flag} '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols"' ~$AR -crlo $output_objdir/$libname$release.a $output_objdir/$soname'
!       archive_expsym_cmds32="\$CC -q32 $shared_flag"' -o $output_objdir/32/$soname $libobjs32 $deplibs $compiler_flags ${allow_undefined_flag} '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols32"
!       archive_expsym_cmds64="\$CC -q64 $shared_flag"' -o $output_objdir/64/$soname $libobjs64 $deplibs $compiler_flags ${allow_undefined_flag} '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols64"
!       archive_expsym_cmds3264='$AR -X32_64 -crlo $output_objdir/$libname$release.a $output_objdir/32/$soname $output_objdir/64/$soname'
!     else
!       if test "$host_cpu" = ia64; then
! 	hardcode_libdir_flag_spec='${wl}-R $libdir:/usr/lib:/lib'
! 	allow_undefined_flag="-z nodefs"
! 	archive_expsym_cmds="\$CC $shared_flag"' -o $output_objdir/$soname ${wl}-h$soname $libobjs $deplibs $compiler_flags ${wl}${allow_undefined_flag} '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols"
        else
! 	hardcode_libdir_flag_spec='${wl}-bnolibpath ${wl}-blibpath:$libdir:/usr/lib:/lib'
! 	# Warning - without using the other run time loading flags,
! 	# -berok will link without error, but may produce a broken library.
! 	allow_undefined_flag='${wl}-berok'
! 	# This is a bit strange, but is similar to how AIX traditionally builds
! 	# it's shared libraries.
! 	archive_expsym_cmds="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags ${allow_undefined_flag} '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols"' ~$AR -crlo $output_objdir/$libname$release.a $output_objdir/$soname'
        fi
!     fi
!     ;;
  
    amigaos*)
      archive_cmds='$rm $output_objdir/a2ixlibrary.data~$echo "#define NAME $libname" > $output_objdir/a2ixlibrary.data~$echo "#define LIBRARY_ID 1" >> $output_objdir/a2ixlibrary.data~$echo "#define VERSION $major" >> $output_objdir/a2ixlibrary.data~$echo "#define REVISION $revision" >> $output_objdir/a2ixlibrary.data~$AR $AR_FLAGS $lib $libobjs~$RANLIB $lib~(cd $output_objdir && a2ixlibrary -32)'
***************
*** 2380,2388 ****
      esac
      # FIXME: Relying on posixy $() will cause problems for
      #        cross-compilation, but unfortunately the echo tests do not
!     #        yet detect zsh echo's removal of \ escapes.  Also zsh mangles
!     #	     `"' quotes if we put them in here... so don't!
!     archive_cmds='$CC -r -keep_private_externs -nostdlib -o ${lib}-master.o $libobjs && $CC $(test .$module = .yes && echo -bundle || echo -dynamiclib) $allow_undefined_flag -o $lib ${lib}-master.o $deplibs$linker_flags $(test .$module != .yes && echo -install_name $rpath/$soname $verstring)'
      # We need to add '_' to the symbols in $export_symbols first
      #archive_expsym_cmds="$archive_cmds"' && strip -s $export_symbols'
      hardcode_direct=yes
--- 1532,1539 ----
      esac
      # FIXME: Relying on posixy $() will cause problems for
      #        cross-compilation, but unfortunately the echo tests do not
!     #        yet detect zsh echo's removal of \ escapes.
!     archive_cmds='$nonopt $(test "x$module" = xyes && echo -bundle || echo -dynamiclib) $allow_undefined_flag -o $lib $libobjs $deplibs$linker_flags -install_name $rpath/$soname $verstring'
      # We need to add '_' to the symbols in $export_symbols first
      #archive_expsym_cmds="$archive_cmds"' && strip -s $export_symbols'
      hardcode_direct=yes
***************
*** 2434,2447 ****
      export_dynamic_flag_spec='${wl}-E'
      ;;
  
!   irix5* | irix6* | nonstopux*)
      if test "$GCC" = yes; then
        archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname ${wl}$soname `test -n "$verstring" && echo ${wl}-set_version ${wl}$verstring` ${wl}-update_registry ${wl}${output_objdir}/so_locations -o $lib'
-       hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'
      else
        archive_cmds='$LD -shared $libobjs $deplibs $linker_flags -soname $soname `test -n "$verstring" && echo -set_version $verstring` -update_registry ${output_objdir}/so_locations -o $lib'
-       hardcode_libdir_flag_spec='-rpath $libdir'
      fi
      hardcode_libdir_separator=:
      link_all_deplibs=yes
      ;;
--- 1585,1597 ----
      export_dynamic_flag_spec='${wl}-E'
      ;;
  
!   irix5* | irix6*)
      if test "$GCC" = yes; then
        archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname ${wl}$soname `test -n "$verstring" && echo ${wl}-set_version ${wl}$verstring` ${wl}-update_registry ${wl}${output_objdir}/so_locations -o $lib'
      else
        archive_cmds='$LD -shared $libobjs $deplibs $linker_flags -soname $soname `test -n "$verstring" && echo -set_version $verstring` -update_registry ${output_objdir}/so_locations -o $lib'
      fi
+     hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'
      hardcode_libdir_separator=:
      link_all_deplibs=yes
      ;;
***************
*** 2469,2475 ****
      hardcode_direct=yes
      hardcode_shlibpath_var=no
      if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
!       archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
        hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
        export_dynamic_flag_spec='${wl}-E'
      else
--- 1619,1625 ----
      hardcode_direct=yes
      hardcode_shlibpath_var=no
      if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
!       archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $linker_flags'
        hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
        export_dynamic_flag_spec='${wl}-E'
      else
***************
*** 2479,2485 ****
  	hardcode_libdir_flag_spec='-R$libdir'
          ;;
        *)
!         archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
          hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
          ;;
        esac
--- 1629,1635 ----
  	hardcode_libdir_flag_spec='-R$libdir'
          ;;
        *)
!         archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $linker_flags'
          hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
          ;;
        esac
***************
*** 2591,2613 ****
      ;;
  
    sysv4)
!     case $host_vendor in
!       sni)
!         archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
!         hardcode_direct=yes # is this really true???
!         ;;
!       siemens)
!         ## LD is ld it makes a PLAMLIB
!         ## CC just makes a GrossModule.
!         archive_cmds='$LD -G -o $lib $libobjs $deplibs $linker_flags'
!         reload_cmds='$CC -r -o $output$reload_objs'
!         hardcode_direct=no
!         ;;
!       motorola)
!         archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
!         hardcode_direct=no #Motorola manual says yes, but my tests say they lie
!         ;;
!     esac
      runpath_var='LD_RUN_PATH'
      hardcode_shlibpath_var=no
      ;;
--- 1741,1753 ----
      ;;
  
    sysv4)
!     if test "x$host_vendor" = xsno; then
!       archive_cmds='$LD -G -Bsymbolic -h $soname -o $lib $libobjs $deplibs $linker_flags'
!       hardcode_direct=yes # is this really true???
!     else
!       archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
!       hardcode_direct=no #Motorola manual says yes, but my tests say they lie
!     fi
      runpath_var='LD_RUN_PATH'
      hardcode_shlibpath_var=no
      ;;
***************
*** 2748,2756 ****
  
  aix4* | aix5*)
    version_type=linux
-   need_lib_prefix=no
-   need_version=no
-   hardcode_into_libs=yes
    if test "$host_cpu" = ia64; then
      # AIX 5 supports IA64
      library_names_spec='${libname}${release}.so$major ${libname}${release}.so$versuffix $libname.so'
--- 1888,1893 ----
***************
*** 2772,2795 ****
  	fi
  	;;
      esac
!     # AIX (on Power*) has no versioning support, so currently we can
!     # not hardcode correct soname into executable. Probably we can
!     # add versioning support to collect2, so additional links can
!     # be useful in future.
!     if test "$aix_use_runtimelinking" = yes; then
!       # If using run time linking (on AIX 4.2 or later) use lib<name>.so
!       # instead of lib<name>.a to let people know that these are not
!       # typical AIX shared libraries.
!       library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
!     else
!       # We preserve .a as extension for shared libraries through AIX4.2
!       # and later when we are not doing run time linking.
!       library_names_spec='${libname}${release}.a $libname.a'
!       soname_spec='${libname}${release}.so$major'
!     fi
      shlibpath_var=LIBPATH
    fi
-   hardcode_into_libs=yes
    ;;
  
  amigaos*)
--- 1909,1920 ----
  	fi
  	;;
      esac
!     # We preserve .a as extension for shared libraries through AIX4.2
!     library_names_spec='${libname}${release}.a $libname.a'
!     soname_spec='${libname}${release}.so$major'
      shlibpath_var=LIBPATH
+     hardcode_into_libs=yes
    fi
    ;;
  
  amigaos*)
***************
*** 2837,2843 ****
      ;;
    yes,mingw*)
      library_names_spec='${libname}`echo ${release} | sed -e 's/[[.]]/-/g'`${versuffix}.dll'
!     sys_lib_search_path_spec=`$CC -print-search-dirs | grep "^libraries:" | sed -e "s/^libraries://" -e "s/;/ /g" -e "s,=/,/,g"`
      ;;
    yes,pw32*)
      library_names_spec='`echo ${libname} | sed -e 's/^lib/pw/'``echo ${release} | sed -e 's/[.]/-/g'`${versuffix}.dll'
--- 1962,1968 ----
      ;;
    yes,mingw*)
      library_names_spec='${libname}`echo ${release} | sed -e 's/[[.]]/-/g'`${versuffix}.dll'
!     sys_lib_search_path_spec=`$CC -print-search-dirs | grep "^libraries:" | sed -e "s/^libraries://" -e "s/;/ /g"`
      ;;
    yes,pw32*)
      library_names_spec='`echo ${libname} | sed -e 's/^lib/pw/'``echo ${release} | sed -e 's/[.]/-/g'`${versuffix}.dll'
***************
*** 2862,2884 ****
    library_names_spec='${libname}${release}${versuffix}.$(test .$module = .yes && echo so || echo dylib) ${libname}${release}${major}.$(test .$module = .yes && echo so || echo dylib) ${libname}.$(test .$module = .yes && echo so || echo dylib)'
    soname_spec='${libname}${release}${major}.$(test .$module = .yes && echo so || echo dylib)'
    shlibpath_overrides_runpath=yes
!   shlibpath_var=DYLD_LIBRARY_PATH
!   ;;
! 
! freebsd1*)
!   dynamic_linker=no
!   ;;
! 
! freebsd*-gnu*)
!   version_type=linux
!   need_lib_prefix=no
!   need_version=no
!   library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
!   soname_spec='${libname}${release}.so$major'
!   shlibpath_var=LD_LIBRARY_PATH
!   shlibpath_overrides_runpath=no
!   hardcode_into_libs=yes
!   dynamic_linker='GNU/FreeBSD ld.so'
    ;;
  
  freebsd*)
--- 1987,1997 ----
    library_names_spec='${libname}${release}${versuffix}.$(test .$module = .yes && echo so || echo dylib) ${libname}${release}${major}.$(test .$module = .yes && echo so || echo dylib) ${libname}.$(test .$module = .yes && echo so || echo dylib)'
    soname_spec='${libname}${release}${major}.$(test .$module = .yes && echo so || echo dylib)'
    shlibpath_overrides_runpath=yes
!   shlibpath_var=DYLD_LIBRARY_PATH
!   ;;
! 
! freebsd1*)
!   dynamic_linker=no
    ;;
  
  freebsd*)
***************
*** 2932,2948 ****
    postinstall_cmds='chmod 555 $lib'
    ;;
  
! irix5* | irix6* | nonstopux*)
!   case $host_os in
!     nonstopux*) version_type=nonstopux ;;
!     *)          version_type=irix ;;
!   esac
    need_lib_prefix=no
    need_version=no
    soname_spec='${libname}${release}.so$major'
    library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major ${libname}${release}.so $libname.so'
    case $host_os in
!   irix5* | nonstopux*)
      libsuff= shlibsuff=
      ;;
    *)
--- 2045,2058 ----
    postinstall_cmds='chmod 555 $lib'
    ;;
  
! irix5* | irix6*)
!   version_type=irix
    need_lib_prefix=no
    need_version=no
    soname_spec='${libname}${release}.so$major'
    library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major ${libname}${release}.so $libname.so'
    case $host_os in
!   irix5*)
      libsuff= shlibsuff=
      ;;
    *)
***************
*** 3046,3058 ****
  osf3* | osf4* | osf5*)
    version_type=osf
    need_version=no
!   need_lib_prefix=no
!   soname_spec='${libname}${release}.so$major'
!   library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
    shlibpath_var=LD_LIBRARY_PATH
    sys_lib_search_path_spec="/usr/shlib /usr/ccs/lib /usr/lib/cmplrs/cc /usr/lib /usr/local/lib /var/shlib"
    sys_lib_dlsearch_path_spec="$sys_lib_search_path_spec"
-   hardcode_into_libs=yes
    ;;
  
  sco3.2v5*)
--- 2156,2166 ----
  osf3* | osf4* | osf5*)
    version_type=osf
    need_version=no
!   soname_spec='${libname}${release}.so'
!   library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so $libname.so'
    shlibpath_var=LD_LIBRARY_PATH
    sys_lib_search_path_spec="/usr/shlib /usr/ccs/lib /usr/lib/cmplrs/cc /usr/lib /usr/local/lib /var/shlib"
    sys_lib_dlsearch_path_spec="$sys_lib_search_path_spec"
    ;;
  
  sco3.2v5*)
***************
*** 3095,3106 ****
    case $host_vendor in
      sni)
        shlibpath_overrides_runpath=no
-       need_lib_prefix=no
-       export_dynamic_flag_spec='${wl}-Blargedynsym'
-       runpath_var=LD_RUN_PATH
-       ;;
-     siemens)
-       need_lib_prefix=no
        ;;
      motorola)
        need_lib_prefix=no
--- 2203,2208 ----
***************
*** 3161,3168 ****
    fi
    ;;
  
! aix4*)
!   if test "$host_cpu" != ia64 && test "$aix_use_runtimelinking" = no ; then
      test "$enable_shared" = yes && enable_static=no
    fi
    ;;
--- 2263,2270 ----
    fi
    ;;
  
! aix4* | aix5*)
!   if test "$host_cpu" != ia64 ; then
      test "$enable_shared" = yes && enable_static=no
    fi
    ;;
***************
*** 3248,3270 ****
  
  if test -f "$ltmain"; then
    trap "$rm \"${ofile}T\"; exit 1" 1 2 15
!   $rm -f "${ofile}T"
  
    echo creating $ofile
  
    # Now quote all the things that may contain metacharacters while being
    # careful not to overquote the AC_SUBSTed values.  We take copies of the
    # variables and quote the copies for generation of the libtool script.
!   for var in echo old_CC old_CFLAGS SED \
      AR AR_FLAGS CC LD LN_S NM SHELL \
      reload_flag reload_cmds wl \
      pic_flag link_static_flag no_builtin_flag export_dynamic_flag_spec \
      thread_safe_flag_spec whole_archive_flag_spec libname_spec \
      library_names_spec soname_spec \
      RANLIB old_archive_cmds old_archive_from_new_cmds old_postinstall_cmds \
!     old_postuninstall_cmds archive_cmds archive_expsym_cmds postinstall_cmds \
      postuninstall_cmds extract_expsyms_cmds old_archive_from_expsyms_cmds \
!     old_striplib striplib file_magic_cmd export_symbols_cmds \
      deplibs_check_method allow_undefined_flag no_undefined_flag \
      finish_cmds finish_eval global_symbol_pipe global_symbol_to_cdecl \
      global_symbol_to_c_name_address \
--- 2350,2375 ----
  
  if test -f "$ltmain"; then
    trap "$rm \"${ofile}T\"; exit 1" 1 2 15
!     AR AR_FLAGS CC LD LN_S NM SHELL \
  
    echo creating $ofile
  
    # Now quote all the things that may contain metacharacters while being
    # careful not to overquote the AC_SUBSTed values.  We take copies of the
    # variables and quote the copies for generation of the libtool script.
!   for var in echo old_CC old_CFLAGS \
      AR AR_FLAGS CC LD LN_S NM SHELL \
      reload_flag reload_cmds wl \
      pic_flag link_static_flag no_builtin_flag export_dynamic_flag_spec \
+     use_runtimelinking \
      thread_safe_flag_spec whole_archive_flag_spec libname_spec \
      library_names_spec soname_spec \
      RANLIB old_archive_cmds old_archive_from_new_cmds old_postinstall_cmds \
!     old_postuninstall_cmds archive_cmds archive_expsym_cmds archive_expsym_cmds32 \
!     archive_expsym_cmds64 archive_expsym_cmds3264 postinstall_cmds \
      postuninstall_cmds extract_expsyms_cmds old_archive_from_expsyms_cmds \
!     old_striplib striplib file_magic_cmd export_symbols_cmds export_symbols_cmds32 \
!     export_symbols_cmds64 \
      deplibs_check_method allow_undefined_flag no_undefined_flag \
      finish_cmds finish_eval global_symbol_pipe global_symbol_to_cdecl \
      global_symbol_to_c_name_address \
***************
*** 3275,3281 ****
      case $var in
      reload_cmds | old_archive_cmds | old_archive_from_new_cmds | \
      old_postinstall_cmds | old_postuninstall_cmds | \
!     export_symbols_cmds | archive_cmds | archive_expsym_cmds | \
      extract_expsyms_cmds | old_archive_from_expsyms_cmds | \
      postinstall_cmds | postuninstall_cmds | \
      finish_cmds | sys_lib_search_path_spec | sys_lib_dlsearch_path_spec)
--- 2380,2387 ----
      case $var in
      reload_cmds | old_archive_cmds | old_archive_from_new_cmds | \
      old_postinstall_cmds | old_postuninstall_cmds | \
!     export_symbols_cmds | export_symbols_cmds32 | export_symbols_cmds64 | \
!     archive_cmds | archive_expsym_cmds | \
      extract_expsyms_cmds | old_archive_from_expsyms_cmds | \
      postinstall_cmds | postuninstall_cmds | \
      finish_cmds | sys_lib_search_path_spec | sys_lib_dlsearch_path_spec)
***************
*** 3317,3327 ****
  # configuration script generated by Autoconf, you may include it under
  # the same distribution terms that you use for the rest of that program.
  
- # A sed that does not truncate output.
- SED=$lt_SED
- 
  # Sed that helps us avoid accidentally triggering echo(1) options like -n.
! Xsed="${SED} -e s/^X//"
  
  # The HP-UX ksh and POSIX shell print the target directory to stdout
  # if CDPATH is set.
--- 2423,2430 ----
  # configuration script generated by Autoconf, you may include it under
  # the same distribution terms that you use for the rest of that program.
  
  # Sed that helps us avoid accidentally triggering echo(1) options like -n.
! Xsed="sed -e s/^X//"
  
  # The HP-UX ksh and POSIX shell print the target directory to stdout
  # if CDPATH is set.
***************
*** 3371,3376 ****
--- 2474,2481 ----
  
  # A BSD-compatible nm program.
  NM=$lt_NM
+ NM32="$NM -X32"
+ NM64="$NM -X64"
  
  # A symbol stripping program
  STRIP=$STRIP
***************
*** 3410,3415 ****
--- 2515,2523 ----
  pic_flag=$lt_pic_flag
  pic_mode=$pic_mode
  
+ # Test if we must compil libraries with 32 and 64 bit members
+ compil32_64=$compil32_64
+ 
  # Does compiler simultaneously support -c and -o options?
  compiler_c_o=$lt_compiler_c_o
  
***************
*** 3443,4537 ****
  # Compiler flag to allow reflexive dlopens.
  export_dynamic_flag_spec=$lt_export_dynamic_flag_spec
  
  # Compiler flag to generate shared objects directly from archives.
  whole_archive_flag_spec=$lt_whole_archive_flag_spec
  
! # Compiler flag to generate thread-safe objects.
! thread_safe_flag_spec=$lt_thread_safe_flag_spec
  
! # Library versioning type.
! version_type=$version_type
  
! # Format of library name prefix.
! libname_spec=$lt_libname_spec
  
! # List of archive names.  First name is the real one, the rest are links.
! # The last name is the one that the linker finds with -lNAME.
! library_names_spec=$lt_library_names_spec
  
! # The coded name of the library, if different from the real name.
! soname_spec=$lt_soname_spec
  
! # Commands used to build and install an old-style archive.
! RANLIB=$lt_RANLIB
! old_archive_cmds=$lt_old_archive_cmds
! old_postinstall_cmds=$lt_old_postinstall_cmds
! old_postuninstall_cmds=$lt_old_postuninstall_cmds
  
! # Create an old-style archive from a shared archive.
! old_archive_from_new_cmds=$lt_old_archive_from_new_cmds
  
! # Create a temporary old-style archive to link instead of a shared archive.
! old_archive_from_expsyms_cmds=$lt_old_archive_from_expsyms_cmds
  
! # Commands used to build and install a shared archive.
! archive_cmds=$lt_archive_cmds
! archive_expsym_cmds=$lt_archive_expsym_cmds
! postinstall_cmds=$lt_postinstall_cmds
! postuninstall_cmds=$lt_postuninstall_cmds
  
! # Commands to strip libraries.
! old_striplib=$lt_old_striplib
! striplib=$lt_striplib
  
- # Method to check whether dependent libraries are shared objects.
- deplibs_check_method=$lt_deplibs_check_method
  
! # Command to use when deplibs_check_method == file_magic.
! file_magic_cmd=$lt_file_magic_cmd
  
! # Flag that allows shared libraries with undefined symbols to be built.
! allow_undefined_flag=$lt_allow_undefined_flag
  
! # Flag that forces no undefined symbols.
! no_undefined_flag=$lt_no_undefined_flag
  
- # Commands used to finish a libtool library installation in a directory.
- finish_cmds=$lt_finish_cmds
  
! # Same as above, but a single script fragment to be evaled but not shown.
! finish_eval=$lt_finish_eval
  
! # Take the output of nm and produce a listing of raw symbols and C names.
! global_symbol_pipe=$lt_global_symbol_pipe
  
! # Transform the output of nm in a proper C declaration
! global_symbol_to_cdecl=$lt_global_symbol_to_cdecl
  
- # Transform the output of nm in a C name address pair
- global_symbol_to_c_name_address=$lt_global_symbol_to_c_name_address
  
! # This is the shared library runtime path variable.
! runpath_var=$runpath_var
  
- # This is the shared library path variable.
- shlibpath_var=$shlibpath_var
  
! # Is shlibpath searched before the hard-coded library search path?
! shlibpath_overrides_runpath=$shlibpath_overrides_runpath
  
! # How to hardcode a shared library path into an executable.
! hardcode_action=$hardcode_action
  
! # Whether we should hardcode library paths into libraries.
! hardcode_into_libs=$hardcode_into_libs
  
! # Flag to hardcode \$libdir into a binary during linking.
! # This must work even if \$libdir does not exist.
! hardcode_libdir_flag_spec=$lt_hardcode_libdir_flag_spec
  
! # Whether we need a single -rpath flag with a separated argument.
! hardcode_libdir_separator=$lt_hardcode_libdir_separator
  
! # Set to yes if using DIR/libNAME.so during linking hardcodes DIR into the
! # resulting binary.
! hardcode_direct=$hardcode_direct
  
! # Set to yes if using the -LDIR flag during linking hardcodes DIR into the
! # resulting binary.
! hardcode_minus_L=$hardcode_minus_L
  
! # Set to yes if using SHLIBPATH_VAR=DIR during linking hardcodes DIR into
! # the resulting binary.
! hardcode_shlibpath_var=$hardcode_shlibpath_var
  
! # Variables whose values should be saved in libtool wrapper scripts and
! # restored at relink time.
! variables_saved_for_relink="$variables_saved_for_relink"
  
! # Whether libtool must link a program against all its dependency libraries.
! link_all_deplibs=$link_all_deplibs
  
! # Compile-time system search path for libraries
! sys_lib_search_path_spec=$lt_sys_lib_search_path_spec
  
! # Run-time system search path for libraries
! sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
  
! # Fix the shell variable \$srcfile for the compiler.
! fix_srcfile_path="$fix_srcfile_path"
  
! # Set to yes if exported symbols are required.
! always_export_symbols=$always_export_symbols
  
! # The commands to list exported symbols.
! export_symbols_cmds=$lt_export_symbols_cmds
  
! # The commands to extract the exported symbol list from a shared archive.
! extract_expsyms_cmds=$lt_extract_expsyms_cmds
  
! # Symbols that should not be listed in the preloaded symbols.
! exclude_expsyms=$lt_exclude_expsyms
  
! # Symbols that must always be exported.
! include_expsyms=$lt_include_expsyms
  
! # ### END LIBTOOL CONFIG
  
! __EOF__
  
!   case $host_os in
!   aix3*)
!     cat <<\EOF >> "${ofile}T"
  
! # AIX sometimes has problems with the GCC collect2 program.  For some
! # reason, if we set the COLLECT_NAMES environment variable, the problems
! # vanish in a puff of smoke.
! if test "X${COLLECT_NAMES+set}" != Xset; then
!   COLLECT_NAMES=
!   export COLLECT_NAMES
! fi
! EOF
      ;;
    esac
  
!   case $host_os in
!   cygwin* | mingw* | pw32* | os2*)
!     cat <<'EOF' >> "${ofile}T"
!       # This is a source program that is used to create dlls on Windows
!       # Don't remove nor modify the starting and closing comments
! # /* ltdll.c starts here */
! # #define WIN32_LEAN_AND_MEAN
! # #include <windows.h>
! # #undef WIN32_LEAN_AND_MEAN
! # #include <stdio.h>
! #
! # #ifndef __CYGWIN__
! # #  ifdef __CYGWIN32__
! # #    define __CYGWIN__ __CYGWIN32__
! # #  endif
! # #endif
! #
! # #ifdef __cplusplus
! # extern "C" {
! # #endif
! # BOOL APIENTRY DllMain (HINSTANCE hInst, DWORD reason, LPVOID reserved);
! # #ifdef __cplusplus
! # }
! # #endif
! #
! # #ifdef __CYGWIN__
! # #include <cygwin/cygwin_dll.h>
! # DECLARE_CYGWIN_DLL( DllMain );
! # #endif
! # HINSTANCE __hDllInstance_base;
! #
! # BOOL APIENTRY
! # DllMain (HINSTANCE hInst, DWORD reason, LPVOID reserved)
! # {
! #   __hDllInstance_base = hInst;
! #   return TRUE;
! # }
! # /* ltdll.c ends here */
! 	# This is a source program that is used to create import libraries
! 	# on Windows for dlls which lack them. Don't remove nor modify the
! 	# starting and closing comments
! # /* impgen.c starts here */
! # /*   Copyright (C) 1999-2000 Free Software Foundation, Inc.
! #
! #  This file is part of GNU libtool.
! #
! #  This program is free software; you can redistribute it and/or modify
! #  it under the terms of the GNU General Public License as published by
! #  the Free Software Foundation; either version 2 of the License, or
! #  (at your option) any later version.
! #
! #  This program is distributed in the hope that it will be useful,
! #  but WITHOUT ANY WARRANTY; without even the implied warranty of
! #  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
! #  GNU General Public License for more details.
! #
! #  You should have received a copy of the GNU General Public License
! #  along with this program; if not, write to the Free Software
! #  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
! #  */
! #
! # #include <stdio.h>		/* for printf() */
! # #include <unistd.h>		/* for open(), lseek(), read() */
! # #include <fcntl.h>		/* for O_RDONLY, O_BINARY */
! # #include <string.h>		/* for strdup() */
! #
! # /* O_BINARY isn't required (or even defined sometimes) under Unix */
! # #ifndef O_BINARY
! # #define O_BINARY 0
! # #endif
! #
! # static unsigned int
! # pe_get16 (fd, offset)
! #      int fd;
! #      int offset;
! # {
! #   unsigned char b[2];
! #   lseek (fd, offset, SEEK_SET);
! #   read (fd, b, 2);
! #   return b[0] + (b[1]<<8);
! # }
! #
! # static unsigned int
! # pe_get32 (fd, offset)
! #     int fd;
! #     int offset;
! # {
! #   unsigned char b[4];
! #   lseek (fd, offset, SEEK_SET);
! #   read (fd, b, 4);
! #   return b[0] + (b[1]<<8) + (b[2]<<16) + (b[3]<<24);
! # }
! #
! # static unsigned int
! # pe_as32 (ptr)
! #      void *ptr;
! # {
! #   unsigned char *b = ptr;
! #   return b[0] + (b[1]<<8) + (b[2]<<16) + (b[3]<<24);
! # }
! #
! # int
! # main (argc, argv)
! #     int argc;
! #     char *argv[];
! # {
! #     int dll;
! #     unsigned long pe_header_offset, opthdr_ofs, num_entries, i;
! #     unsigned long export_rva, export_size, nsections, secptr, expptr;
! #     unsigned long name_rvas, nexp;
! #     unsigned char *expdata, *erva;
! #     char *filename, *dll_name;
! #
! #     filename = argv[1];
  #
! #     dll = open(filename, O_RDONLY|O_BINARY);
! #     if (dll < 1)
! # 	return 1;
  #
! #     dll_name = filename;
  #
! #     for (i=0; filename[i]; i++)
! # 	if (filename[i] == '/' || filename[i] == '\\'  || filename[i] == ':')
! # 	    dll_name = filename + i +1;
  #
! #     pe_header_offset = pe_get32 (dll, 0x3c);
! #     opthdr_ofs = pe_header_offset + 4 + 20;
! #     num_entries = pe_get32 (dll, opthdr_ofs + 92);
  #
! #     if (num_entries < 1) /* no exports */
! # 	return 1;
  #
- #     export_rva = pe_get32 (dll, opthdr_ofs + 96);
- #     export_size = pe_get32 (dll, opthdr_ofs + 100);
- #     nsections = pe_get16 (dll, pe_header_offset + 4 +2);
- #     secptr = (pe_header_offset + 4 + 20 +
- # 	      pe_get16 (dll, pe_header_offset + 4 + 16));
  #
! #     expptr = 0;
! #     for (i = 0; i < nsections; i++)
! #     {
! # 	char sname[8];
! # 	unsigned long secptr1 = secptr + 40 * i;
! # 	unsigned long vaddr = pe_get32 (dll, secptr1 + 12);
! # 	unsigned long vsize = pe_get32 (dll, secptr1 + 16);
! # 	unsigned long fptr = pe_get32 (dll, secptr1 + 20);
! # 	lseek(dll, secptr1, SEEK_SET);
! # 	read(dll, sname, 8);
! # 	if (vaddr <= export_rva && vaddr+vsize > export_rva)
! # 	{
! # 	    expptr = fptr + (export_rva - vaddr);
! # 	    if (export_rva + export_size > vaddr + vsize)
! # 		export_size = vsize - (export_rva - vaddr);
! # 	    break;
! # 	}
! #     }
  #
- #     expdata = (unsigned char*)malloc(export_size);
- #     lseek (dll, expptr, SEEK_SET);
- #     read (dll, expdata, export_size);
- #     erva = expdata - export_rva;
  #
! #     nexp = pe_as32 (expdata+24);
! #     name_rvas = pe_as32 (expdata+32);
  #
- #     printf ("EXPORTS\n");
- #     for (i = 0; i<nexp; i++)
- #     {
- # 	unsigned long name_rva = pe_as32 (erva+name_rvas+i*4);
- # 	printf ("\t%s @ %ld ;\n", erva+name_rva, 1+ i);
- #     }
  #
! #     return 0;
! # }
! # /* impgen.c ends here */
  
! EOF
!     ;;
!   esac
  
!   # We use sed instead of cat because bash on DJGPP gets confused if
!   # if finds mixed CR/LF and LF-only lines.  Since sed operates in
!   # text mode, it properly converts lines to CR/LF.  This bash problem
!   # is reportedly fixed, but why not run on old versions too?
!   sed '$q' "$ltmain" >> "${ofile}T" || (rm -f "${ofile}T"; exit 1)
  
!   mv -f "${ofile}T" "$ofile" || \
!     (rm -f "$ofile" && cp "${ofile}T" "$ofile" && rm -f "${ofile}T")
!   chmod +x "$ofile"
! fi
  
! ])# _LT_AC_LTCONFIG_HACK
  
! # AC_LIBTOOL_DLOPEN - enable checks for dlopen support
! AC_DEFUN([AC_LIBTOOL_DLOPEN], [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])])
  
! # AC_LIBTOOL_WIN32_DLL - declare package support for building win32 dll's
! AC_DEFUN([AC_LIBTOOL_WIN32_DLL], [AC_BEFORE([$0], [AC_LIBTOOL_SETUP])])
  
! # AC_ENABLE_SHARED - implement the --enable-shared flag
! # Usage: AC_ENABLE_SHARED[(DEFAULT)]
! #   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to
! #   `yes'.
! AC_DEFUN([AC_ENABLE_SHARED],
! [define([AC_ENABLE_SHARED_DEFAULT], ifelse($1, no, no, yes))dnl
! AC_ARG_ENABLE(shared,
! changequote(<<, >>)dnl
! <<  --enable-shared[=PKGS]  build shared libraries [default=>>AC_ENABLE_SHARED_DEFAULT],
! changequote([, ])dnl
! [p=${PACKAGE-default}
! case $enableval in
! yes) enable_shared=yes ;;
! no) enable_shared=no ;;
! *)
!   enable_shared=no
!   # Look at the argument we got.  We use all the common list separators.
!   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:,"
!   for pkg in $enableval; do
!     if test "X$pkg" = "X$p"; then
!       enable_shared=yes
!     fi
!   done
!   IFS="$ac_save_ifs"
!   ;;
! esac],
! enable_shared=AC_ENABLE_SHARED_DEFAULT)dnl
  ])
  
! # AC_DISABLE_SHARED - set the default shared flag to --disable-shared
! AC_DEFUN([AC_DISABLE_SHARED],
! [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
! AC_ENABLE_SHARED(no)])
  
! # AC_ENABLE_STATIC - implement the --enable-static flag
! # Usage: AC_ENABLE_STATIC[(DEFAULT)]
! #   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to
! #   `yes'.
! AC_DEFUN([AC_ENABLE_STATIC],
! [define([AC_ENABLE_STATIC_DEFAULT], ifelse($1, no, no, yes))dnl
! AC_ARG_ENABLE(static,
! changequote(<<, >>)dnl
! <<  --enable-static[=PKGS]  build static libraries [default=>>AC_ENABLE_STATIC_DEFAULT],
! changequote([, ])dnl
! [p=${PACKAGE-default}
! case $enableval in
! yes) enable_static=yes ;;
! no) enable_static=no ;;
! *)
!   enable_static=no
!   # Look at the argument we got.  We use all the common list separators.
!   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:,"
!   for pkg in $enableval; do
!     if test "X$pkg" = "X$p"; then
!       enable_static=yes
!     fi
!   done
!   IFS="$ac_save_ifs"
!   ;;
! esac],
! enable_static=AC_ENABLE_STATIC_DEFAULT)dnl
! ])
  
! # AC_DISABLE_STATIC - set the default static flag to --disable-static
! AC_DEFUN([AC_DISABLE_STATIC],
! [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
! AC_ENABLE_STATIC(no)])
  
  
- # AC_ENABLE_FAST_INSTALL - implement the --enable-fast-install flag
- # Usage: AC_ENABLE_FAST_INSTALL[(DEFAULT)]
- #   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to
- #   `yes'.
- AC_DEFUN([AC_ENABLE_FAST_INSTALL],
- [define([AC_ENABLE_FAST_INSTALL_DEFAULT], ifelse($1, no, no, yes))dnl
- AC_ARG_ENABLE(fast-install,
- changequote(<<, >>)dnl
- <<  --enable-fast-install[=PKGS]  optimize for fast installation [default=>>AC_ENABLE_FAST_INSTALL_DEFAULT],
- changequote([, ])dnl
- [p=${PACKAGE-default}
- case $enableval in
- yes) enable_fast_install=yes ;;
- no) enable_fast_install=no ;;
- *)
-   enable_fast_install=no
-   # Look at the argument we got.  We use all the common list separators.
-   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:,"
-   for pkg in $enableval; do
-     if test "X$pkg" = "X$p"; then
-       enable_fast_install=yes
-     fi
-   done
-   IFS="$ac_save_ifs"
-   ;;
- esac],
- enable_fast_install=AC_ENABLE_FAST_INSTALL_DEFAULT)dnl
- ])
  
! # AC_DISABLE_FAST_INSTALL - set the default to --disable-fast-install
! AC_DEFUN([AC_DISABLE_FAST_INSTALL],
! [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
! AC_ENABLE_FAST_INSTALL(no)])
  
! # AC_LIBTOOL_PICMODE - implement the --with-pic flag
! # Usage: AC_LIBTOOL_PICMODE[(MODE)]
! #   Where MODE is either `yes' or `no'.  If omitted, it defaults to
! #   `both'.
! AC_DEFUN([AC_LIBTOOL_PICMODE],
! [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
! pic_mode=ifelse($#,1,$1,default)])
  
  
- # AC_PATH_TOOL_PREFIX - find a file program which can recognise shared library
- AC_DEFUN([AC_PATH_TOOL_PREFIX],
- [AC_MSG_CHECKING([for $1])
- AC_CACHE_VAL(lt_cv_path_MAGIC_CMD,
- [case $MAGIC_CMD in
-   /*)
-   lt_cv_path_MAGIC_CMD="$MAGIC_CMD" # Let the user override the test with a path.
-   ;;
-   ?:/*)
-   lt_cv_path_MAGIC_CMD="$MAGIC_CMD" # Let the user override the test with a dos path.
-   ;;
-   *)
-   ac_save_MAGIC_CMD="$MAGIC_CMD"
-   IFS="${IFS=   }"; ac_save_ifs="$IFS"; IFS=":"
- dnl $ac_dummy forces splitting on constant user-supplied paths.
- dnl POSIX.2 word splitting is done only on the output of word expansions,
- dnl not every word.  This closes a longstanding sh security hole.
-   ac_dummy="ifelse([$2], , $PATH, [$2])"
-   for ac_dir in $ac_dummy; do
-     test -z "$ac_dir" && ac_dir=.
-     if test -f $ac_dir/$1; then
-       lt_cv_path_MAGIC_CMD="$ac_dir/$1"
-       if test -n "$file_magic_test_file"; then
- 	case $deplibs_check_method in
- 	"file_magic "*)
- 	  file_magic_regex="`expr \"$deplibs_check_method\" : \"file_magic \(.*\)\"`"
- 	  MAGIC_CMD="$lt_cv_path_MAGIC_CMD"
- 	  if eval $file_magic_cmd \$file_magic_test_file 2> /dev/null |
- 	    egrep "$file_magic_regex" > /dev/null; then
- 	    :
- 	  else
- 	    cat <<EOF 1>&2
  
! *** Warning: the command libtool uses to detect shared libraries,
! *** $file_magic_cmd, produces output that libtool cannot recognize.
! *** The result is that libtool may fail to recognize shared libraries
! *** as such.  This will affect the creation of libtool libraries that
! *** depend on shared libraries, but programs linked with such libtool
! *** libraries will work regardless of this problem.  Nevertheless, you
! *** may want to report the problem to your system manager and/or to
! *** bug-libtool@gnu.org
  
! EOF
! 	  fi ;;
! 	esac
        fi
-       break
      fi
    done
!   IFS="$ac_save_ifs"
!   MAGIC_CMD="$ac_save_MAGIC_CMD"
!   ;;
! esac])
! MAGIC_CMD="$lt_cv_path_MAGIC_CMD"
! if test -n "$MAGIC_CMD"; then
!   AC_MSG_RESULT($MAGIC_CMD)
  else
!   AC_MSG_RESULT(no)
  fi
  ])
  
  
! # AC_PATH_MAGIC - find a file program which can recognise a shared library
! AC_DEFUN([AC_PATH_MAGIC],
! [AC_REQUIRE([AC_CHECK_TOOL_PREFIX])dnl
! AC_PATH_TOOL_PREFIX(${ac_tool_prefix}file, /usr/bin:$PATH)
! if test -z "$lt_cv_path_MAGIC_CMD"; then
!   if test -n "$ac_tool_prefix"; then
!     AC_PATH_TOOL_PREFIX(file, /usr/bin:$PATH)
    else
!     MAGIC_CMD=:
    fi
! fi
  ])
  
  
! # AC_PROG_LD - find the path to the GNU or non-GNU linker
! AC_DEFUN([AC_PROG_LD],
! [AC_ARG_WITH(gnu-ld,
! [  --with-gnu-ld           assume the C compiler uses GNU ld [default=no]],
! test "$withval" = no || with_gnu_ld=yes, with_gnu_ld=no)
! AC_REQUIRE([AC_PROG_CC])dnl
! AC_REQUIRE([AC_CANONICAL_HOST])dnl
! AC_REQUIRE([AC_CANONICAL_BUILD])dnl
! AC_REQUIRE([_LT_AC_LIBTOOL_SYS_PATH_SEPARATOR])dnl
! ac_prog=ld
! if test "$GCC" = yes; then
!   # Check if gcc -print-prog-name=ld gives a path.
!   AC_MSG_CHECKING([for ld used by GCC])
!   case $host in
!   *-*-mingw*)
!     # gcc leaves a trailing carriage return which upsets mingw
!     ac_prog=`($CC -print-prog-name=ld) 2>&5 | tr -d '\015'` ;;
!   *)
!     ac_prog=`($CC -print-prog-name=ld) 2>&5` ;;
!   esac
!   case $ac_prog in
!     # Accept absolute paths.
!     [[\\/]]* | [[A-Za-z]]:[[\\/]]*)
!       re_direlt='/[[^/]][[^/]]*/\.\./'
!       # Canonicalize the path of ld
!       ac_prog=`echo $ac_prog| sed 's%\\\\%/%g'`
!       while echo $ac_prog | grep "$re_direlt" > /dev/null 2>&1; do
! 	ac_prog=`echo $ac_prog| sed "s%$re_direlt%/%"`
!       done
!       test -z "$LD" && LD="$ac_prog"
!       ;;
!   "")
!     # If it fails, then pretend we aren't using GCC.
!     ac_prog=ld
!     ;;
!   *)
!     # If it is relative, then search for the first ld in PATH.
!     with_gnu_ld=unknown
!     ;;
!   esac
! elif test "$with_gnu_ld" = yes; then
!   AC_MSG_CHECKING([for GNU ld])
! else
!   AC_MSG_CHECKING([for non-GNU ld])
  fi
! AC_CACHE_VAL(lt_cv_path_LD,
! [if test -z "$LD"; then
!   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=$PATH_SEPARATOR
!   for ac_dir in $PATH; do
!     test -z "$ac_dir" && ac_dir=.
!     if test -f "$ac_dir/$ac_prog" || test -f "$ac_dir/$ac_prog$ac_exeext"; then
!       lt_cv_path_LD="$ac_dir/$ac_prog"
!       # Check to see if the program is GNU ld.  I'd rather use --version,
!       # but apparently some GNU ld's only accept -v.
!       # Break only if it was the GNU/non-GNU ld that we prefer.
!       if "$lt_cv_path_LD" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then
! 	test "$with_gnu_ld" != no && break
!       else
! 	test "$with_gnu_ld" != yes && break
!       fi
!     fi
!   done
!   IFS="$ac_save_ifs"
! else
!   lt_cv_path_LD="$LD" # Let the user override the test with a path.
! fi])
! LD="$lt_cv_path_LD"
! if test -n "$LD"; then
!   AC_MSG_RESULT($LD)
! else
!   AC_MSG_RESULT(no)
  fi
! test -z "$LD" && AC_MSG_ERROR([no acceptable ld found in \$PATH])
! AC_PROG_LD_GNU
! ])
  
! # AC_PROG_LD_GNU -
! AC_DEFUN([AC_PROG_LD_GNU],
! [AC_CACHE_CHECK([if the linker ($LD) is GNU ld], lt_cv_prog_gnu_ld,
! [# I'd rather use --version here, but apparently some GNU ld's only accept -v.
! if $LD -v 2>&1 </dev/null | egrep '(GNU|with BFD)' 1>&5; then
!   lt_cv_prog_gnu_ld=yes
! else
!   lt_cv_prog_gnu_ld=no
! fi])
! with_gnu_ld=$lt_cv_prog_gnu_ld
! ])
  
! # AC_PROG_LD_RELOAD_FLAG - find reload flag for linker
! #   -- PORTME Some linkers may need a different reload flag.
! AC_DEFUN([AC_PROG_LD_RELOAD_FLAG],
! [AC_CACHE_CHECK([for $LD option to reload object files], lt_cv_ld_reload_flag,
! [lt_cv_ld_reload_flag='-r'])
! reload_flag=$lt_cv_ld_reload_flag
! test -n "$reload_flag" && reload_flag=" $reload_flag"
! ])
  
! # AC_DEPLIBS_CHECK_METHOD - how to check for library dependencies
! #  -- PORTME fill in with the dynamic library characteristics
! AC_DEFUN([AC_DEPLIBS_CHECK_METHOD],
! [AC_CACHE_CHECK([how to recognise dependent libraries],
! lt_cv_deplibs_check_method,
! [lt_cv_file_magic_cmd='$MAGIC_CMD'
! lt_cv_file_magic_test_file=
! lt_cv_deplibs_check_method='unknown'
! # Need to set the preceding variable on all platforms that support
! # interlibrary dependencies.
! # 'none' -- dependencies not supported.
! # `unknown' -- same as none, but documents that we really don't know.
! # 'pass_all' -- all dependencies passed with no checks.
! # 'test_compile' -- check by making test program.
! # 'file_magic [[regex]]' -- check by looking for files in library path
! # which responds to the $file_magic_cmd with a given egrep regex.
! # If you have `file' or equivalent on your system and you're not sure
! # whether `pass_all' will *always* work, you probably want this one.
  
- case $host_os in
- aix4* | aix5*)
-   lt_cv_deplibs_check_method=pass_all
-   ;;
  
! beos*)
!   lt_cv_deplibs_check_method=pass_all
!   ;;
  
! bsdi4*)
!   lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[ML]]SB (shared object|dynamic lib)'
!   lt_cv_file_magic_cmd='/usr/bin/file -L'
!   lt_cv_file_magic_test_file=/shlib/libc.so
!   ;;
  
! cygwin* | mingw* | pw32*)
!   lt_cv_deplibs_check_method='file_magic file format pei*-i386(.*architecture: i386)?'
!   lt_cv_file_magic_cmd='$OBJDUMP -f'
!   ;;
  
! darwin* | rhapsody*)
!   lt_cv_deplibs_check_method='file_magic Mach-O dynamically linked shared library'
!   lt_cv_file_magic_cmd='/usr/bin/file -L'
!   case "$host_os" in
!   rhapsody* | darwin1.[[012]])
!     lt_cv_file_magic_test_file=`echo /System/Library/Frameworks/System.framework/Versions/*/System | head -1`
!     ;;
!   *) # Darwin 1.3 on
!     lt_cv_file_magic_test_file='/usr/lib/libSystem.dylib'
!     ;;
!   esac
!   ;;
  
! freebsd*)
!   if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then
!     case $host_cpu in
!     i*86 )
!       # Not sure whether the presence of OpenBSD here was a mistake.
!       # Let's accept both of them until this is cleared up.
!       lt_cv_deplibs_check_method='file_magic (FreeBSD|OpenBSD)/i[[3-9]]86 (compact )?demand paged shared library'
!       lt_cv_file_magic_cmd=/usr/bin/file
!       lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`
!       ;;
!     esac
!   else
!     lt_cv_deplibs_check_method=pass_all
!   fi
!   ;;
  
! gnu*)
!   lt_cv_deplibs_check_method=pass_all
!   ;;
  
! hpux10.20*|hpux11*)
!   lt_cv_deplibs_check_method='file_magic (s[[0-9]][[0-9]][[0-9]]|PA-RISC[[0-9]].[[0-9]]) shared library'
!   lt_cv_file_magic_cmd=/usr/bin/file
!   lt_cv_file_magic_test_file=/usr/lib/libc.sl
!   ;;
  
! irix5* | irix6* | nonstopux*)
!   case $host_os in
!   irix5* | nonstopux*)
!     # this will be overridden with pass_all, but let us keep it just in case
!     lt_cv_deplibs_check_method="file_magic ELF 32-bit MSB dynamic lib MIPS - version 1"
!     ;;
!   *)
!     case $LD in
!     *-32|*"-32 ") libmagic=32-bit;;
!     *-n32|*"-n32 ") libmagic=N32;;
!     *-64|*"-64 ") libmagic=64-bit;;
!     *) libmagic=never-match;;
!     esac
!     # this will be overridden with pass_all, but let us keep it just in case
!     lt_cv_deplibs_check_method="file_magic ELF ${libmagic} MSB mips-[[1234]] dynamic lib MIPS - version 1"
!     ;;
!   esac
!   lt_cv_file_magic_test_file=`echo /lib${libsuff}/libc.so*`
!   lt_cv_deplibs_check_method=pass_all
!   ;;
  
! # This must be Linux ELF.
! linux-gnu*)
!   case $host_cpu in
!   alpha* | hppa* | i*86 | mips | mipsel | powerpc* | sparc* | ia64* | arm* | m68k)
!     lt_cv_deplibs_check_method=pass_all ;;
!   *)
!     # glibc up to 2.1.1 does not perform some relocations on ARM
!     lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[LM]]SB (shared object|dynamic lib )' ;;
!   esac
!   lt_cv_file_magic_test_file=`echo /lib/libc.so* /lib/libc-*.so`
!   ;;
  
! netbsd*)
!   if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then
!     lt_cv_deplibs_check_method='match_pattern /lib[[^/\.]]+\.so\.[[0-9]]+\.[[0-9]]+$'
!   else
!     lt_cv_deplibs_check_method='match_pattern /lib[[^/\.]]+\.so$'
!   fi
!   ;;
  
! newos6*)
!   lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[ML]]SB (executable|dynamic lib)'
!   lt_cv_file_magic_cmd=/usr/bin/file
!   lt_cv_file_magic_test_file=/usr/lib/libnls.so
!   ;;
  
! openbsd*)
!   lt_cv_file_magic_cmd=/usr/bin/file
!   lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`
!   if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
!     lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[LM]]SB shared object'
!   else
!     lt_cv_deplibs_check_method='file_magic OpenBSD.* shared library'
!   fi
!   ;;
  
! osf3* | osf4* | osf5*)
!   # this will be overridden with pass_all, but let us keep it just in case
!   lt_cv_deplibs_check_method='file_magic COFF format alpha shared library'
!   lt_cv_file_magic_test_file=/shlib/libc.so
!   lt_cv_deplibs_check_method=pass_all
!   ;;
  
! sco3.2v5*)
!   lt_cv_deplibs_check_method=pass_all
!   ;;
  
! solaris*)
!   lt_cv_deplibs_check_method=pass_all
!   lt_cv_file_magic_test_file=/lib/libc.so
!   ;;
  
- sysv5uw[[78]]* | sysv4*uw2*)
-   lt_cv_deplibs_check_method=pass_all
-   ;;
  
! sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
!   case $host_vendor in
!   motorola)
!     lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[ML]]SB (shared object|dynamic lib) M[[0-9]][[0-9]]* Version [[0-9]]'
!     lt_cv_file_magic_test_file=`echo /usr/lib/libc.so*`
!     ;;
!   ncr)
!     lt_cv_deplibs_check_method=pass_all
!     ;;
!   sequent)
!     lt_cv_file_magic_cmd='/bin/file'
!     lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[LM]]SB (shared object|dynamic lib )'
!     ;;
!   sni)
!     lt_cv_file_magic_cmd='/bin/file'
!     lt_cv_deplibs_check_method="file_magic ELF [[0-9]][[0-9]]*-bit [[LM]]SB dynamic lib"
!     lt_cv_file_magic_test_file=/lib/libc.so
!     ;;
!   siemens)
!     lt_cv_deplibs_check_method=pass_all
!     ;;
!   esac
!   ;;
! esac
! ])
! file_magic_cmd=$lt_cv_file_magic_cmd
! deplibs_check_method=$lt_cv_deplibs_check_method
  ])
  
  
! # AC_PROG_NM - find the path to a BSD-compatible name lister
! AC_DEFUN([AC_PROG_NM],
! [AC_REQUIRE([_LT_AC_LIBTOOL_SYS_PATH_SEPARATOR])dnl
! AC_MSG_CHECKING([for BSD-compatible nm])
! AC_CACHE_VAL(lt_cv_path_NM,
! [if test -n "$NM"; then
!   # Let the user override the test.
!   lt_cv_path_NM="$NM"
  else
!   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=$PATH_SEPARATOR
!   for ac_dir in $PATH /usr/ccs/bin /usr/ucb /bin; do
!     test -z "$ac_dir" && ac_dir=.
!     tmp_nm=$ac_dir/${ac_tool_prefix}nm
!     if test -f $tmp_nm || test -f $tmp_nm$ac_exeext ; then
!       # Check to see if the nm accepts a BSD-compat flag.
!       # Adding the `sed 1q' prevents false positives on HP-UX, which says:
!       #   nm: unknown option "B" ignored
!       # Tru64's nm complains that /dev/null is an invalid object file
!       if ($tmp_nm -B /dev/null 2>&1 | sed '1q'; exit 0) | egrep '(/dev/null|Invalid file or object type)' >/dev/null; then
! 	lt_cv_path_NM="$tmp_nm -B"
! 	break
!       elif ($tmp_nm -p /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then
! 	lt_cv_path_NM="$tmp_nm -p"
! 	break
!       else
! 	lt_cv_path_NM=${lt_cv_path_NM="$tmp_nm"} # keep the first match, but
! 	continue # so that we can try to find one that supports BSD flags
!       fi
!     fi
    done
!   IFS="$ac_save_ifs"
!   test -z "$lt_cv_path_NM" && lt_cv_path_NM=nm
! fi])
! NM="$lt_cv_path_NM"
! AC_MSG_RESULT([$NM])
! ])
  
! # AC_CHECK_LIBM - check for math library
! AC_DEFUN([AC_CHECK_LIBM],
! [AC_REQUIRE([AC_CANONICAL_HOST])dnl
! LIBM=
! case $host in
! *-*-beos* | *-*-cygwin* | *-*-pw32*)
!   # These system don't have libm
!   ;;
! *-ncr-sysv4.3*)
!   AC_CHECK_LIB(mw, _mwvalidcheckl, LIBM="-lmw")
!   AC_CHECK_LIB(m, main, LIBM="$LIBM -lm")
!   ;;
! *)
!   AC_CHECK_LIB(m, main, LIBM="-lm")
!   ;;
! esac
! ])
  
! # AC_LIBLTDL_CONVENIENCE[(dir)] - sets LIBLTDL to the link flags for
! # the libltdl convenience library and LTDLINCL to the include flags for
! # the libltdl header and adds --enable-ltdl-convenience to the
! # configure arguments.  Note that LIBLTDL and LTDLINCL are not
! # AC_SUBSTed, nor is AC_CONFIG_SUBDIRS called.  If DIR is not
! # provided, it is assumed to be `libltdl'.  LIBLTDL will be prefixed
! # with '${top_builddir}/' and LTDLINCL will be prefixed with
! # '${top_srcdir}/' (note the single quotes!).  If your package is not
! # flat and you're not using automake, define top_builddir and
! # top_srcdir appropriately in the Makefiles.
! AC_DEFUN([AC_LIBLTDL_CONVENIENCE],
! [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
!   case $enable_ltdl_convenience in
!   no) AC_MSG_ERROR([this package needs a convenience libltdl]) ;;
!   "") enable_ltdl_convenience=yes
!       ac_configure_args="$ac_configure_args --enable-ltdl-convenience" ;;
!   esac
!   LIBLTDL='${top_builddir}/'ifelse($#,1,[$1],['libltdl'])/libltdlc.la
!   LTDLINCL='-I${top_srcdir}/'ifelse($#,1,[$1],['libltdl'])
!   # For backwards non-gettext consistent compatibility...
!   INCLTDL="$LTDLINCL"
! ])
  
! # AC_LIBLTDL_INSTALLABLE[(dir)] - sets LIBLTDL to the link flags for
! # the libltdl installable library and LTDLINCL to the include flags for
! # the libltdl header and adds --enable-ltdl-install to the configure
! # arguments.  Note that LIBLTDL and LTDLINCL are not AC_SUBSTed, nor is
! # AC_CONFIG_SUBDIRS called.  If DIR is not provided and an installed
! # libltdl is not found, it is assumed to be `libltdl'.  LIBLTDL will
! # be prefixed with '${top_builddir}/' and LTDLINCL will be prefixed
! # with '${top_srcdir}/' (note the single quotes!).  If your package is
! # not flat and you're not using automake, define top_builddir and
! # top_srcdir appropriately in the Makefiles.
! # In the future, this macro may have to be called after AC_PROG_LIBTOOL.
! AC_DEFUN([AC_LIBLTDL_INSTALLABLE],
! [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
!   AC_CHECK_LIB(ltdl, main,
!   [test x"$enable_ltdl_install" != xyes && enable_ltdl_install=no],
!   [if test x"$enable_ltdl_install" = xno; then
!      AC_MSG_WARN([libltdl not installed, but installation disabled])
!    else
!      enable_ltdl_install=yes
!    fi
!   ])
!   if test x"$enable_ltdl_install" = x"yes"; then
!     ac_configure_args="$ac_configure_args --enable-ltdl-install"
!     LIBLTDL='${top_builddir}/'ifelse($#,1,[$1],['libltdl'])/libltdl.la
!     LTDLINCL='-I${top_srcdir}/'ifelse($#,1,[$1],['libltdl'])
!   else
!     ac_configure_args="$ac_configure_args --enable-ltdl-install=no"
!     LIBLTDL="-lltdl"
!     LTDLINCL=
!   fi
!   # For backwards non-gettext consistent compatibility...
!   INCLTDL="$LTDLINCL"
! ])
  
! # old names
! AC_DEFUN([AM_PROG_LIBTOOL],   [AC_PROG_LIBTOOL])
! AC_DEFUN([AM_ENABLE_SHARED],  [AC_ENABLE_SHARED($@)])
! AC_DEFUN([AM_ENABLE_STATIC],  [AC_ENABLE_STATIC($@)])
! AC_DEFUN([AM_DISABLE_SHARED], [AC_DISABLE_SHARED($@)])
! AC_DEFUN([AM_DISABLE_STATIC], [AC_DISABLE_STATIC($@)])
! AC_DEFUN([AM_PROG_LD],        [AC_PROG_LD])
! AC_DEFUN([AM_PROG_NM],        [AC_PROG_NM])
  
! # This is just to silence aclocal about the macro not being used
! ifelse([AC_DISABLE_FAST_INSTALL])
  
! # NOTE: This macro has been submitted for inclusion into   #
! #  GNU Autoconf as AC_PROG_SED.  When it is available in   #
! #  a released version of Autoconf we should remove this    #
! #  macro and use it instead.                               #
! # LT_AC_PROG_SED
! # --------------
! # Check for a fully-functional sed program, that truncates
! # as few characters as possible.  Prefer GNU sed if found.
! AC_DEFUN([LT_AC_PROG_SED],
! [AC_MSG_CHECKING([for a sed that does not truncate output])
! AC_CACHE_VAL(lt_cv_path_SED,
! [# Loop through the user's path and test for sed and gsed.
! # Then use that list of sed's as ones to test for truncation.
! as_executable_p="test -f"
! as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
! for as_dir in $PATH
! do
!   IFS=$as_save_IFS
!   test -z "$as_dir" && as_dir=.
!   for ac_prog in sed gsed; do
!     for ac_exec_ext in '' $ac_executable_extensions; do
!       if $as_executable_p "$as_dir/$ac_prog$ac_exec_ext"; then
!         _sed_list="$_sed_list $as_dir/$ac_prog$ac_exec_ext"
!       fi
!     done
!   done
! done
  
!   # Create a temporary directory, and hook for its removal unless debugging.
! $debug ||
! {
!   trap 'exit_status=$?; rm -rf $tmp && exit $exit_status' 0
!   trap '{ (exit 1); exit 1; }' 1 2 13 15
! }
  
! # Create a (secure) tmp directory for tmp files.
! : ${TMPDIR=/tmp}
! {
!   tmp=`(umask 077 && mktemp -d -q "$TMPDIR/sedXXXXXX") 2>/dev/null` &&
!   test -n "$tmp" && test -d "$tmp"
! }  ||
! {
!   tmp=$TMPDIR/sed$$-$RANDOM
!   (umask 077 && mkdir $tmp)
! } ||
! {
!    echo "$me: cannot create a temporary directory in $TMPDIR" >&2
!    { (exit 1); exit 1; }
! }
!   _max=0
!   _count=0
!   # Add /usr/xpg4/bin/sed as it is typically found on Solaris
!   # along with /bin/sed that truncates output.
!   for _sed in $_sed_list /usr/xpg4/bin/sed; do
!     test ! -f ${_sed} && break
!     cat /dev/null > "$tmp/sed.in"
!     _count=0
!     echo ${ECHO_N-$ac_n} "0123456789${ECHO_C-$ac_c}" >"$tmp/sed.in"
!     # Check for GNU sed and select it if it is found.
!     if "${_sed}" --version 2>&1 < /dev/null | egrep '(GNU)' > /dev/null; then
!       lt_cv_path_SED=${_sed}
!       break
!     fi
!     while true; do
!       cat "$tmp/sed.in" "$tmp/sed.in" >"$tmp/sed.tmp"
!       mv "$tmp/sed.tmp" "$tmp/sed.in"
!       cp "$tmp/sed.in" "$tmp/sed.nl"
!       echo >>"$tmp/sed.nl"
!       ${_sed} -e 's/a$//' < "$tmp/sed.nl" >"$tmp/sed.out" || break
!       cmp -s "$tmp/sed.out" "$tmp/sed.nl" || break
!       # 40000 chars as input seems more than enough
!       test $_count -gt 10 && break
!       _count=`expr $_count + 1`
!       if test $_count -gt $_max; then
!         _max=$_count
!         lt_cv_path_SED=$_sed
!       fi
!     done
!   done
!   rm -rf "$tmp"
! ])
! if test "X$SED" != "X"; then
!   lt_cv_path_SED=$SED
  else
!   SED=$lt_cv_path_SED
  fi
! AC_MSG_RESULT([$SED])
! ])
  
  
! dnl PKG_CHECK_MODULES(GSTUFF, gtk+-2.0 >= 1.3 glib = 1.3.4, action-if, action-not)
! dnl defines GSTUFF_LIBS, GSTUFF_CFLAGS, see pkg-config man page
! dnl also defines GSTUFF_PKG_ERRORS on error
! AC_DEFUN(PKG_CHECK_MODULES, [
!   succeeded=no
  
!   if test -z "$PKG_CONFIG"; then
!     AC_PATH_PROG(PKG_CONFIG, pkg-config, no)
!   fi
  
!   if test "$PKG_CONFIG" = "no" ; then
!      echo "*** The pkg-config script could not be found. Make sure it is"
!      echo "*** in your path, or set the PKG_CONFIG environment variable"
!      echo "*** to the full path to pkg-config."
!      echo "*** Or see http://www.freedesktop.org/software/pkgconfig to get pkg-config."
!   else
!      PKG_CONFIG_MIN_VERSION=0.9.0
!      if $PKG_CONFIG --atleast-pkgconfig-version $PKG_CONFIG_MIN_VERSION; then
!         AC_MSG_CHECKING(for $2)
! 
!         if $PKG_CONFIG --exists "$2" ; then
!             AC_MSG_RESULT(yes)
!             succeeded=yes
! 
!             AC_MSG_CHECKING($1_CFLAGS)
!             $1_CFLAGS=`$PKG_CONFIG --cflags "$2"`
!             AC_MSG_RESULT($$1_CFLAGS)
! 
!             AC_MSG_CHECKING($1_LIBS)
!             $1_LIBS=`$PKG_CONFIG --libs "$2"`
!             AC_MSG_RESULT($$1_LIBS)
!         else
!             $1_CFLAGS=""
!             $1_LIBS=""
!             ## If we have a custom action on failure, don't print errors, but 
!             ## do set a variable so people can do so.
!             $1_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors "$2"`
!             ifelse([$4], ,echo $$1_PKG_ERRORS,)
!         fi
! 
!         AC_SUBST($1_CFLAGS)
!         AC_SUBST($1_LIBS)
!      else
!         echo "*** Your version of pkg-config is too old. You need version $PKG_CONFIG_MIN_VERSION or newer."
!         echo "*** See http://www.freedesktop.org/software/pkgconfig"
!      fi
!   fi
  
!   if test $succeeded = yes; then
!      ifelse([$3], , :, [$3])
!   else
!      ifelse([$4], , AC_MSG_ERROR([Library requirements ($2) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.]), [$4])
!   fi
! ])
  
  
  
--- 2551,4504 ----
  # Compiler flag to allow reflexive dlopens.
  export_dynamic_flag_spec=$lt_export_dynamic_flag_spec
  
+ # Compiler flag to allow runtime linking
+ use_runtimelinking=$lt_use_runtimelinking
+ 
  # Compiler flag to generate shared objects directly from archives.
  whole_archive_flag_spec=$lt_whole_archive_flag_spec
  
! # Compiler flag to generate thread-safe objects.
! thread_safe_flag_spec=$lt_thread_safe_flag_spec
! 
! # Library versioning type.
! version_type=$version_type
! 
! # Format of library name prefix.
! libname_spec=$lt_libname_spec
! 
! # List of archive names.  First name is the real one, the rest are links.
! # The last name is the one that the linker finds with -lNAME.
! library_names_spec=$lt_library_names_spec
! 
! # The coded name of the library, if different from the real name.
! soname_spec=$lt_soname_spec
! 
! # Commands used to build and install an old-style archive.
! RANLIB=$lt_RANLIB
! old_archive_cmds=$lt_old_archive_cmds
! old_postinstall_cmds=$lt_old_postinstall_cmds
! old_postuninstall_cmds=$lt_old_postuninstall_cmds
! 
! # Create an old-style archive from a shared archive.
! old_archive_from_new_cmds=$lt_old_archive_from_new_cmds
! 
! # Create a temporary old-style archive to link instead of a shared archive.
! old_archive_from_expsyms_cmds=$lt_old_archive_from_expsyms_cmds
! 
! # Commands used to build and install a shared archive.
! archive_cmds=$lt_archive_cmds
! archive_expsym_cmds=$lt_archive_expsym_cmds
! archive_expsym_cmds32=$lt_archive_expsym_cmds32
! archive_expsym_cmds64=$lt_archive_expsym_cmds64
! archive_expsym_cmds3264=$lt_archive_expsym_cmds3264
! postinstall_cmds=$lt_postinstall_cmds
! postuninstall_cmds=$lt_postuninstall_cmds
! 
! # Commands to strip libraries.
! old_striplib=$lt_old_striplib
! striplib=$lt_striplib
! 
! # Method to check whether dependent libraries are shared objects.
! deplibs_check_method=$lt_deplibs_check_method
! 
! # Command to use when deplibs_check_method == file_magic.
! file_magic_cmd=$lt_file_magic_cmd
! 
! # Flag that allows shared libraries with undefined symbols to be built.
! allow_undefined_flag=$lt_allow_undefined_flag
! 
! # Flag that forces no undefined symbols.
! no_undefined_flag=$lt_no_undefined_flag
! 
! # Commands used to finish a libtool library installation in a directory.
! finish_cmds=$lt_finish_cmds
! 
! # Same as above, but a single script fragment to be evaled but not shown.
! finish_eval=$lt_finish_eval
! 
! # Take the output of nm and produce a listing of raw symbols and C names.
! global_symbol_pipe=$lt_global_symbol_pipe
! 
! # Transform the output of nm in a proper C declaration
! global_symbol_to_cdecl=$lt_global_symbol_to_cdecl
! 
! # Transform the output of nm in a C name address pair
! global_symbol_to_c_name_address=$lt_global_symbol_to_c_name_address
! 
! # This is the shared library runtime path variable.
! runpath_var=$runpath_var
! 
! # This is the shared library path variable.
! shlibpath_var=$shlibpath_var
! 
! # Is shlibpath searched before the hard-coded library search path?
! shlibpath_overrides_runpath=$shlibpath_overrides_runpath
! 
! # How to hardcode a shared library path into an executable.
! hardcode_action=$hardcode_action
! 
! # Whether we should hardcode library paths into libraries.
! hardcode_into_libs=$hardcode_into_libs
! 
! # Flag to hardcode \$libdir into a binary during linking.
! # This must work even if \$libdir does not exist.
! hardcode_libdir_flag_spec=$lt_hardcode_libdir_flag_spec
! 
! # Whether we need a single -rpath flag with a separated argument.
! hardcode_libdir_separator=$lt_hardcode_libdir_separator
! 
! # Set to yes if using DIR/libNAME.so during linking hardcodes DIR into the
! # resulting binary.
! hardcode_direct=$hardcode_direct
! 
! # Set to yes if using the -LDIR flag during linking hardcodes DIR into the
! # resulting binary.
! hardcode_minus_L=$hardcode_minus_L
! 
! # Set to yes if using SHLIBPATH_VAR=DIR during linking hardcodes DIR into
! # the resulting binary.
! hardcode_shlibpath_var=$hardcode_shlibpath_var
! 
! # Variables whose values should be saved in libtool wrapper scripts and
! # restored at relink time.
! variables_saved_for_relink="$variables_saved_for_relink"
! 
! # Whether libtool must link a program against all its dependency libraries.
! link_all_deplibs=$link_all_deplibs
! 
! # Compile-time system search path for libraries
! sys_lib_search_path_spec=$lt_sys_lib_search_path_spec
! 
! # Run-time system search path for libraries
! sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
! 
! # Fix the shell variable \$srcfile for the compiler.
! fix_srcfile_path="$fix_srcfile_path"
! 
! # Set to yes if exported symbols are required.
! always_export_symbols=$always_export_symbols
! 
! # The commands to list exported symbols.
! export_symbols_cmds=$lt_export_symbols_cmds
! export_symbols_cmds32=$lt_export_symbols_cmds32
! export_symbols_cmds64=$lt_export_symbols_cmds64
! 
! # The commands to extract the exported symbol list from a shared archive.
! extract_expsyms_cmds=$lt_extract_expsyms_cmds
! 
! # Symbols that should not be listed in the preloaded symbols.
! exclude_expsyms=$lt_exclude_expsyms
! 
! # Symbols that must always be exported.
! include_expsyms=$lt_include_expsyms
! 
! # ### END LIBTOOL CONFIG
! 
! __EOF__
! 
!   case $host_os in
!   aix3*)
!     cat <<\EOF >> "${ofile}T"
! 
! # AIX sometimes has problems with the GCC collect2 program.  For some
! # reason, if we set the COLLECT_NAMES environment variable, the problems
! # vanish in a puff of smoke.
! if test "X${COLLECT_NAMES+set}" != Xset; then
!   COLLECT_NAMES=
!   export COLLECT_NAMES
! fi
! EOF
!     ;;
!   esac
! 
!   case $host_os in
!   cygwin* | mingw* | pw32* | os2*)
!     cat <<'EOF' >> "${ofile}T"
!       # This is a source program that is used to create dlls on Windows
!       # Don't remove nor modify the starting and closing comments
! # /* ltdll.c starts here */
! # #define WIN32_LEAN_AND_MEAN
! # #include <windows.h>
! # #undef WIN32_LEAN_AND_MEAN
! # #include <stdio.h>
! #
! # #ifndef __CYGWIN__
! # #  ifdef __CYGWIN32__
! # #    define __CYGWIN__ __CYGWIN32__
! # #  endif
! # #endif
! #
! # #ifdef __cplusplus
! # extern "C" {
! # #endif
! # BOOL APIENTRY DllMain (HINSTANCE hInst, DWORD reason, LPVOID reserved);
! # #ifdef __cplusplus
! # }
! # #endif
! #
! # #ifdef __CYGWIN__
! # #include <cygwin/cygwin_dll.h>
! # DECLARE_CYGWIN_DLL( DllMain );
! # #endif
! # HINSTANCE __hDllInstance_base;
! #
! # BOOL APIENTRY
! # DllMain (HINSTANCE hInst, DWORD reason, LPVOID reserved)
! # {
! #   __hDllInstance_base = hInst;
! #   return TRUE;
! # }
! # /* ltdll.c ends here */
! 	# This is a source program that is used to create import libraries
! 	# on Windows for dlls which lack them. Don't remove nor modify the
! 	# starting and closing comments
! # /* impgen.c starts here */
! # /*   Copyright (C) 1999-2000 Free Software Foundation, Inc.
! #
! #  This file is part of GNU libtool.
! #
! #  This program is free software; you can redistribute it and/or modify
! #  it under the terms of the GNU General Public License as published by
! #  the Free Software Foundation; either version 2 of the License, or
! #  (at your option) any later version.
! #
! #  This program is distributed in the hope that it will be useful,
! #  but WITHOUT ANY WARRANTY; without even the implied warranty of
! #  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
! #  GNU General Public License for more details.
! #
! #  You should have received a copy of the GNU General Public License
! #  along with this program; if not, write to the Free Software
! #  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
! #  */
! #
! # #include <stdio.h>		/* for printf() */
! # #include <unistd.h>		/* for open(), lseek(), read() */
! # #include <fcntl.h>		/* for O_RDONLY, O_BINARY */
! # #include <string.h>		/* for strdup() */
! #
! # /* O_BINARY isn't required (or even defined sometimes) under Unix */
! # #ifndef O_BINARY
! # #define O_BINARY 0
! # #endif
! #
! # static unsigned int
! # pe_get16 (fd, offset)
! #      int fd;
! #      int offset;
! # {
! #   unsigned char b[2];
! #   lseek (fd, offset, SEEK_SET);
! #   read (fd, b, 2);
! #   return b[0] + (b[1]<<8);
! # }
! #
! # static unsigned int
! # pe_get32 (fd, offset)
! #     int fd;
! #     int offset;
! # {
! #   unsigned char b[4];
! #   lseek (fd, offset, SEEK_SET);
! #   read (fd, b, 4);
! #   return b[0] + (b[1]<<8) + (b[2]<<16) + (b[3]<<24);
! # }
! #
! # static unsigned int
! # pe_as32 (ptr)
! #      void *ptr;
! # {
! #   unsigned char *b = ptr;
! #   return b[0] + (b[1]<<8) + (b[2]<<16) + (b[3]<<24);
! # }
! #
! # int
! # main (argc, argv)
! #     int argc;
! #     char *argv[];
! # {
! #     int dll;
! #     unsigned long pe_header_offset, opthdr_ofs, num_entries, i;
! #     unsigned long export_rva, export_size, nsections, secptr, expptr;
! #     unsigned long name_rvas, nexp;
! #     unsigned char *expdata, *erva;
! #     char *filename, *dll_name;
! #
! #     filename = argv[1];
! #
! #     dll = open(filename, O_RDONLY|O_BINARY);
! #     if (dll < 1)
! # 	return 1;
! #
! #     dll_name = filename;
! #
! #     for (i=0; filename[i]; i++)
! # 	if (filename[i] == '/' || filename[i] == '\\'  || filename[i] == ':')
! # 	    dll_name = filename + i +1;
! #
! #     pe_header_offset = pe_get32 (dll, 0x3c);
! #     opthdr_ofs = pe_header_offset + 4 + 20;
! #     num_entries = pe_get32 (dll, opthdr_ofs + 92);
! #
! #     if (num_entries < 1) /* no exports */
! # 	return 1;
! #
! #     export_rva = pe_get32 (dll, opthdr_ofs + 96);
! #     export_size = pe_get32 (dll, opthdr_ofs + 100);
! #     nsections = pe_get16 (dll, pe_header_offset + 4 +2);
! #     secptr = (pe_header_offset + 4 + 20 +
! # 	      pe_get16 (dll, pe_header_offset + 4 + 16));
! #
! #     expptr = 0;
! #     for (i = 0; i < nsections; i++)
! #     {
! # 	char sname[8];
! # 	unsigned long secptr1 = secptr + 40 * i;
! # 	unsigned long vaddr = pe_get32 (dll, secptr1 + 12);
! # 	unsigned long vsize = pe_get32 (dll, secptr1 + 16);
! # 	unsigned long fptr = pe_get32 (dll, secptr1 + 20);
! # 	lseek(dll, secptr1, SEEK_SET);
! # 	read(dll, sname, 8);
! # 	if (vaddr <= export_rva && vaddr+vsize > export_rva)
! # 	{
! # 	    expptr = fptr + (export_rva - vaddr);
! # 	    if (export_rva + export_size > vaddr + vsize)
! # 		export_size = vsize - (export_rva - vaddr);
! # 	    break;
! # 	}
! #     }
! #
! #     expdata = (unsigned char*)malloc(export_size);
! #     lseek (dll, expptr, SEEK_SET);
! #     read (dll, expdata, export_size);
! #     erva = expdata - export_rva;
! #
! #     nexp = pe_as32 (expdata+24);
! #     name_rvas = pe_as32 (expdata+32);
! #
! #     printf ("EXPORTS\n");
! #     for (i = 0; i<nexp; i++)
! #     {
! # 	unsigned long name_rva = pe_as32 (erva+name_rvas+i*4);
! # 	printf ("\t%s @ %ld ;\n", erva+name_rva, 1+ i);
! #     }
! #
! #     return 0;
! # }
! # /* impgen.c ends here */
! 
! EOF
!     ;;
!   esac
  
!   # We use sed instead of cat because bash on DJGPP gets confused if
!   # if finds mixed CR/LF and LF-only lines.  Since sed operates in
!   # text mode, it properly converts lines to CR/LF.  This bash problem
!   # is reportedly fixed, but why not run on old versions too?
!   sed '$q' "$ltmain" >> "${ofile}T" || (rm -f "${ofile}T"; exit 1)
  
!   mv -f "${ofile}T" "$ofile" || \
!     (rm -f "$ofile" && cp "${ofile}T" "$ofile" && rm -f "${ofile}T")
!   chmod +x "$ofile"
! fi
  
! ])# _LT_AC_LTCONFIG_HACK
  
! # AC_LIBTOOL_DLOPEN - enable checks for dlopen support
! AC_DEFUN([AC_LIBTOOL_DLOPEN], [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])])
  
! # AC_LIBTOOL_WIN32_DLL - declare package support for building win32 dll's
! AC_DEFUN([AC_LIBTOOL_WIN32_DLL], [AC_BEFORE([$0], [AC_LIBTOOL_SETUP])])
  
! # AC_ENABLE_SHARED - implement the --enable-shared flag
! # Usage: AC_ENABLE_SHARED[(DEFAULT)]
! #   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to
! #   `yes'.
! AC_DEFUN([AC_ENABLE_SHARED],
! [define([AC_ENABLE_SHARED_DEFAULT], ifelse($1, no, no, yes))dnl
! AC_ARG_ENABLE(shared,
! changequote(<<, >>)dnl
! <<  --enable-shared[=PKGS]  build shared libraries [default=>>AC_ENABLE_SHARED_DEFAULT],
! changequote([, ])dnl
! [p=${PACKAGE-default}
! case $enableval in
! yes) enable_shared=yes ;;
! no) enable_shared=no ;;
! *)
!   enable_shared=no
!   # Look at the argument we got.  We use all the common list separators.
!   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:,"
!   for pkg in $enableval; do
!     if test "X$pkg" = "X$p"; then
!       enable_shared=yes
!     fi
!   done
!   IFS="$ac_save_ifs"
!   ;;
! esac],
! enable_shared=AC_ENABLE_SHARED_DEFAULT)dnl
! ])
  
! # AC_DISABLE_SHARED - set the default shared flag to --disable-shared
! AC_DEFUN([AC_DISABLE_SHARED],
! [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
! AC_ENABLE_SHARED(no)])
  
! # AC_ENABLE_STATIC - implement the --enable-static flag
! # Usage: AC_ENABLE_STATIC[(DEFAULT)]
! #   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to
! #   `yes'.
! AC_DEFUN([AC_ENABLE_STATIC],
! [define([AC_ENABLE_STATIC_DEFAULT], ifelse($1, no, no, yes))dnl
! AC_ARG_ENABLE(static,
! changequote(<<, >>)dnl
! <<  --enable-static[=PKGS]  build static libraries [default=>>AC_ENABLE_STATIC_DEFAULT],
! changequote([, ])dnl
! [p=${PACKAGE-default}
! case $enableval in
! yes) enable_static=yes ;;
! no) enable_static=no ;;
! *)
!   enable_static=no
!   # Look at the argument we got.  We use all the common list separators.
!   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:,"
!   for pkg in $enableval; do
!     if test "X$pkg" = "X$p"; then
!       enable_static=yes
!     fi
!   done
!   IFS="$ac_save_ifs"
!   ;;
! esac],
! enable_static=AC_ENABLE_STATIC_DEFAULT)dnl
! ])
  
! # AC_DISABLE_STATIC - set the default static flag to --disable-static
! AC_DEFUN([AC_DISABLE_STATIC],
! [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
! AC_ENABLE_STATIC(no)])
  
  
! # AC_ENABLE_FAST_INSTALL - implement the --enable-fast-install flag
! # Usage: AC_ENABLE_FAST_INSTALL[(DEFAULT)]
! #   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to
! #   `yes'.
! AC_DEFUN([AC_ENABLE_FAST_INSTALL],
! [define([AC_ENABLE_FAST_INSTALL_DEFAULT], ifelse($1, no, no, yes))dnl
! AC_ARG_ENABLE(fast-install,
! changequote(<<, >>)dnl
! <<  --enable-fast-install[=PKGS]  optimize for fast installation [default=>>AC_ENABLE_FAST_INSTALL_DEFAULT],
! changequote([, ])dnl
! [p=${PACKAGE-default}
! case $enableval in
! yes) enable_fast_install=yes ;;
! no) enable_fast_install=no ;;
! *)
!   enable_fast_install=no
!   # Look at the argument we got.  We use all the common list separators.
!   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:,"
!   for pkg in $enableval; do
!     if test "X$pkg" = "X$p"; then
!       enable_fast_install=yes
!     fi
!   done
!   IFS="$ac_save_ifs"
!   ;;
! esac],
! enable_fast_install=AC_ENABLE_FAST_INSTALL_DEFAULT)dnl
! ])
  
! # AC_DISABLE_FAST_INSTALL - set the default to --disable-fast-install
! AC_DEFUN([AC_DISABLE_FAST_INSTALL],
! [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
! AC_ENABLE_FAST_INSTALL(no)])
  
! # AC_LIBTOOL_PICMODE - implement the --with-pic flag
! # Usage: AC_LIBTOOL_PICMODE[(MODE)]
! #   Where MODE is either `yes' or `no'.  If omitted, it defaults to
! #   `both'.
! AC_DEFUN([AC_LIBTOOL_PICMODE],
! [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
! pic_mode=ifelse($#,1,$1,default)])
  
  
! # AC_PATH_TOOL_PREFIX - find a file program which can recognise shared library
! AC_DEFUN([AC_PATH_TOOL_PREFIX],
! [AC_MSG_CHECKING([for $1])
! AC_CACHE_VAL(lt_cv_path_MAGIC_CMD,
! [case $MAGIC_CMD in
!   /*)
!   lt_cv_path_MAGIC_CMD="$MAGIC_CMD" # Let the user override the test with a path.
!   ;;
!   ?:/*)
!   lt_cv_path_MAGIC_CMD="$MAGIC_CMD" # Let the user override the test with a dos path.
!   ;;
!   *)
!   ac_save_MAGIC_CMD="$MAGIC_CMD"
!   IFS="${IFS=   }"; ac_save_ifs="$IFS"; IFS=":"
! dnl $ac_dummy forces splitting on constant user-supplied paths.
! dnl POSIX.2 word splitting is done only on the output of word expansions,
! dnl not every word.  This closes a longstanding sh security hole.
!   ac_dummy="ifelse([$2], , $PATH, [$2])"
!   for ac_dir in $ac_dummy; do
!     test -z "$ac_dir" && ac_dir=.
!     if test -f $ac_dir/$1; then
!       lt_cv_path_MAGIC_CMD="$ac_dir/$1"
!       if test -n "$file_magic_test_file"; then
! 	case $deplibs_check_method in
! 	"file_magic "*)
! 	  file_magic_regex="`expr \"$deplibs_check_method\" : \"file_magic \(.*\)\"`"
! 	  MAGIC_CMD="$lt_cv_path_MAGIC_CMD"
! 	  if eval $file_magic_cmd \$file_magic_test_file 2> /dev/null |
! 	    egrep "$file_magic_regex" > /dev/null; then
! 	    :
! 	  else
! 	    cat <<EOF 1>&2
  
! *** Warning: the command libtool uses to detect shared libraries,
! *** $file_magic_cmd, produces output that libtool cannot recognize.
! *** The result is that libtool may fail to recognize shared libraries
! *** as such.  This will affect the creation of libtool libraries that
! *** depend on shared libraries, but programs linked with such libtool
! *** libraries will work regardless of this problem.  Nevertheless, you
! *** may want to report the problem to your system manager and/or to
! *** bug-libtool@gnu.org
  
! EOF
! 	  fi ;;
! 	esac
!       fi
!       break
!     fi
!   done
!   IFS="$ac_save_ifs"
!   MAGIC_CMD="$ac_save_MAGIC_CMD"
!   ;;
! esac])
! MAGIC_CMD="$lt_cv_path_MAGIC_CMD"
! if test -n "$MAGIC_CMD"; then
!   AC_MSG_RESULT($MAGIC_CMD)
! else
!   AC_MSG_RESULT(no)
! fi
! ])
  
  
! # AC_PATH_MAGIC - find a file program which can recognise a shared library
! AC_DEFUN([AC_PATH_MAGIC],
! [AC_REQUIRE([AC_CHECK_TOOL_PREFIX])dnl
! AC_PATH_TOOL_PREFIX(${ac_tool_prefix}file, /usr/bin:$PATH)
! if test -z "$lt_cv_path_MAGIC_CMD"; then
!   if test -n "$ac_tool_prefix"; then
!     AC_PATH_TOOL_PREFIX(file, /usr/bin:$PATH)
!   else
!     MAGIC_CMD=:
!   fi
! fi
! ])
  
  
! # AC_PROG_LD - find the path to the GNU or non-GNU linker
! AC_DEFUN([AC_PROG_LD],
! [AC_ARG_WITH(gnu-ld,
! [  --with-gnu-ld           assume the C compiler uses GNU ld [default=no]],
! test "$withval" = no || with_gnu_ld=yes, with_gnu_ld=no)
! AC_REQUIRE([AC_PROG_CC])dnl
! AC_REQUIRE([AC_CANONICAL_HOST])dnl
! AC_REQUIRE([AC_CANONICAL_BUILD])dnl
! AC_REQUIRE([_LT_AC_LIBTOOL_SYS_PATH_SEPARATOR])dnl
! ac_prog=ld
! if test "$GCC" = yes; then
!   # Check if gcc -print-prog-name=ld gives a path.
!   AC_MSG_CHECKING([for ld used by GCC])
!   case $host in
!   *-*-mingw*)
!     # gcc leaves a trailing carriage return which upsets mingw
!     ac_prog=`($CC -print-prog-name=ld) 2>&5 | tr -d '\015'` ;;
!   *)
!     ac_prog=`($CC -print-prog-name=ld) 2>&5` ;;
!   esac
!   case $ac_prog in
!     # Accept absolute paths.
!     [[\\/]]* | [[A-Za-z]]:[[\\/]]*)
!       re_direlt='/[[^/]][[^/]]*/\.\./'
!       # Canonicalize the path of ld
!       ac_prog=`echo $ac_prog| sed 's%\\\\%/%g'`
!       while echo $ac_prog | grep "$re_direlt" > /dev/null 2>&1; do
! 	ac_prog=`echo $ac_prog| sed "s%$re_direlt%/%"`
!       done
!       test -z "$LD" && LD="$ac_prog"
!       ;;
!   "")
!     # If it fails, then pretend we aren't using GCC.
!     ac_prog=ld
!     ;;
!   *)
!     # If it is relative, then search for the first ld in PATH.
!     with_gnu_ld=unknown
!     ;;
!   esac
! elif test "$with_gnu_ld" = yes; then
!   AC_MSG_CHECKING([for GNU ld])
! else
!   AC_MSG_CHECKING([for non-GNU ld])
! fi
! AC_CACHE_VAL(lt_cv_path_LD,
! [if test -z "$LD"; then
!   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=$PATH_SEPARATOR
!   for ac_dir in $PATH; do
!     test -z "$ac_dir" && ac_dir=.
!     if test -f "$ac_dir/$ac_prog" || test -f "$ac_dir/$ac_prog$ac_exeext"; then
!       lt_cv_path_LD="$ac_dir/$ac_prog"
!       # Check to see if the program is GNU ld.  I'd rather use --version,
!       # but apparently some GNU ld's only accept -v.
!       # Break only if it was the GNU/non-GNU ld that we prefer.
!       if "$lt_cv_path_LD" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then
! 	test "$with_gnu_ld" != no && break
!       else
! 	test "$with_gnu_ld" != yes && break
!       fi
!     fi
!   done
!   IFS="$ac_save_ifs"
! else
!   lt_cv_path_LD="$LD" # Let the user override the test with a path.
! fi])
! LD="$lt_cv_path_LD"
! if test -n "$LD"; then
!   AC_MSG_RESULT($LD)
! else
!   AC_MSG_RESULT(no)
! fi
! test -z "$LD" && AC_MSG_ERROR([no acceptable ld found in \$PATH])
! AC_PROG_LD_GNU
! ])
  
! # AC_PROG_LD_GNU -
! AC_DEFUN([AC_PROG_LD_GNU],
! [AC_CACHE_CHECK([if the linker ($LD) is GNU ld], lt_cv_prog_gnu_ld,
! [# I'd rather use --version here, but apparently some GNU ld's only accept -v.
! if $LD -v 2>&1 </dev/null | egrep '(GNU|with BFD)' 1>&5; then
!   lt_cv_prog_gnu_ld=yes
! else
!   lt_cv_prog_gnu_ld=no
! fi])
! with_gnu_ld=$lt_cv_prog_gnu_ld
! ])
  
! # AC_PROG_LD_RELOAD_FLAG - find reload flag for linker
! #   -- PORTME Some linkers may need a different reload flag.
! AC_DEFUN([AC_PROG_LD_RELOAD_FLAG],
! [AC_CACHE_CHECK([for $LD option to reload object files], lt_cv_ld_reload_flag,
! [lt_cv_ld_reload_flag='-r'])
! reload_flag=$lt_cv_ld_reload_flag
! test -n "$reload_flag" && reload_flag=" $reload_flag"
! ])
  
! # AC_DEPLIBS_CHECK_METHOD - how to check for library dependencies
! #  -- PORTME fill in with the dynamic library characteristics
! AC_DEFUN([AC_DEPLIBS_CHECK_METHOD],
! [AC_CACHE_CHECK([how to recognise dependant libraries],
! lt_cv_deplibs_check_method,
! [lt_cv_file_magic_cmd='$MAGIC_CMD'
! lt_cv_file_magic_test_file=
! lt_cv_deplibs_check_method='unknown'
! # Need to set the preceding variable on all platforms that support
! # interlibrary dependencies.
! # 'none' -- dependencies not supported.
! # `unknown' -- same as none, but documents that we really don't know.
! # 'pass_all' -- all dependencies passed with no checks.
! # 'test_compile' -- check by making test program.
! # 'file_magic [[regex]]' -- check by looking for files in library path
! # which responds to the $file_magic_cmd with a given egrep regex.
! # If you have `file' or equivalent on your system and you're not sure
! # whether `pass_all' will *always* work, you probably want this one.
  
! case $host_os in
! aix4* | aix5*)
!   lt_cv_deplibs_check_method=pass_all
!   ;;
  
! beos*)
!   lt_cv_deplibs_check_method=pass_all
!   ;;
  
! bsdi4*)
!   lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[ML]]SB (shared object|dynamic lib)'
!   lt_cv_file_magic_cmd='/usr/bin/file -L'
!   lt_cv_file_magic_test_file=/shlib/libc.so
!   ;;
  
! cygwin* | mingw* | pw32*)
!   lt_cv_deplibs_check_method='file_magic file format pei*-i386(.*architecture: i386)?'
!   lt_cv_file_magic_cmd='$OBJDUMP -f'
!   ;;
  
! darwin* | rhapsody*)
!   lt_cv_deplibs_check_method='file_magic Mach-O dynamically linked shared library'
!   lt_cv_file_magic_cmd='/usr/bin/file -L'
!   case "$host_os" in
!   rhapsody* | darwin1.[[012]])
!     lt_cv_file_magic_test_file=`echo /System/Library/Frameworks/System.framework/Versions/*/System | head -1`
!     ;;
!   *) # Darwin 1.3 on
!     lt_cv_file_magic_test_file='/usr/lib/libSystem.dylib'
!     ;;
!   esac
!   ;;
  
! freebsd*)
!   if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then
!     case $host_cpu in
!     i*86 )
!       # Not sure whether the presence of OpenBSD here was a mistake.
!       # Let's accept both of them until this is cleared up.
!       lt_cv_deplibs_check_method='file_magic (FreeBSD|OpenBSD)/i[[3-9]]86 (compact )?demand paged shared library'
!       lt_cv_file_magic_cmd=/usr/bin/file
!       lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`
!       ;;
!     esac
!   else
!     lt_cv_deplibs_check_method=pass_all
!   fi
!   ;;
  
! gnu*)
!   lt_cv_deplibs_check_method=pass_all
!   ;;
  
! hpux10.20*|hpux11*)
!   lt_cv_deplibs_check_method='file_magic (s[[0-9]][[0-9]][[0-9]]|PA-RISC[[0-9]].[[0-9]]) shared library'
!   lt_cv_file_magic_cmd=/usr/bin/file
!   lt_cv_file_magic_test_file=/usr/lib/libc.sl
!   ;;
  
! irix5* | irix6*)
!   case $host_os in
!   irix5*)
!     # this will be overridden with pass_all, but let us keep it just in case
!     lt_cv_deplibs_check_method="file_magic ELF 32-bit MSB dynamic lib MIPS - version 1"
!     ;;
!   *)
!     case $LD in
!     *-32|*"-32 ") libmagic=32-bit;;
!     *-n32|*"-n32 ") libmagic=N32;;
!     *-64|*"-64 ") libmagic=64-bit;;
!     *) libmagic=never-match;;
!     esac
!     # this will be overridden with pass_all, but let us keep it just in case
!     lt_cv_deplibs_check_method="file_magic ELF ${libmagic} MSB mips-[[1234]] dynamic lib MIPS - version 1"
!     ;;
!   esac
!   lt_cv_file_magic_test_file=`echo /lib${libsuff}/libc.so*`
!   lt_cv_deplibs_check_method=pass_all
!   ;;
  
! # This must be Linux ELF.
! linux-gnu*)
!   case $host_cpu in
!   alpha* | hppa* | i*86 | powerpc* | sparc* | ia64* )
!     lt_cv_deplibs_check_method=pass_all ;;
!   *)
!     # glibc up to 2.1.1 does not perform some relocations on ARM
!     lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[LM]]SB (shared object|dynamic lib )' ;;
!   esac
!   lt_cv_file_magic_test_file=`echo /lib/libc.so* /lib/libc-*.so`
!   ;;
  
! netbsd*)
!   if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then
!     lt_cv_deplibs_check_method='match_pattern /lib[[^/\.]]+\.so\.[[0-9]]+\.[[0-9]]+$'
!   else
!     lt_cv_deplibs_check_method='match_pattern /lib[[^/\.]]+\.so$'
!   fi
!   ;;
  
! newos6*)
!   lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[ML]]SB (executable|dynamic lib)'
!   lt_cv_file_magic_cmd=/usr/bin/file
!   lt_cv_file_magic_test_file=/usr/lib/libnls.so
!   ;;
  
! openbsd*)
!   lt_cv_file_magic_cmd=/usr/bin/file
!   lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`
!   if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
!     lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[LM]]SB shared object'
!   else
!     lt_cv_deplibs_check_method='file_magic OpenBSD.* shared library'
!   fi
!   ;;
  
! osf3* | osf4* | osf5*)
!   # this will be overridden with pass_all, but let us keep it just in case
!   lt_cv_deplibs_check_method='file_magic COFF format alpha shared library'
!   lt_cv_file_magic_test_file=/shlib/libc.so
!   lt_cv_deplibs_check_method=pass_all
!   ;;
  
! sco3.2v5*)
!   lt_cv_deplibs_check_method=pass_all
!   ;;
  
! solaris*)
!   lt_cv_deplibs_check_method=pass_all
!   lt_cv_file_magic_test_file=/lib/libc.so
!   ;;
  
! sysv5uw[[78]]* | sysv4*uw2*)
!   lt_cv_deplibs_check_method=pass_all
!   ;;
  
! sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
!   case $host_vendor in
!   motorola)
!     lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[ML]]SB (shared object|dynamic lib) M[[0-9]][[0-9]]* Version [[0-9]]'
!     lt_cv_file_magic_test_file=`echo /usr/lib/libc.so*`
!     ;;
!   ncr)
!     lt_cv_deplibs_check_method=pass_all
!     ;;
!   sequent)
!     lt_cv_file_magic_cmd='/bin/file'
!     lt_cv_deplibs_check_method='file_magic ELF [[0-9]][[0-9]]*-bit [[LM]]SB (shared object|dynamic lib )'
!     ;;
!   sni)
!     lt_cv_file_magic_cmd='/bin/file'
!     lt_cv_deplibs_check_method="file_magic ELF [[0-9]][[0-9]]*-bit [[LM]]SB dynamic lib"
!     lt_cv_file_magic_test_file=/lib/libc.so
      ;;
    esac
+   ;;
+ esac
+ ])
+ file_magic_cmd=$lt_cv_file_magic_cmd
+ deplibs_check_method=$lt_cv_deplibs_check_method
+ ])
  
! 
! # AC_PROG_NM - find the path to a BSD-compatible name lister
! AC_DEFUN([AC_PROG_NM],
! [AC_REQUIRE([_LT_AC_LIBTOOL_SYS_PATH_SEPARATOR])dnl
! AC_MSG_CHECKING([for BSD-compatible nm])
! AC_CACHE_VAL(lt_cv_path_NM,
! [if test -n "$NM"; then
!   # Let the user override the test.
!   lt_cv_path_NM="$NM"
! else
!   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=$PATH_SEPARATOR
!   for ac_dir in $PATH /usr/ccs/bin /usr/ucb /bin; do
!     test -z "$ac_dir" && ac_dir=.
!     tmp_nm=$ac_dir/${ac_tool_prefix}nm
!     if test -f $tmp_nm || test -f $tmp_nm$ac_exeext ; then
!       # Check to see if the nm accepts a BSD-compat flag.
!       # Adding the `sed 1q' prevents false positives on HP-UX, which says:
!       #   nm: unknown option "B" ignored
!       # Tru64's nm complains that /dev/null is an invalid object file
!       if ($tmp_nm -B /dev/null 2>&1 | sed '1q'; exit 0) | egrep '(/dev/null|Invalid file or object type)' >/dev/null; then
!         # AIX needs to suppress demangling for C++ to work correctly
!         # AIX nm : The default is to demangle all C++ symbol names
!         # GNU nm : The default is to not demangle low-level symbol names.
!         case $host_os in
!         aix*)
!           # check if we are using GNU nm on AIX
!           if $tmp_nm -V 2> /dev/null | grep GNU 2>&1 > /dev/null
!           then
!             lt_cv_path_NM="$tmp_nm -B"
!           else
!             lt_cv_path_NM="$tmp_nm -BC"
!           fi
!           ;;
!         *)
!           lt_cv_path_NM="$tmp_nm -B"
!           ;;
!         esac
! 	break
!       elif ($tmp_nm -p /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then
! 	lt_cv_path_NM="$tmp_nm -p"
! 	break
!       else
! 	lt_cv_path_NM=${lt_cv_path_NM="$tmp_nm"} # keep the first match, but
! 	continue # so that we can try to find one that supports BSD flags
!       fi
!     fi
!   done
!   IFS="$ac_save_ifs"
!   test -z "$lt_cv_path_NM" && lt_cv_path_NM=nm
! fi])
! NM="$lt_cv_path_NM"
! AC_MSG_RESULT([$NM])
! ])
! 
! # AC_CHECK_LIBM - check for math library
! AC_DEFUN([AC_CHECK_LIBM],
! [AC_REQUIRE([AC_CANONICAL_HOST])dnl
! LIBM=
! case $host in
! *-*-beos* | *-*-cygwin* | *-*-pw32*)
!   # These system don't have libm
!   ;;
! *-ncr-sysv4.3*)
!   AC_CHECK_LIB(mw, _mwvalidcheckl, LIBM="-lmw")
!   AC_CHECK_LIB(m, main, LIBM="$LIBM -lm")
!   ;;
! *)
!   AC_CHECK_LIB(m, main, LIBM="-lm")
!   ;;
! esac
! ])
! 
! # AC_LIBLTDL_CONVENIENCE[(dir)] - sets LIBLTDL to the link flags for
! # the libltdl convenience library and INCLTDL to the include flags for
! # the libltdl header and adds --enable-ltdl-convenience to the
! # configure arguments.  Note that LIBLTDL and INCLTDL are not
! # AC_SUBSTed, nor is AC_CONFIG_SUBDIRS called.  If DIR is not
! # provided, it is assumed to be `libltdl'.  LIBLTDL will be prefixed
! # with '${top_builddir}/' and INCLTDL will be prefixed with
! # '${top_srcdir}/' (note the single quotes!).  If your package is not
! # flat and you're not using automake, define top_builddir and
! # top_srcdir appropriately in the Makefiles.
! AC_DEFUN([AC_LIBLTDL_CONVENIENCE],
! [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
!   case $enable_ltdl_convenience in
!   no) AC_MSG_ERROR([this package needs a convenience libltdl]) ;;
!   "") enable_ltdl_convenience=yes
!       ac_configure_args="$ac_configure_args --enable-ltdl-convenience" ;;
!   esac
!   LIBLTDL='${top_builddir}/'ifelse($#,1,[$1],['libltdl'])/libltdlc.la
!   INCLTDL='-I${top_srcdir}/'ifelse($#,1,[$1],['libltdl'])
! ])
! 
! # AC_LIBLTDL_INSTALLABLE[(dir)] - sets LIBLTDL to the link flags for
! # the libltdl installable library and INCLTDL to the include flags for
! # the libltdl header and adds --enable-ltdl-install to the configure
! # arguments.  Note that LIBLTDL and INCLTDL are not AC_SUBSTed, nor is
! # AC_CONFIG_SUBDIRS called.  If DIR is not provided and an installed
! # libltdl is not found, it is assumed to be `libltdl'.  LIBLTDL will
! # be prefixed with '${top_builddir}/' and INCLTDL will be prefixed
! # with '${top_srcdir}/' (note the single quotes!).  If your package is
! # not flat and you're not using automake, define top_builddir and
! # top_srcdir appropriately in the Makefiles.
! # In the future, this macro may have to be called after AC_PROG_LIBTOOL.
! AC_DEFUN([AC_LIBLTDL_INSTALLABLE],
! [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl
!   AC_CHECK_LIB(ltdl, main,
!   [test x"$enable_ltdl_install" != xyes && enable_ltdl_install=no],
!   [if test x"$enable_ltdl_install" = xno; then
!      AC_MSG_WARN([libltdl not installed, but installation disabled])
!    else
!      enable_ltdl_install=yes
!    fi
!   ])
!   if test x"$enable_ltdl_install" = x"yes"; then
!     ac_configure_args="$ac_configure_args --enable-ltdl-install"
!     LIBLTDL='${top_builddir}/'ifelse($#,1,[$1],['libltdl'])/libltdl.la
!     INCLTDL='-I${top_srcdir}/'ifelse($#,1,[$1],['libltdl'])
!   else
!     ac_configure_args="$ac_configure_args --enable-ltdl-install=no"
!     LIBLTDL="-lltdl"
!     INCLTDL=
!   fi
! ])
! 
! # old names
! AC_DEFUN([AM_PROG_LIBTOOL],   [AC_PROG_LIBTOOL])
! AC_DEFUN([AM_ENABLE_SHARED],  [AC_ENABLE_SHARED($@)])
! AC_DEFUN([AM_ENABLE_STATIC],  [AC_ENABLE_STATIC($@)])
! AC_DEFUN([AM_DISABLE_SHARED], [AC_DISABLE_SHARED($@)])
! AC_DEFUN([AM_DISABLE_STATIC], [AC_DISABLE_STATIC($@)])
! AC_DEFUN([AM_PROG_LD],        [AC_PROG_LD])
! AC_DEFUN([AM_PROG_NM],        [AC_PROG_NM])
! 
! # This is just to silence aclocal about the macro not being used
! ifelse([AC_DISABLE_FAST_INSTALL])
! 
! 
! # AC_PROG_LD - find the path to the GNU or non-GNU linker
! AC_DEFUN([AC_SANDIE],
! [AC_ARG_WITH(sandie,
! [  --with-sandie           assume the C compiler uses GNU ld [default=no]],
! compil32_64="$withval", compil32_64=no)
! ])
! 
! # pkg.m4 - Macros to locate and utilise pkg-config.            -*- Autoconf -*-
! # 
! # Copyright © 2004 Scott James Remnant <scott@netsplit.com>.
  #
! # This program is free software; you can redistribute it and/or modify
! # it under the terms of the GNU General Public License as published by
! # the Free Software Foundation; either version 2 of the License, or
! # (at your option) any later version.
  #
! # This program is distributed in the hope that it will be useful, but
! # WITHOUT ANY WARRANTY; without even the implied warranty of
! # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
! # General Public License for more details.
  #
! # You should have received a copy of the GNU General Public License
! # along with this program; if not, write to the Free Software
! # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
  #
! # As a special exception to the GNU General Public License, if you
! # distribute this file as part of a program that contains a
! # configuration script generated by Autoconf, you may include it under
! # the same distribution terms that you use for the rest of that program.
! 
! # PKG_PROG_PKG_CONFIG([MIN-VERSION])
! # ----------------------------------
! AC_DEFUN([PKG_PROG_PKG_CONFIG],
! [m4_pattern_forbid([^_?PKG_[A-Z_]+$])
! m4_pattern_allow([^PKG_CONFIG(_PATH)?$])
! AC_ARG_VAR([PKG_CONFIG], [path to pkg-config utility])dnl
! if test "x$ac_cv_env_PKG_CONFIG_set" != "xset"; then
! 	AC_PATH_TOOL([PKG_CONFIG], [pkg-config])
! fi
! if test -n "$PKG_CONFIG"; then
! 	_pkg_min_version=m4_ifval([$1], [$1], [0.9.0])
! 	AC_MSG_CHECKING([pkg-config is at least version $_pkg_min_version])
! 	if $PKG_CONFIG --atleast-pkgconfig-version $_pkg_min_version; then
! 		AC_MSG_RESULT([yes])
! 	else
! 		AC_MSG_RESULT([no])
! 		PKG_CONFIG=""
! 	fi
! 		
! fi[]dnl
! ])# PKG_PROG_PKG_CONFIG
! 
! # PKG_CHECK_EXISTS(MODULES, [ACTION-IF-FOUND], [ACTION-IF-NOT-FOUND])
  #
! # Check to see whether a particular set of modules exists.  Similar
! # to PKG_CHECK_MODULES(), but does not set variables or print errors.
  #
  #
! # Similar to PKG_CHECK_MODULES, make sure that the first instance of
! # this or PKG_CHECK_MODULES is called, or make sure to call
! # PKG_CHECK_EXISTS manually
! # --------------------------------------------------------------
! AC_DEFUN([PKG_CHECK_EXISTS],
! [AC_REQUIRE([PKG_PROG_PKG_CONFIG])dnl
! if test -n "$PKG_CONFIG" && \
!     AC_RUN_LOG([$PKG_CONFIG --exists --print-errors "$1"]); then
!   m4_ifval([$2], [$2], [:])
! m4_ifvaln([$3], [else
!   $3])dnl
! fi])
! 
! 
! # _PKG_CONFIG([VARIABLE], [COMMAND], [MODULES])
! # ---------------------------------------------
! m4_define([_PKG_CONFIG],
! [if test -n "$PKG_CONFIG"; then
!         PKG_CHECK_EXISTS([$3],
!                          [pkg_cv_[]$1=`$PKG_CONFIG --[]$2 "$3" 2>/dev/null`],
! 			 [pkg_failed=yes])
! else
! 	pkg_failed=untried
! fi[]dnl
! ])# _PKG_CONFIG
! 
! # PKG_CHECK_MODULES(VARIABLE-PREFIX, MODULES, [ACTION-IF-FOUND],
! # [ACTION-IF-NOT-FOUND])
  #
  #
! # Note that if there is a possibility the first call to
! # PKG_CHECK_MODULES might not happen, you should be sure to include an
! # explicit call to PKG_PROG_PKG_CONFIG in your configure.ac
  #
  #
! # --------------------------------------------------------------
! AC_DEFUN([PKG_CHECK_MODULES],
! [AC_REQUIRE([PKG_PROG_PKG_CONFIG])dnl
! AC_ARG_VAR([$1][_CFLAGS], [C compiler flags for $1, overriding pkg-config])dnl
! AC_ARG_VAR([$1][_LIBS], [linker flags for $1, overriding pkg-config])dnl
! 
! pkg_failed=no
! AC_MSG_CHECKING([for $1])
! 
! _PKG_CONFIG([$1][_CFLAGS], [cflags], [$2])
! _PKG_CONFIG([$1][_LIBS], [libs], [$2])
! 
! if test $pkg_failed = yes; then
! 	$1[]_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors "$2"`
! 	# Put the nasty error message in config.log where it belongs
! 	echo "$$1[]_PKG_ERRORS" 1>&AS_MESSAGE_LOG_FD
! 
! 	ifelse([$4], , [AC_MSG_ERROR(dnl
! [Package requirements ($2) were not met.
! Consider adjusting the PKG_CONFIG_PATH environment variable if you
! installed software in a non-standard prefix.
! 
! Alternatively you may set the $1_CFLAGS and $1_LIBS environment variables
! to avoid the need to call pkg-config.  See the pkg-config man page for
! more details.])],
! 		[$4])
! elif test $pkg_failed = untried; then
! 	ifelse([$4], , [AC_MSG_FAILURE(dnl
! [The pkg-config script could not be found or is too old.  Make sure it
! is in your PATH or set the PKG_CONFIG environment variable to the full
! path to pkg-config.
! 
! Alternatively you may set the $1_CFLAGS and $1_LIBS environment variables
! to avoid the need to call pkg-config.  See the pkg-config man page for
! more details.
  
! To get pkg-config, see <http://www.freedesktop.org/software/pkgconfig>.])],
! 		[$4])
! else
! 	$1[]_CFLAGS=$pkg_cv_[]$1[]_CFLAGS
! 	$1[]_LIBS=$pkg_cv_[]$1[]_LIBS
!         AC_MSG_RESULT([yes])
! 	ifelse([$3], , :, [$3])
! fi[]dnl
! ])# PKG_CHECK_MODULES
  
! # Copyright (C) 2002, 2003, 2005  Free Software Foundation, Inc.
! #
! # This file is free software; the Free Software Foundation
! # gives unlimited permission to copy and/or distribute it,
! # with or without modifications, as long as this notice is preserved.
  
! # AM_AUTOMAKE_VERSION(VERSION)
! # ----------------------------
! # Automake X.Y traces this macro to ensure aclocal.m4 has been
! # generated from the m4 files accompanying Automake X.Y.
! AC_DEFUN([AM_AUTOMAKE_VERSION], [am__api_version="1.9"])
  
! # AM_SET_CURRENT_AUTOMAKE_VERSION
! # -------------------------------
! # Call AM_AUTOMAKE_VERSION so it can be traced.
! # This function is AC_REQUIREd by AC_INIT_AUTOMAKE.
! AC_DEFUN([AM_SET_CURRENT_AUTOMAKE_VERSION],
! 	 [AM_AUTOMAKE_VERSION([1.9.6])])
  
! # AM_AUX_DIR_EXPAND                                         -*- Autoconf -*-
  
! # Copyright (C) 2001, 2003, 2005  Free Software Foundation, Inc.
! #
! # This file is free software; the Free Software Foundation
! # gives unlimited permission to copy and/or distribute it,
! # with or without modifications, as long as this notice is preserved.
  
! # For projects using AC_CONFIG_AUX_DIR([foo]), Autoconf sets
! # $ac_aux_dir to `$srcdir/foo'.  In other projects, it is set to
! # `$srcdir', `$srcdir/..', or `$srcdir/../..'.
! #
! # Of course, Automake must honor this variable whenever it calls a
! # tool from the auxiliary directory.  The problem is that $srcdir (and
! # therefore $ac_aux_dir as well) can be either absolute or relative,
! # depending on how configure is run.  This is pretty annoying, since
! # it makes $ac_aux_dir quite unusable in subdirectories: in the top
! # source directory, any form will work fine, but in subdirectories a
! # relative path needs to be adjusted first.
! #
! # $ac_aux_dir/missing
! #    fails when called from a subdirectory if $ac_aux_dir is relative
! # $top_srcdir/$ac_aux_dir/missing
! #    fails if $ac_aux_dir is absolute,
! #    fails when called from a subdirectory in a VPATH build with
! #          a relative $ac_aux_dir
! #
! # The reason of the latter failure is that $top_srcdir and $ac_aux_dir
! # are both prefixed by $srcdir.  In an in-source build this is usually
! # harmless because $srcdir is `.', but things will broke when you
! # start a VPATH build or use an absolute $srcdir.
! #
! # So we could use something similar to $top_srcdir/$ac_aux_dir/missing,
! # iff we strip the leading $srcdir from $ac_aux_dir.  That would be:
! #   am_aux_dir='\$(top_srcdir)/'`expr "$ac_aux_dir" : "$srcdir//*\(.*\)"`
! # and then we would define $MISSING as
! #   MISSING="\${SHELL} $am_aux_dir/missing"
! # This will work as long as MISSING is not called from configure, because
! # unfortunately $(top_srcdir) has no meaning in configure.
! # However there are other variables, like CC, which are often used in
! # configure, and could therefore not use this "fixed" $ac_aux_dir.
! #
! # Another solution, used here, is to always expand $ac_aux_dir to an
! # absolute PATH.  The drawback is that using absolute paths prevent a
! # configured tree to be moved without reconfiguration.
! 
! AC_DEFUN([AM_AUX_DIR_EXPAND],
! [dnl Rely on autoconf to set up CDPATH properly.
! AC_PREREQ([2.50])dnl
! # expand $ac_aux_dir to an absolute path
! am_aux_dir=`cd $ac_aux_dir && pwd`
  ])
  
! # AM_CONDITIONAL                                            -*- Autoconf -*-
  
! # Copyright (C) 1997, 2000, 2001, 2003, 2004, 2005
! # Free Software Foundation, Inc.
! #
! # This file is free software; the Free Software Foundation
! # gives unlimited permission to copy and/or distribute it,
! # with or without modifications, as long as this notice is preserved.
  
! # serial 7
  
+ # AM_CONDITIONAL(NAME, SHELL-CONDITION)
+ # -------------------------------------
+ # Define a conditional.
+ AC_DEFUN([AM_CONDITIONAL],
+ [AC_PREREQ(2.52)dnl
+  ifelse([$1], [TRUE],  [AC_FATAL([$0: invalid condition: $1])],
+ 	[$1], [FALSE], [AC_FATAL([$0: invalid condition: $1])])dnl
+ AC_SUBST([$1_TRUE])
+ AC_SUBST([$1_FALSE])
+ if $2; then
+   $1_TRUE=
+   $1_FALSE='#'
+ else
+   $1_TRUE='#'
+   $1_FALSE=
+ fi
+ AC_CONFIG_COMMANDS_PRE(
+ [if test -z "${$1_TRUE}" && test -z "${$1_FALSE}"; then
+   AC_MSG_ERROR([[conditional "$1" was never defined.
+ Usually this means the macro was only invoked conditionally.]])
+ fi])])
  
  
! # Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004, 2005
! # Free Software Foundation, Inc.
! #
! # This file is free software; the Free Software Foundation
! # gives unlimited permission to copy and/or distribute it,
! # with or without modifications, as long as this notice is preserved.
  
! # serial 8
  
+ # There are a few dirty hacks below to avoid letting `AC_PROG_CC' be
+ # written in clear, in which case automake, when reading aclocal.m4,
+ # will think it sees a *use*, and therefore will trigger all it's
+ # C support machinery.  Also note that it means that autoscan, seeing
+ # CC etc. in the Makefile, will ask for an AC_PROG_CC use...
  
  
! # _AM_DEPENDENCIES(NAME)
! # ----------------------
! # See how the compiler implements dependency checking.
! # NAME is "CC", "CXX", "GCJ", or "OBJC".
! # We try a few techniques and use that to set a single cache variable.
! #
! # We don't AC_REQUIRE the corresponding AC_PROG_CC since the latter was
! # modified to invoke _AM_DEPENDENCIES(CC); we would have a circular
! # dependency, and given that the user is not expected to run this macro,
! # just rely on AC_PROG_CC.
! AC_DEFUN([_AM_DEPENDENCIES],
! [AC_REQUIRE([AM_SET_DEPDIR])dnl
! AC_REQUIRE([AM_OUTPUT_DEPENDENCY_COMMANDS])dnl
! AC_REQUIRE([AM_MAKE_INCLUDE])dnl
! AC_REQUIRE([AM_DEP_TRACK])dnl
  
! ifelse([$1], CC,   [depcc="$CC"   am_compiler_list=],
!        [$1], CXX,  [depcc="$CXX"  am_compiler_list=],
!        [$1], OBJC, [depcc="$OBJC" am_compiler_list='gcc3 gcc'],
!        [$1], GCJ,  [depcc="$GCJ"  am_compiler_list='gcc3 gcc'],
!                    [depcc="$$1"   am_compiler_list=])
! 
! AC_CACHE_CHECK([dependency style of $depcc],
!                [am_cv_$1_dependencies_compiler_type],
! [if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
!   # We make a subdir and do the tests there.  Otherwise we can end up
!   # making bogus files that we don't know about and never remove.  For
!   # instance it was reported that on HP-UX the gcc test will end up
!   # making a dummy file named `D' -- because `-MD' means `put the output
!   # in D'.
!   mkdir conftest.dir
!   # Copy depcomp to subdir because otherwise we won't find it if we're
!   # using a relative directory.
!   cp "$am_depcomp" conftest.dir
!   cd conftest.dir
!   # We will build objects and dependencies in a subdirectory because
!   # it helps to detect inapplicable dependency modes.  For instance
!   # both Tru64's cc and ICC support -MD to output dependencies as a
!   # side effect of compilation, but ICC will put the dependencies in
!   # the current directory while Tru64 will put them in the object
!   # directory.
!   mkdir sub
! 
!   am_cv_$1_dependencies_compiler_type=none
!   if test "$am_compiler_list" = ""; then
!      am_compiler_list=`sed -n ['s/^#*\([a-zA-Z0-9]*\))$/\1/p'] < ./depcomp`
!   fi
!   for depmode in $am_compiler_list; do
!     # Setup a source with many dependencies, because some compilers
!     # like to wrap large dependency lists on column 80 (with \), and
!     # we should not choose a depcomp mode which is confused by this.
!     #
!     # We need to recreate these files for each test, as the compiler may
!     # overwrite some of them when testing with obscure command lines.
!     # This happens at least with the AIX C compiler.
!     : > sub/conftest.c
!     for i in 1 2 3 4 5 6; do
!       echo '#include "conftst'$i'.h"' >> sub/conftest.c
!       # Using `: > sub/conftst$i.h' creates only sub/conftst1.h with
!       # Solaris 8's {/usr,}/bin/sh.
!       touch sub/conftst$i.h
!     done
!     echo "${am__include} ${am__quote}sub/conftest.Po${am__quote}" > confmf
! 
!     case $depmode in
!     nosideeffect)
!       # after this tag, mechanisms are not by side-effect, so they'll
!       # only be used when explicitly requested
!       if test "x$enable_dependency_tracking" = xyes; then
! 	continue
!       else
! 	break
!       fi
!       ;;
!     none) break ;;
!     esac
!     # We check with `-c' and `-o' for the sake of the "dashmstdout"
!     # mode.  It turns out that the SunPro C++ compiler does not properly
!     # handle `-M -o', and we need to detect this.
!     if depmode=$depmode \
!        source=sub/conftest.c object=sub/conftest.${OBJEXT-o} \
!        depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
!        $SHELL ./depcomp $depcc -c -o sub/conftest.${OBJEXT-o} sub/conftest.c \
!          >/dev/null 2>conftest.err &&
!        grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
!        grep sub/conftest.${OBJEXT-o} sub/conftest.Po > /dev/null 2>&1 &&
!        ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
!       # icc doesn't choke on unknown options, it will just issue warnings
!       # or remarks (even with -Werror).  So we grep stderr for any message
!       # that says an option was ignored or not supported.
!       # When given -MP, icc 7.0 and 7.1 complain thusly:
!       #   icc: Command line warning: ignoring option '-M'; no argument required
!       # The diagnosis changed in icc 8.0:
!       #   icc: Command line remark: option '-MP' not supported
!       if (grep 'ignoring option' conftest.err ||
!           grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else
!         am_cv_$1_dependencies_compiler_type=$depmode
!         break
        fi
      fi
    done
! 
!   cd ..
!   rm -rf conftest.dir
  else
!   am_cv_$1_dependencies_compiler_type=none
! fi
! ])
! AC_SUBST([$1DEPMODE], [depmode=$am_cv_$1_dependencies_compiler_type])
! AM_CONDITIONAL([am__fastdep$1], [
!   test "x$enable_dependency_tracking" != xno \
!   && test "$am_cv_$1_dependencies_compiler_type" = gcc3])
! ])
! 
! 
! # AM_SET_DEPDIR
! # -------------
! # Choose a directory name for dependency files.
! # This macro is AC_REQUIREd in _AM_DEPENDENCIES
! AC_DEFUN([AM_SET_DEPDIR],
! [AC_REQUIRE([AM_SET_LEADING_DOT])dnl
! AC_SUBST([DEPDIR], ["${am__leading_dot}deps"])dnl
! ])
! 
! 
! # AM_DEP_TRACK
! # ------------
! AC_DEFUN([AM_DEP_TRACK],
! [AC_ARG_ENABLE(dependency-tracking,
! [  --disable-dependency-tracking  speeds up one-time build
!   --enable-dependency-tracking   do not reject slow dependency extractors])
! if test "x$enable_dependency_tracking" != xno; then
!   am_depcomp="$ac_aux_dir/depcomp"
!   AMDEPBACKSLASH='\'
  fi
+ AM_CONDITIONAL([AMDEP], [test "x$enable_dependency_tracking" != xno])
+ AC_SUBST([AMDEPBACKSLASH])
  ])
  
+ # Generate code to set up dependency tracking.              -*- Autoconf -*-
  
! # Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004, 2005
! # Free Software Foundation, Inc.
! #
! # This file is free software; the Free Software Foundation
! # gives unlimited permission to copy and/or distribute it,
! # with or without modifications, as long as this notice is preserved.
! 
! #serial 3
! 
! # _AM_OUTPUT_DEPENDENCY_COMMANDS
! # ------------------------------
! AC_DEFUN([_AM_OUTPUT_DEPENDENCY_COMMANDS],
! [for mf in $CONFIG_FILES; do
!   # Strip MF so we end up with the name of the file.
!   mf=`echo "$mf" | sed -e 's/:.*$//'`
!   # Check whether this is an Automake generated Makefile or not.
!   # We used to match only the files named `Makefile.in', but
!   # some people rename them; so instead we look at the file content.
!   # Grep'ing the first line is not enough: some people post-process
!   # each Makefile.in and add a new line on top of each file to say so.
!   # So let's grep whole file.
!   if grep '^#.*generated by automake' $mf > /dev/null 2>&1; then
!     dirpart=`AS_DIRNAME("$mf")`
    else
!     continue
    fi
!   # Extract the definition of DEPDIR, am__include, and am__quote
!   # from the Makefile without running `make'.
!   DEPDIR=`sed -n 's/^DEPDIR = //p' < "$mf"`
!   test -z "$DEPDIR" && continue
!   am__include=`sed -n 's/^am__include = //p' < "$mf"`
!   test -z "am__include" && continue
!   am__quote=`sed -n 's/^am__quote = //p' < "$mf"`
!   # When using ansi2knr, U may be empty or an underscore; expand it
!   U=`sed -n 's/^U = //p' < "$mf"`
!   # Find all dependency output files, they are included files with
!   # $(DEPDIR) in their names.  We invoke sed twice because it is the
!   # simplest approach to changing $(DEPDIR) to its actual value in the
!   # expansion.
!   for file in `sed -n "
!     s/^$am__include $am__quote\(.*(DEPDIR).*\)$am__quote"'$/\1/p' <"$mf" | \
!        sed -e 's/\$(DEPDIR)/'"$DEPDIR"'/g' -e 's/\$U/'"$U"'/g'`; do
!     # Make sure the directory exists.
!     test -f "$dirpart/$file" && continue
!     fdir=`AS_DIRNAME(["$file"])`
!     AS_MKDIR_P([$dirpart/$fdir])
!     # echo "creating $dirpart/$file"
!     echo '# dummy' > "$dirpart/$file"
!   done
! done
! ])# _AM_OUTPUT_DEPENDENCY_COMMANDS
! 
! 
! # AM_OUTPUT_DEPENDENCY_COMMANDS
! # -----------------------------
! # This macro should only be invoked once -- use via AC_REQUIRE.
! #
! # This code is only required when automatic dependency tracking
! # is enabled.  FIXME.  This creates each `.P' file that we will
! # need in order to bootstrap the dependency handling code.
! AC_DEFUN([AM_OUTPUT_DEPENDENCY_COMMANDS],
! [AC_CONFIG_COMMANDS([depfiles],
!      [test x"$AMDEP_TRUE" != x"" || _AM_OUTPUT_DEPENDENCY_COMMANDS],
!      [AMDEP_TRUE="$AMDEP_TRUE" ac_aux_dir="$ac_aux_dir"])
  ])
  
+ # Copyright (C) 1996, 1997, 2000, 2001, 2003, 2005
+ # Free Software Foundation, Inc.
+ #
+ # This file is free software; the Free Software Foundation
+ # gives unlimited permission to copy and/or distribute it,
+ # with or without modifications, as long as this notice is preserved.
  
! # serial 8
! 
! # AM_CONFIG_HEADER is obsolete.  It has been replaced by AC_CONFIG_HEADERS.
! AU_DEFUN([AM_CONFIG_HEADER], [AC_CONFIG_HEADERS($@)])
! 
! # Do all the work for Automake.                             -*- Autoconf -*-
! 
! # Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005
! # Free Software Foundation, Inc.
! #
! # This file is free software; the Free Software Foundation
! # gives unlimited permission to copy and/or distribute it,
! # with or without modifications, as long as this notice is preserved.
! 
! # serial 12
! 
! # This macro actually does too much.  Some checks are only needed if
! # your package does certain things.  But this isn't really a big deal.
! 
! # AM_INIT_AUTOMAKE(PACKAGE, VERSION, [NO-DEFINE])
! # AM_INIT_AUTOMAKE([OPTIONS])
! # -----------------------------------------------
! # The call with PACKAGE and VERSION arguments is the old style
! # call (pre autoconf-2.50), which is being phased out.  PACKAGE
! # and VERSION should now be passed to AC_INIT and removed from
! # the call to AM_INIT_AUTOMAKE.
! # We support both call styles for the transition.  After
! # the next Automake release, Autoconf can make the AC_INIT
! # arguments mandatory, and then we can depend on a new Autoconf
! # release and drop the old call support.
! AC_DEFUN([AM_INIT_AUTOMAKE],
! [AC_PREREQ([2.58])dnl
! dnl Autoconf wants to disallow AM_ names.  We explicitly allow
! dnl the ones we care about.
! m4_pattern_allow([^AM_[A-Z]+FLAGS$])dnl
! AC_REQUIRE([AM_SET_CURRENT_AUTOMAKE_VERSION])dnl
! AC_REQUIRE([AC_PROG_INSTALL])dnl
! # test to see if srcdir already configured
! if test "`cd $srcdir && pwd`" != "`pwd`" &&
!    test -f $srcdir/config.status; then
!   AC_MSG_ERROR([source directory already configured; run "make distclean" there first])
  fi
! 
! # test whether we have cygpath
! if test -z "$CYGPATH_W"; then
!   if (cygpath --version) >/dev/null 2>/dev/null; then
!     CYGPATH_W='cygpath -w'
!   else
!     CYGPATH_W=echo
!   fi
  fi
! AC_SUBST([CYGPATH_W])
  
! # Define the identity of the package.
! dnl Distinguish between old-style and new-style calls.
! m4_ifval([$2],
! [m4_ifval([$3], [_AM_SET_OPTION([no-define])])dnl
!  AC_SUBST([PACKAGE], [$1])dnl
!  AC_SUBST([VERSION], [$2])],
! [_AM_SET_OPTIONS([$1])dnl
!  AC_SUBST([PACKAGE], ['AC_PACKAGE_TARNAME'])dnl
!  AC_SUBST([VERSION], ['AC_PACKAGE_VERSION'])])dnl
  
! _AM_IF_OPTION([no-define],,
! [AC_DEFINE_UNQUOTED(PACKAGE, "$PACKAGE", [Name of package])
!  AC_DEFINE_UNQUOTED(VERSION, "$VERSION", [Version number of package])])dnl
  
! # Some tools Automake needs.
! AC_REQUIRE([AM_SANITY_CHECK])dnl
! AC_REQUIRE([AC_ARG_PROGRAM])dnl
! AM_MISSING_PROG(ACLOCAL, aclocal-${am__api_version})
! AM_MISSING_PROG(AUTOCONF, autoconf)
! AM_MISSING_PROG(AUTOMAKE, automake-${am__api_version})
! AM_MISSING_PROG(AUTOHEADER, autoheader)
! AM_MISSING_PROG(MAKEINFO, makeinfo)
! AM_PROG_INSTALL_SH
! AM_PROG_INSTALL_STRIP
! AC_REQUIRE([AM_PROG_MKDIR_P])dnl
! # We need awk for the "check" target.  The system "awk" is bad on
! # some platforms.
! AC_REQUIRE([AC_PROG_AWK])dnl
! AC_REQUIRE([AC_PROG_MAKE_SET])dnl
! AC_REQUIRE([AM_SET_LEADING_DOT])dnl
! _AM_IF_OPTION([tar-ustar], [_AM_PROG_TAR([ustar])],
!               [_AM_IF_OPTION([tar-pax], [_AM_PROG_TAR([pax])],
! 	      		     [_AM_PROG_TAR([v7])])])
! _AM_IF_OPTION([no-dependencies],,
! [AC_PROVIDE_IFELSE([AC_PROG_CC],
!                   [_AM_DEPENDENCIES(CC)],
!                   [define([AC_PROG_CC],
!                           defn([AC_PROG_CC])[_AM_DEPENDENCIES(CC)])])dnl
! AC_PROVIDE_IFELSE([AC_PROG_CXX],
!                   [_AM_DEPENDENCIES(CXX)],
!                   [define([AC_PROG_CXX],
!                           defn([AC_PROG_CXX])[_AM_DEPENDENCIES(CXX)])])dnl
! ])
! ])
  
  
! # When config.status generates a header, we must update the stamp-h file.
! # This file resides in the same directory as the config header
! # that is generated.  The stamp files are numbered to have different names.
  
! # Autoconf calls _AC_AM_CONFIG_HEADER_HOOK (when defined) in the
! # loop where config.status creates the headers, so we can generate
! # our stamp files there.
! AC_DEFUN([_AC_AM_CONFIG_HEADER_HOOK],
! [# Compute $1's index in $config_headers.
! _am_stamp_count=1
! for _am_header in $config_headers :; do
!   case $_am_header in
!     $1 | $1:* )
!       break ;;
!     * )
!       _am_stamp_count=`expr $_am_stamp_count + 1` ;;
!   esac
! done
! echo "timestamp for $1" >`AS_DIRNAME([$1])`/stamp-h[]$_am_stamp_count])
  
! # Copyright (C) 2001, 2003, 2005  Free Software Foundation, Inc.
! #
! # This file is free software; the Free Software Foundation
! # gives unlimited permission to copy and/or distribute it,
! # with or without modifications, as long as this notice is preserved.
  
! # AM_PROG_INSTALL_SH
! # ------------------
! # Define $install_sh.
! AC_DEFUN([AM_PROG_INSTALL_SH],
! [AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl
! install_sh=${install_sh-"$am_aux_dir/install-sh"}
! AC_SUBST(install_sh)])
  
! # Copyright (C) 2003, 2005  Free Software Foundation, Inc.
! #
! # This file is free software; the Free Software Foundation
! # gives unlimited permission to copy and/or distribute it,
! # with or without modifications, as long as this notice is preserved.
  
! # serial 2
  
! # Check whether the underlying file-system supports filenames
! # with a leading dot.  For instance MS-DOS doesn't.
! AC_DEFUN([AM_SET_LEADING_DOT],
! [rm -rf .tst 2>/dev/null
! mkdir .tst 2>/dev/null
! if test -d .tst; then
!   am__leading_dot=.
! else
!   am__leading_dot=_
! fi
! rmdir .tst 2>/dev/null
! AC_SUBST([am__leading_dot])])
  
! # Check to see how 'make' treats includes.	            -*- Autoconf -*-
  
! # Copyright (C) 2001, 2002, 2003, 2005  Free Software Foundation, Inc.
! #
! # This file is free software; the Free Software Foundation
! # gives unlimited permission to copy and/or distribute it,
! # with or without modifications, as long as this notice is preserved.
  
! # serial 3
  
! # AM_MAKE_INCLUDE()
! # -----------------
! # Check to see how make treats includes.
! AC_DEFUN([AM_MAKE_INCLUDE],
! [am_make=${MAKE-make}
! cat > confinc << 'END'
! am__doit:
! 	@echo done
! .PHONY: am__doit
! END
! # If we don't find an include directive, just comment out the code.
! AC_MSG_CHECKING([for style of include used by $am_make])
! am__include="#"
! am__quote=
! _am_result=none
! # First try GNU make style include.
! echo "include confinc" > confmf
! # We grep out `Entering directory' and `Leaving directory'
! # messages which can occur if `w' ends up in MAKEFLAGS.
! # In particular we don't look at `^make:' because GNU make might
! # be invoked under some other name (usually "gmake"), in which
! # case it prints its new name instead of `make'.
! if test "`$am_make -s -f confmf 2> /dev/null | grep -v 'ing directory'`" = "done"; then
!    am__include=include
!    am__quote=
!    _am_result=GNU
! fi
! # Now try BSD make style include.
! if test "$am__include" = "#"; then
!    echo '.include "confinc"' > confmf
!    if test "`$am_make -s -f confmf 2> /dev/null`" = "done"; then
!       am__include=.include
!       am__quote="\""
!       _am_result=BSD
!    fi
! fi
! AC_SUBST([am__include])
! AC_SUBST([am__quote])
! AC_MSG_RESULT([$_am_result])
! rm -f confinc confmf
! ])
  
! # Fake the existence of programs that GNU maintainers use.  -*- Autoconf -*-
  
! # Copyright (C) 1997, 1999, 2000, 2001, 2003, 2005
! # Free Software Foundation, Inc.
! #
! # This file is free software; the Free Software Foundation
! # gives unlimited permission to copy and/or distribute it,
! # with or without modifications, as long as this notice is preserved.
  
! # serial 4
  
! # AM_MISSING_PROG(NAME, PROGRAM)
! # ------------------------------
! AC_DEFUN([AM_MISSING_PROG],
! [AC_REQUIRE([AM_MISSING_HAS_RUN])
! $1=${$1-"${am_missing_run}$2"}
! AC_SUBST($1)])
  
  
! # AM_MISSING_HAS_RUN
! # ------------------
! # Define MISSING if not defined so far and test if it supports --run.
! # If it does, set am_missing_run to use it, otherwise, to nothing.
! AC_DEFUN([AM_MISSING_HAS_RUN],
! [AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl
! test x"${MISSING+set}" = xset || MISSING="\${SHELL} $am_aux_dir/missing"
! # Use eval to expand $SHELL
! if eval "$MISSING --run true"; then
!   am_missing_run="$MISSING --run "
! else
!   am_missing_run=
!   AC_MSG_WARN([`missing' script is too old or missing])
! fi
  ])
  
+ # Copyright (C) 2003, 2004, 2005  Free Software Foundation, Inc.
+ #
+ # This file is free software; the Free Software Foundation
+ # gives unlimited permission to copy and/or distribute it,
+ # with or without modifications, as long as this notice is preserved.
  
! # AM_PROG_MKDIR_P
! # ---------------
! # Check whether `mkdir -p' is supported, fallback to mkinstalldirs otherwise.
! #
! # Automake 1.8 used `mkdir -m 0755 -p --' to ensure that directories
! # created by `make install' are always world readable, even if the
! # installer happens to have an overly restrictive umask (e.g. 077).
! # This was a mistake.  There are at least two reasons why we must not
! # use `-m 0755':
! #   - it causes special bits like SGID to be ignored,
! #   - it may be too restrictive (some setups expect 775 directories).
! #
! # Do not use -m 0755 and let people choose whatever they expect by
! # setting umask.
! #
! # We cannot accept any implementation of `mkdir' that recognizes `-p'.
! # Some implementations (such as Solaris 8's) are not thread-safe: if a
! # parallel make tries to run `mkdir -p a/b' and `mkdir -p a/c'
! # concurrently, both version can detect that a/ is missing, but only
! # one can create it and the other will error out.  Consequently we
! # restrict ourselves to GNU make (using the --version option ensures
! # this.)
! AC_DEFUN([AM_PROG_MKDIR_P],
! [if mkdir -p --version . >/dev/null 2>&1 && test ! -d ./--version; then
!   # We used to keeping the `.' as first argument, in order to
!   # allow $(mkdir_p) to be used without argument.  As in
!   #   $(mkdir_p) $(somedir)
!   # where $(somedir) is conditionally defined.  However this is wrong
!   # for two reasons:
!   #  1. if the package is installed by a user who cannot write `.'
!   #     make install will fail,
!   #  2. the above comment should most certainly read
!   #     $(mkdir_p) $(DESTDIR)$(somedir)
!   #     so it does not work when $(somedir) is undefined and
!   #     $(DESTDIR) is not.
!   #  To support the latter case, we have to write
!   #     test -z "$(somedir)" || $(mkdir_p) $(DESTDIR)$(somedir),
!   #  so the `.' trick is pointless.
!   mkdir_p='mkdir -p --'
  else
!   # On NextStep and OpenStep, the `mkdir' command does not
!   # recognize any option.  It will interpret all options as
!   # directories to create, and then abort because `.' already
!   # exists.
!   for d in ./-p ./--version;
!   do
!     test -d $d && rmdir $d
    done
!   # $(mkinstalldirs) is defined by Automake if mkinstalldirs exists.
!   if test -f "$ac_aux_dir/mkinstalldirs"; then
!     mkdir_p='$(mkinstalldirs)'
!   else
!     mkdir_p='$(install_sh) -d'
!   fi
! fi
! AC_SUBST([mkdir_p])])
  
! # Helper functions for option handling.                     -*- Autoconf -*-
  
! # Copyright (C) 2001, 2002, 2003, 2005  Free Software Foundation, Inc.
! #
! # This file is free software; the Free Software Foundation
! # gives unlimited permission to copy and/or distribute it,
! # with or without modifications, as long as this notice is preserved.
  
! # serial 3
  
! # _AM_MANGLE_OPTION(NAME)
! # -----------------------
! AC_DEFUN([_AM_MANGLE_OPTION],
! [[_AM_OPTION_]m4_bpatsubst($1, [[^a-zA-Z0-9_]], [_])])
  
! # _AM_SET_OPTION(NAME)
! # ------------------------------
! # Set option NAME.  Presently that only means defining a flag for this option.
! AC_DEFUN([_AM_SET_OPTION],
! [m4_define(_AM_MANGLE_OPTION([$1]), 1)])
  
! # _AM_SET_OPTIONS(OPTIONS)
! # ----------------------------------
! # OPTIONS is a space-separated list of Automake options.
! AC_DEFUN([_AM_SET_OPTIONS],
! [AC_FOREACH([_AM_Option], [$1], [_AM_SET_OPTION(_AM_Option)])])
  
! # _AM_IF_OPTION(OPTION, IF-SET, [IF-NOT-SET])
! # -------------------------------------------
! # Execute IF-SET if OPTION is set, IF-NOT-SET otherwise.
! AC_DEFUN([_AM_IF_OPTION],
! [m4_ifset(_AM_MANGLE_OPTION([$1]), [$2], [$3])])
  
! # Check to make sure that the build environment is sane.    -*- Autoconf -*-
! 
! # Copyright (C) 1996, 1997, 2000, 2001, 2003, 2005
! # Free Software Foundation, Inc.
! #
! # This file is free software; the Free Software Foundation
! # gives unlimited permission to copy and/or distribute it,
! # with or without modifications, as long as this notice is preserved.
! 
! # serial 4
! 
! # AM_SANITY_CHECK
! # ---------------
! AC_DEFUN([AM_SANITY_CHECK],
! [AC_MSG_CHECKING([whether build environment is sane])
! # Just in case
! sleep 1
! echo timestamp > conftest.file
! # Do `set' in a subshell so we don't clobber the current shell's
! # arguments.  Must try -L first in case configure is actually a
! # symlink; some systems play weird games with the mod time of symlinks
! # (eg FreeBSD returns the mod time of the symlink's containing
! # directory).
! if (
!    set X `ls -Lt $srcdir/configure conftest.file 2> /dev/null`
!    if test "$[*]" = "X"; then
!       # -L didn't work.
!       set X `ls -t $srcdir/configure conftest.file`
!    fi
!    rm -f conftest.file
!    if test "$[*]" != "X $srcdir/configure conftest.file" \
!       && test "$[*]" != "X conftest.file $srcdir/configure"; then
! 
!       # If neither matched, then we have a broken ls.  This can happen
!       # if, for instance, CONFIG_SHELL is bash and it inherits a
!       # broken ls alias from the environment.  This has actually
!       # happened.  Such a system could not be considered "sane".
!       AC_MSG_ERROR([ls -t appears to fail.  Make sure there is not a broken
! alias in your environment])
!    fi
! 
!    test "$[2]" = conftest.file
!    )
! then
!    # Ok.
!    :
  else
!    AC_MSG_ERROR([newly created file is older than distributed files!
! Check your system clock])
  fi
! AC_MSG_RESULT(yes)])
! 
! # Copyright (C) 2001, 2003, 2005  Free Software Foundation, Inc.
! #
! # This file is free software; the Free Software Foundation
! # gives unlimited permission to copy and/or distribute it,
! # with or without modifications, as long as this notice is preserved.
! 
! # AM_PROG_INSTALL_STRIP
! # ---------------------
! # One issue with vendor `install' (even GNU) is that you can't
! # specify the program used to strip binaries.  This is especially
! # annoying in cross-compiling environments, where the build's strip
! # is unlikely to handle the host's binaries.
! # Fortunately install-sh will honor a STRIPPROG variable, so we
! # always use install-sh in `make install-strip', and initialize
! # STRIPPROG with the value of the STRIP variable (set by the user).
! AC_DEFUN([AM_PROG_INSTALL_STRIP],
! [AC_REQUIRE([AM_PROG_INSTALL_SH])dnl
! # Installed binaries are usually stripped using `strip' when the user
! # run `make install-strip'.  However `strip' might not be the right
! # tool to use in cross-compilation environments, therefore Automake
! # will honor the `STRIP' environment variable to overrule this program.
! dnl Don't test for $cross_compiling = yes, because it might be `maybe'.
! if test "$cross_compiling" != no; then
!   AC_CHECK_TOOL([STRIP], [strip], :)
! fi
! INSTALL_STRIP_PROGRAM="\${SHELL} \$(install_sh) -c -s"
! AC_SUBST([INSTALL_STRIP_PROGRAM])])
  
+ # Check how to create a tarball.                            -*- Autoconf -*-
  
! # Copyright (C) 2004, 2005  Free Software Foundation, Inc.
! #
! # This file is free software; the Free Software Foundation
! # gives unlimited permission to copy and/or distribute it,
! # with or without modifications, as long as this notice is preserved.
  
! # serial 2
  
! # _AM_PROG_TAR(FORMAT)
! # --------------------
! # Check how to create a tarball in format FORMAT.
! # FORMAT should be one of `v7', `ustar', or `pax'.
! #
! # Substitute a variable $(am__tar) that is a command
! # writing to stdout a FORMAT-tarball containing the directory
! # $tardir.
! #     tardir=directory && $(am__tar) > result.tar
! #
! # Substitute a variable $(am__untar) that extract such
! # a tarball read from stdin.
! #     $(am__untar) < result.tar
! AC_DEFUN([_AM_PROG_TAR],
! [# Always define AMTAR for backward compatibility.
! AM_MISSING_PROG([AMTAR], [tar])
! m4_if([$1], [v7],
!      [am__tar='${AMTAR} chof - "$$tardir"'; am__untar='${AMTAR} xf -'],
!      [m4_case([$1], [ustar],, [pax],,
!               [m4_fatal([Unknown tar format])])
! AC_MSG_CHECKING([how to create a $1 tar archive])
! # Loop over all known methods to create a tar archive until one works.
! _am_tools='gnutar m4_if([$1], [ustar], [plaintar]) pax cpio none'
! _am_tools=${am_cv_prog_tar_$1-$_am_tools}
! # Do not fold the above two line into one, because Tru64 sh and
! # Solaris sh will not grok spaces in the rhs of `-'.
! for _am_tool in $_am_tools
! do
!   case $_am_tool in
!   gnutar)
!     for _am_tar in tar gnutar gtar;
!     do
!       AM_RUN_LOG([$_am_tar --version]) && break
!     done
!     am__tar="$_am_tar --format=m4_if([$1], [pax], [posix], [$1]) -chf - "'"$$tardir"'
!     am__tar_="$_am_tar --format=m4_if([$1], [pax], [posix], [$1]) -chf - "'"$tardir"'
!     am__untar="$_am_tar -xf -"
!     ;;
!   plaintar)
!     # Must skip GNU tar: if it does not support --format= it doesn't create
!     # ustar tarball either.
!     (tar --version) >/dev/null 2>&1 && continue
!     am__tar='tar chf - "$$tardir"'
!     am__tar_='tar chf - "$tardir"'
!     am__untar='tar xf -'
!     ;;
!   pax)
!     am__tar='pax -L -x $1 -w "$$tardir"'
!     am__tar_='pax -L -x $1 -w "$tardir"'
!     am__untar='pax -r'
!     ;;
!   cpio)
!     am__tar='find "$$tardir" -print | cpio -o -H $1 -L'
!     am__tar_='find "$tardir" -print | cpio -o -H $1 -L'
!     am__untar='cpio -i -H $1 -d'
!     ;;
!   none)
!     am__tar=false
!     am__tar_=false
!     am__untar=false
!     ;;
!   esac
  
!   # If the value was cached, stop now.  We just wanted to have am__tar
!   # and am__untar set.
!   test -n "${am_cv_prog_tar_$1}" && break
  
+   # tar/untar a dummy directory, and stop if the command works
+   rm -rf conftest.dir
+   mkdir conftest.dir
+   echo GrepMe > conftest.dir/file
+   AM_RUN_LOG([tardir=conftest.dir && eval $am__tar_ >conftest.tar])
+   rm -rf conftest.dir
+   if test -s conftest.tar; then
+     AM_RUN_LOG([$am__untar <conftest.tar])
+     grep GrepMe conftest.dir/file >/dev/null 2>&1 && break
+   fi
+ done
+ rm -rf conftest.dir
  
+ AC_CACHE_VAL([am_cv_prog_tar_$1], [am_cv_prog_tar_$1=$_am_tool])
+ AC_MSG_RESULT([$am_cv_prog_tar_$1])])
+ AC_SUBST([am__tar])
+ AC_SUBST([am__untar])
+ ]) # _AM_PROG_TAR
  
diff -crN ./xcursor/config.guess /users6/vanderms/sb/gnome_21264bis/src/./xcursor/config.guess
*** ./xcursor/config.guess	Wed May 21 19:18:12 2003
--- /users6/vanderms/sb/gnome_21264bis/src/./xcursor/config.guess	Tue Jan 17 10:48:24 2006
***************
*** 1,9 ****
  #! /bin/sh
  # Attempt to guess a canonical system name.
! #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
! #   2000, 2001, 2002, 2003 Free Software Foundation, Inc.
  
! timestamp='2003-02-22'
  
  # This file is free software; you can redistribute it and/or modify it
  # under the terms of the GNU General Public License as published by
--- 1,9 ----
  #! /bin/sh
  # Attempt to guess a canonical system name.
! #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001
! #   Free Software Foundation, Inc.
  
! timestamp='2001-09-04'
  
  # This file is free software; you can redistribute it and/or modify it
  # under the terms of the GNU General Public License as published by
***************
*** 24,32 ****
  # configuration script generated by Autoconf, you may include it under
  # the same distribution terms that you use for the rest of that program.
  
! # Originally written by Per Bothner <per@bothner.com>.
! # Please send patches to <config-patches@gnu.org>.  Submit a context
! # diff and a properly formatted ChangeLog entry.
  #
  # This script attempts to guess a canonical system name similar to
  # config.sub.  If it succeeds, it prints the system name on stdout, and
--- 24,31 ----
  # configuration script generated by Autoconf, you may include it under
  # the same distribution terms that you use for the rest of that program.
  
! # Written by Per Bothner <bothner@cygnus.com>.
! # Please send patches to <config-patches@gnu.org>.
  #
  # This script attempts to guess a canonical system name similar to
  # config.sub.  If it succeeds, it prints the system name on stdout, and
***************
*** 88,128 ****
    exit 1
  fi
  
- trap 'exit 1' 1 2 15
  
! # CC_FOR_BUILD -- compiler used by this script. Note that the use of a
! # compiler to aid in system detection is discouraged as it requires
! # temporary files to be created and, as you can see below, it is a
! # headache to deal with in a portable fashion.
  
  # Historically, `CC_FOR_BUILD' used to be named `HOST_CC'. We still
  # use `HOST_CC' if defined, but it is deprecated.
  
! # Portable tmp directory creation inspired by the Autoconf team.
! 
! set_cc_for_build='
! trap "exitcode=\$?; (rm -f \$tmpfiles 2>/dev/null; rmdir \$tmp 2>/dev/null) && exit \$exitcode" 0 ;
! trap "rm -f \$tmpfiles 2>/dev/null; rmdir \$tmp 2>/dev/null; exit 1" 1 2 13 15 ;
! : ${TMPDIR=/tmp} ;
!  { tmp=`(umask 077 && mktemp -d -q "$TMPDIR/cgXXXXXX") 2>/dev/null` && test -n "$tmp" && test -d "$tmp" ; } ||
!  { test -n "$RANDOM" && tmp=$TMPDIR/cg$$-$RANDOM && (umask 077 && mkdir $tmp) ; } ||
!  { echo "$me: cannot create a temporary directory in $TMPDIR" >&2 ; exit 1 ; } ;
! dummy=$tmp/dummy ;
! tmpfiles="$dummy.c $dummy.o $dummy.rel $dummy" ;
! case $CC_FOR_BUILD,$HOST_CC,$CC in
!  ,,)    echo "int x;" > $dummy.c ;
! 	for c in cc gcc c89 c99 ; do
! 	  if ($c -c -o $dummy.o $dummy.c) >/dev/null 2>&1 ; then
  	     CC_FOR_BUILD="$c"; break ;
  	  fi ;
  	done ;
  	if test x"$CC_FOR_BUILD" = x ; then
  	  CC_FOR_BUILD=no_compiler_found ;
  	fi
  	;;
   ,,*)   CC_FOR_BUILD=$CC ;;
   ,*,*)  CC_FOR_BUILD=$HOST_CC ;;
! esac ;'
  
  # This is needed to find uname on a Pyramid OSx when run in the BSD universe.
  # (ghazi@noc.rutgers.edu 1994-08-24)
--- 87,116 ----
    exit 1
  fi
  
  
! dummy=dummy-$$
! trap 'rm -f $dummy.c $dummy.o $dummy.rel $dummy; exit 1' 1 2 15
  
+ # CC_FOR_BUILD -- compiler used by this script.
  # Historically, `CC_FOR_BUILD' used to be named `HOST_CC'. We still
  # use `HOST_CC' if defined, but it is deprecated.
  
! set_cc_for_build='case $CC_FOR_BUILD,$HOST_CC,$CC in
!  ,,)    echo "int dummy(){}" > $dummy.c ;
! 	for c in cc gcc c89 ; do
! 	  ($c $dummy.c -c -o $dummy.o) >/dev/null 2>&1 ;
! 	  if test $? = 0 ; then
  	     CC_FOR_BUILD="$c"; break ;
  	  fi ;
  	done ;
+ 	rm -f $dummy.c $dummy.o $dummy.rel ;
  	if test x"$CC_FOR_BUILD" = x ; then
  	  CC_FOR_BUILD=no_compiler_found ;
  	fi
  	;;
   ,,*)   CC_FOR_BUILD=$CC ;;
   ,*,*)  CC_FOR_BUILD=$HOST_CC ;;
! esac'
  
  # This is needed to find uname on a Pyramid OSx when run in the BSD universe.
  # (ghazi@noc.rutgers.edu 1994-08-24)
***************
*** 139,168 ****
  
  case "${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}" in
      *:NetBSD:*:*)
! 	# NetBSD (nbsd) targets should (where applicable) match one or
  	# more of the tupples: *-*-netbsdelf*, *-*-netbsdaout*,
  	# *-*-netbsdecoff* and *-*-netbsd*.  For targets that recently
  	# switched to ELF, *-*-netbsd* would select the old
  	# object file format.  This provides both forward
  	# compatibility and a consistent mechanism for selecting the
  	# object file format.
! 	#
! 	# Note: NetBSD doesn't particularly care about the vendor
! 	# portion of the name.  We always set it to "unknown".
! 	sysctl="sysctl -n hw.machine_arch"
! 	UNAME_MACHINE_ARCH=`(/sbin/$sysctl 2>/dev/null || \
! 	    /usr/sbin/$sysctl 2>/dev/null || echo unknown)`
! 	case "${UNAME_MACHINE_ARCH}" in
! 	    armeb) machine=armeb-unknown ;;
! 	    arm*) machine=arm-unknown ;;
! 	    sh3el) machine=shl-unknown ;;
! 	    sh3eb) machine=sh-unknown ;;
! 	    *) machine=${UNAME_MACHINE_ARCH}-unknown ;;
  	esac
  	# The Operating System including object format, if it has switched
  	# to ELF recently, or will in the future.
! 	case "${UNAME_MACHINE_ARCH}" in
! 	    arm*|i386|m68k|ns32k|sh3*|sparc|vax)
  		eval $set_cc_for_build
  		if echo __ELF__ | $CC_FOR_BUILD -E - 2>/dev/null \
  			| grep __ELF__ >/dev/null
--- 127,155 ----
  
  case "${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}" in
      *:NetBSD:*:*)
! 	# Netbsd (nbsd) targets should (where applicable) match one or
  	# more of the tupples: *-*-netbsdelf*, *-*-netbsdaout*,
  	# *-*-netbsdecoff* and *-*-netbsd*.  For targets that recently
  	# switched to ELF, *-*-netbsd* would select the old
  	# object file format.  This provides both forward
  	# compatibility and a consistent mechanism for selecting the
  	# object file format.
! 	# Determine the machine/vendor (is the vendor relevant).
! 	case "${UNAME_MACHINE}" in
! 	    amiga) machine=m68k-unknown ;;
! 	    arm32) machine=arm-unknown ;;
! 	    atari*) machine=m68k-atari ;;
! 	    sun3*) machine=m68k-sun ;;
! 	    mac68k) machine=m68k-apple ;;
! 	    macppc) machine=powerpc-apple ;;
! 	    hp3[0-9][05]) machine=m68k-hp ;;
! 	    ibmrt|romp-ibm) machine=romp-ibm ;;
! 	    *) machine=${UNAME_MACHINE}-unknown ;;
  	esac
  	# The Operating System including object format, if it has switched
  	# to ELF recently, or will in the future.
! 	case "${UNAME_MACHINE}" in
! 	    i386|sparc|amiga|arm*|hp300|mvme68k|vax|atari|luna68k|mac68k|news68k|next68k|pc532|sun3*|x68k)
  		eval $set_cc_for_build
  		if echo __ELF__ | $CC_FOR_BUILD -E - 2>/dev/null \
  			| grep __ELF__ >/dev/null
***************
*** 179,285 ****
  		;;
  	esac
  	# The OS release
! 	# Debian GNU/NetBSD machines have a different userland, and
! 	# thus, need a distinct triplet. However, they do not need
! 	# kernel version information, so it can be replaced with a
! 	# suitable tag, in the style of linux-gnu.
! 	case "${UNAME_VERSION}" in
! 	    Debian*)
! 		release='-gnu'
! 		;;
! 	    *)
! 		release=`echo ${UNAME_RELEASE}|sed -e 's/[-_].*/\./'`
! 		;;
! 	esac
  	# Since CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM:
  	# contains redundant information, the shorter form:
  	# CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM is used.
  	echo "${machine}-${os}${release}"
  	exit 0 ;;
-     amiga:OpenBSD:*:*)
- 	echo m68k-unknown-openbsd${UNAME_RELEASE}
- 	exit 0 ;;
-     arc:OpenBSD:*:*)
- 	echo mipsel-unknown-openbsd${UNAME_RELEASE}
- 	exit 0 ;;
-     hp300:OpenBSD:*:*)
- 	echo m68k-unknown-openbsd${UNAME_RELEASE}
- 	exit 0 ;;
-     mac68k:OpenBSD:*:*)
- 	echo m68k-unknown-openbsd${UNAME_RELEASE}
- 	exit 0 ;;
-     macppc:OpenBSD:*:*)
- 	echo powerpc-unknown-openbsd${UNAME_RELEASE}
- 	exit 0 ;;
-     mvme68k:OpenBSD:*:*)
- 	echo m68k-unknown-openbsd${UNAME_RELEASE}
- 	exit 0 ;;
-     mvme88k:OpenBSD:*:*)
- 	echo m88k-unknown-openbsd${UNAME_RELEASE}
- 	exit 0 ;;
-     mvmeppc:OpenBSD:*:*)
- 	echo powerpc-unknown-openbsd${UNAME_RELEASE}
- 	exit 0 ;;
-     pmax:OpenBSD:*:*)
- 	echo mipsel-unknown-openbsd${UNAME_RELEASE}
- 	exit 0 ;;
-     sgi:OpenBSD:*:*)
- 	echo mipseb-unknown-openbsd${UNAME_RELEASE}
- 	exit 0 ;;
-     sun3:OpenBSD:*:*)
- 	echo m68k-unknown-openbsd${UNAME_RELEASE}
- 	exit 0 ;;
-     wgrisc:OpenBSD:*:*)
- 	echo mipsel-unknown-openbsd${UNAME_RELEASE}
- 	exit 0 ;;
-     *:OpenBSD:*:*)
- 	echo ${UNAME_MACHINE}-unknown-openbsd${UNAME_RELEASE}
- 	exit 0 ;;
      alpha:OSF1:*:*)
  	if test $UNAME_RELEASE = "V4.0"; then
  		UNAME_RELEASE=`/usr/sbin/sizer -v | awk '{print $3}'`
  	fi
- 	# According to Compaq, /usr/sbin/psrinfo has been available on
- 	# OSF/1 and Tru64 systems produced since 1995.  I hope that
- 	# covers most systems running today.  This code pipes the CPU
- 	# types through head -n 1, so we only detect the type of CPU 0.
- 	ALPHA_CPU_TYPE=`/usr/sbin/psrinfo -v | sed -n -e 's/^  The alpha \(.*\) processor.*$/\1/p' | head -n 1`
- 	case "$ALPHA_CPU_TYPE" in
- 	    "EV4 (21064)")
- 		UNAME_MACHINE="alpha" ;;
- 	    "EV4.5 (21064)")
- 		UNAME_MACHINE="alpha" ;;
- 	    "LCA4 (21066/21068)")
- 		UNAME_MACHINE="alpha" ;;
- 	    "EV5 (21164)")
- 		UNAME_MACHINE="alphaev5" ;;
- 	    "EV5.6 (21164A)")
- 		UNAME_MACHINE="alphaev56" ;;
- 	    "EV5.6 (21164PC)")
- 		UNAME_MACHINE="alphapca56" ;;
- 	    "EV5.7 (21164PC)")
- 		UNAME_MACHINE="alphapca57" ;;
- 	    "EV6 (21264)")
- 		UNAME_MACHINE="alphaev6" ;;
- 	    "EV6.7 (21264A)")
- 		UNAME_MACHINE="alphaev67" ;;
- 	    "EV6.8CB (21264C)")
- 		UNAME_MACHINE="alphaev68" ;;
- 	    "EV6.8AL (21264B)")
- 		UNAME_MACHINE="alphaev68" ;;
- 	    "EV6.8CX (21264D)")
- 		UNAME_MACHINE="alphaev68" ;;
- 	    "EV6.9A (21264/EV69A)")
- 		UNAME_MACHINE="alphaev69" ;;
- 	    "EV7 (21364)")
- 		UNAME_MACHINE="alphaev7" ;;
- 	    "EV7.9 (21364A)")
- 		UNAME_MACHINE="alphaev79" ;;
- 	esac
  	# A Vn.n version is a released version.
  	# A Tn.n version is a released field test version.
  	# A Xn.n version is an unreleased experimental baselevel.
  	# 1.2 uses "1.2" for uname -r.
  	echo ${UNAME_MACHINE}-dec-osf`echo ${UNAME_RELEASE} | sed -e 's/^[VTX]//' | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz'`
  	exit 0 ;;
      Alpha\ *:Windows_NT*:*)
--- 166,238 ----
  		;;
  	esac
  	# The OS release
! 	release=`echo ${UNAME_RELEASE}|sed -e 's/[-_].*/\./'`
  	# Since CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM:
  	# contains redundant information, the shorter form:
  	# CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM is used.
  	echo "${machine}-${os}${release}"
  	exit 0 ;;
      alpha:OSF1:*:*)
  	if test $UNAME_RELEASE = "V4.0"; then
  		UNAME_RELEASE=`/usr/sbin/sizer -v | awk '{print $3}'`
  	fi
  	# A Vn.n version is a released version.
  	# A Tn.n version is a released field test version.
  	# A Xn.n version is an unreleased experimental baselevel.
  	# 1.2 uses "1.2" for uname -r.
+ 	cat <<EOF >$dummy.s
+ 	.data
+ \$Lformat:
+ 	.byte 37,100,45,37,120,10,0	# "%d-%x\n"
+ 
+ 	.text
+ 	.globl main
+ 	.align 4
+ 	.ent main
+ main:
+ 	.frame \$30,16,\$26,0
+ 	ldgp \$29,0(\$27)
+ 	.prologue 1
+ 	.long 0x47e03d80 # implver \$0
+ 	lda \$2,-1
+ 	.long 0x47e20c21 # amask \$2,\$1
+ 	lda \$16,\$Lformat
+ 	mov \$0,\$17
+ 	not \$1,\$18
+ 	jsr \$26,printf
+ 	ldgp \$29,0(\$26)
+ 	mov 0,\$16
+ 	jsr \$26,exit
+ 	.end main
+ EOF
+ 	eval $set_cc_for_build
+ 	$CC_FOR_BUILD $dummy.s -o $dummy 2>/dev/null
+ 	if test "$?" = 0 ; then
+ 		case `./$dummy` in
+ 			0-0)
+ 				UNAME_MACHINE="alpha"
+ 				;;
+ 			1-0)
+ 				UNAME_MACHINE="alphaev5"
+ 				;;
+ 			1-1)
+ 				UNAME_MACHINE="alphaev56"
+ 				;;
+ 			1-101)
+ 				UNAME_MACHINE="alphapca56"
+ 				;;
+ 			2-303)
+ 				UNAME_MACHINE="alphaev6"
+ 				;;
+ 			2-307)
+ 				UNAME_MACHINE="alphaev67"
+ 				;;
+ 			2-1307)
+ 				UNAME_MACHINE="alphaev68"
+ 				;;
+ 		esac
+ 	fi
+ 	rm -f $dummy.s $dummy
  	echo ${UNAME_MACHINE}-dec-osf`echo ${UNAME_RELEASE} | sed -e 's/^[VTX]//' | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz'`
  	exit 0 ;;
      Alpha\ *:Windows_NT*:*)
***************
*** 294,304 ****
      Amiga*:UNIX_System_V:4.0:*)
  	echo m68k-unknown-sysv4
  	exit 0;;
      *:[Aa]miga[Oo][Ss]:*:*)
  	echo ${UNAME_MACHINE}-unknown-amigaos
  	exit 0 ;;
!     *:[Mm]orph[Oo][Ss]:*:*)
! 	echo ${UNAME_MACHINE}-unknown-morphos
  	exit 0 ;;
      *:OS/390:*:*)
  	echo i370-ibm-openedition
--- 247,275 ----
      Amiga*:UNIX_System_V:4.0:*)
  	echo m68k-unknown-sysv4
  	exit 0;;
+     amiga:OpenBSD:*:*)
+ 	echo m68k-unknown-openbsd${UNAME_RELEASE}
+ 	exit 0 ;;
      *:[Aa]miga[Oo][Ss]:*:*)
  	echo ${UNAME_MACHINE}-unknown-amigaos
  	exit 0 ;;
!     arc64:OpenBSD:*:*)
! 	echo mips64el-unknown-openbsd${UNAME_RELEASE}
! 	exit 0 ;;
!     arc:OpenBSD:*:*)
! 	echo mipsel-unknown-openbsd${UNAME_RELEASE}
! 	exit 0 ;;
!     hkmips:OpenBSD:*:*)
! 	echo mips-unknown-openbsd${UNAME_RELEASE}
! 	exit 0 ;;
!     pmax:OpenBSD:*:*)
! 	echo mipsel-unknown-openbsd${UNAME_RELEASE}
! 	exit 0 ;;
!     sgi:OpenBSD:*:*)
! 	echo mips-unknown-openbsd${UNAME_RELEASE}
! 	exit 0 ;;
!     wgrisc:OpenBSD:*:*)
! 	echo mipsel-unknown-openbsd${UNAME_RELEASE}
  	exit 0 ;;
      *:OS/390:*:*)
  	echo i370-ibm-openedition
***************
*** 320,329 ****
      NILE*:*:*:dcosx)
  	echo pyramid-pyramid-svr4
  	exit 0 ;;
-     DRS?6000:UNIX_SV:4.2*:7*)
- 	case `/usr/bin/uname -p` in
- 	    sparc) echo sparc-icl-nx7 && exit 0 ;;
- 	esac ;;
      sun4H:SunOS:5.*:*)
  	echo sparc-hal-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
  	exit 0 ;;
--- 291,296 ----
***************
*** 352,358 ****
  	echo m68k-sun-sunos${UNAME_RELEASE}
  	exit 0 ;;
      sun*:*:4.2BSD:*)
! 	UNAME_RELEASE=`(sed 1q /etc/motd | awk '{print substr($5,1,3)}') 2>/dev/null`
  	test "x${UNAME_RELEASE}" = "x" && UNAME_RELEASE=3
  	case "`/bin/arch`" in
  	    sun3)
--- 319,325 ----
  	echo m68k-sun-sunos${UNAME_RELEASE}
  	exit 0 ;;
      sun*:*:4.2BSD:*)
! 	UNAME_RELEASE=`(head -1 /etc/motd | awk '{print substr($5,1,3)}') 2>/dev/null`
  	test "x${UNAME_RELEASE}" = "x" && UNAME_RELEASE=3
  	case "`/bin/arch`" in
  	    sun3)
***************
*** 366,371 ****
--- 333,344 ----
      aushp:SunOS:*:*)
  	echo sparc-auspex-sunos${UNAME_RELEASE}
  	exit 0 ;;
+     sparc*:NetBSD:*)
+ 	echo `uname -p`-unknown-netbsd${UNAME_RELEASE}
+ 	exit 0 ;;
+     atari*:OpenBSD:*:*)
+ 	echo m68k-unknown-openbsd${UNAME_RELEASE}
+ 	exit 0 ;;
      # The situation for MiNT is a little confusing.  The machine name
      # can be virtually everything (everything which is not
      # "atarist" or "atariste" at least should have a processor
***************
*** 392,397 ****
--- 365,382 ----
      *:*MiNT:*:* | *:*mint:*:* | *:*TOS:*:*)
          echo m68k-unknown-mint${UNAME_RELEASE}
          exit 0 ;;
+     sun3*:OpenBSD:*:*)
+ 	echo m68k-unknown-openbsd${UNAME_RELEASE}
+ 	exit 0 ;;
+     mac68k:OpenBSD:*:*)
+ 	echo m68k-unknown-openbsd${UNAME_RELEASE}
+ 	exit 0 ;;
+     mvme68k:OpenBSD:*:*)
+ 	echo m68k-unknown-openbsd${UNAME_RELEASE}
+ 	exit 0 ;;
+     mvme88k:OpenBSD:*:*)
+ 	echo m88k-unknown-openbsd${UNAME_RELEASE}
+ 	exit 0 ;;
      powerpc:machten:*:*)
  	echo powerpc-apple-machten${UNAME_RELEASE}
  	exit 0 ;;
***************
*** 430,449 ****
  	  exit (-1);
  	}
  EOF
! 	$CC_FOR_BUILD -o $dummy $dummy.c \
! 	  && $dummy `echo "${UNAME_RELEASE}" | sed -n 's/\([0-9]*\).*/\1/p'` \
! 	  && exit 0
  	echo mips-mips-riscos${UNAME_RELEASE}
  	exit 0 ;;
      Motorola:PowerMAX_OS:*:*)
  	echo powerpc-motorola-powermax
  	exit 0 ;;
-     Motorola:*:4.3:PL8-*)
- 	echo powerpc-harris-powermax
- 	exit 0 ;;
-     Night_Hawk:*:*:PowerMAX_OS | Synergy:PowerMAX_OS:*:*)
- 	echo powerpc-harris-powermax
- 	exit 0 ;;
      Night_Hawk:Power_UNIX:*:*)
  	echo powerpc-harris-powerunix
  	exit 0 ;;
--- 415,429 ----
  	  exit (-1);
  	}
  EOF
! 	$CC_FOR_BUILD $dummy.c -o $dummy \
! 	  && ./$dummy `echo "${UNAME_RELEASE}" | sed -n 's/\([0-9]*\).*/\1/p'` \
! 	  && rm -f $dummy.c $dummy && exit 0
! 	rm -f $dummy.c $dummy
  	echo mips-mips-riscos${UNAME_RELEASE}
  	exit 0 ;;
      Motorola:PowerMAX_OS:*:*)
  	echo powerpc-motorola-powermax
  	exit 0 ;;
      Night_Hawk:Power_UNIX:*:*)
  	echo powerpc-harris-powerunix
  	exit 0 ;;
***************
*** 516,522 ****
  			exit(0);
  			}
  EOF
! 		$CC_FOR_BUILD -o $dummy $dummy.c && $dummy && exit 0
  		echo rs6000-ibm-aix3.2.5
  	elif grep bos324 /usr/include/stdio.h >/dev/null 2>&1; then
  		echo rs6000-ibm-aix3.2.4
--- 496,503 ----
  			exit(0);
  			}
  EOF
! 		$CC_FOR_BUILD $dummy.c -o $dummy && ./$dummy && rm -f $dummy.c $dummy && exit 0
! 		rm -f $dummy.c $dummy
  		echo rs6000-ibm-aix3.2.5
  	elif grep bos324 /usr/include/stdio.h >/dev/null 2>&1; then
  		echo rs6000-ibm-aix3.2.4
***************
*** 525,531 ****
  	fi
  	exit 0 ;;
      *:AIX:*:[45])
! 	IBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | sed 1q | awk '{ print $1 }'`
  	if /usr/sbin/lsattr -El ${IBM_CPU_ID} | grep ' POWER' >/dev/null 2>&1; then
  		IBM_ARCH=rs6000
  	else
--- 506,512 ----
  	fi
  	exit 0 ;;
      *:AIX:*:[45])
! 	IBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | head -1 | awk '{ print $1 }'`
  	if /usr/sbin/lsattr -El ${IBM_CPU_ID} | grep ' POWER' >/dev/null 2>&1; then
  		IBM_ARCH=rs6000
  	else
***************
*** 565,572 ****
  	    9000/31? )            HP_ARCH=m68000 ;;
  	    9000/[34]?? )         HP_ARCH=m68k ;;
  	    9000/[678][0-9][0-9])
! 		if [ -x /usr/bin/getconf ]; then
! 		    sc_cpu_version=`/usr/bin/getconf SC_CPU_VERSION 2>/dev/null`
                      sc_kernel_bits=`/usr/bin/getconf SC_KERNEL_BITS 2>/dev/null`
                      case "${sc_cpu_version}" in
                        523) HP_ARCH="hppa1.0" ;; # CPU_PA_RISC1_0
--- 546,555 ----
  	    9000/31? )            HP_ARCH=m68000 ;;
  	    9000/[34]?? )         HP_ARCH=m68k ;;
  	    9000/[678][0-9][0-9])
!               case "${HPUX_REV}" in
!                 11.[0-9][0-9])
!                   if [ -x /usr/bin/getconf ]; then
!                     sc_cpu_version=`/usr/bin/getconf SC_CPU_VERSION 2>/dev/null`
                      sc_kernel_bits=`/usr/bin/getconf SC_KERNEL_BITS 2>/dev/null`
                      case "${sc_cpu_version}" in
                        523) HP_ARCH="hppa1.0" ;; # CPU_PA_RISC1_0
***************
*** 575,587 ****
                          case "${sc_kernel_bits}" in
                            32) HP_ARCH="hppa2.0n" ;;
                            64) HP_ARCH="hppa2.0w" ;;
- 			  '') HP_ARCH="hppa2.0" ;;   # HP-UX 10.20
                          esac ;;
                      esac
! 		fi
! 		if [ "${HP_ARCH}" = "" ]; then
! 		    eval $set_cc_for_build
! 		    sed 's/^              //' << EOF >$dummy.c
  
                #define _HPUX_SOURCE
                #include <stdlib.h>
--- 558,570 ----
                          case "${sc_kernel_bits}" in
                            32) HP_ARCH="hppa2.0n" ;;
                            64) HP_ARCH="hppa2.0w" ;;
                          esac ;;
                      esac
!                   fi ;;
!               esac
!               if [ "${HP_ARCH}" = "" ]; then
! 	      eval $set_cc_for_build
!               sed 's/^              //' << EOF >$dummy.c
  
                #define _HPUX_SOURCE
                #include <stdlib.h>
***************
*** 614,634 ****
                    exit (0);
                }
  EOF
! 		    (CCOPTS= $CC_FOR_BUILD -o $dummy $dummy.c 2>/dev/null) && HP_ARCH=`$dummy`
! 		    test -z "$HP_ARCH" && HP_ARCH=hppa
! 		fi ;;
  	esac
- 	if [ ${HP_ARCH} = "hppa2.0w" ]
- 	then
- 	    # avoid double evaluation of $set_cc_for_build
- 	    test -n "$CC_FOR_BUILD" || eval $set_cc_for_build
- 	    if echo __LP64__ | (CCOPTS= $CC_FOR_BUILD -E -) | grep __LP64__ >/dev/null
- 	    then
- 		HP_ARCH="hppa2.0w"
- 	    else
- 		HP_ARCH="hppa64"
- 	    fi
- 	fi
  	echo ${HP_ARCH}-hp-hpux${HPUX_REV}
  	exit 0 ;;
      ia64:HP-UX:*:*)
--- 597,607 ----
                    exit (0);
                }
  EOF
! 	    (CCOPTS= $CC_FOR_BUILD $dummy.c -o $dummy 2>/dev/null ) && HP_ARCH=`./$dummy`
! 	    if test -z "$HP_ARCH"; then HP_ARCH=hppa; fi
! 	    rm -f $dummy.c $dummy
! 	fi ;;
  	esac
  	echo ${HP_ARCH}-hp-hpux${HPUX_REV}
  	exit 0 ;;
      ia64:HP-UX:*:*)
***************
*** 662,668 ****
  	  exit (0);
  	}
  EOF
! 	$CC_FOR_BUILD -o $dummy $dummy.c && $dummy && exit 0
  	echo unknown-hitachi-hiuxwe2
  	exit 0 ;;
      9000/7??:4.3bsd:*:* | 9000/8?[79]:4.3bsd:*:* )
--- 635,642 ----
  	  exit (0);
  	}
  EOF
! 	$CC_FOR_BUILD $dummy.c -o $dummy && ./$dummy && rm -f $dummy.c $dummy && exit 0
! 	rm -f $dummy.c $dummy
  	echo unknown-hitachi-hiuxwe2
  	exit 0 ;;
      9000/7??:4.3bsd:*:* | 9000/8?[79]:4.3bsd:*:* )
***************
*** 690,695 ****
--- 664,672 ----
      parisc*:Lites*:*:*)
  	echo hppa1.1-hp-lites
  	exit 0 ;;
+     hppa*:OpenBSD:*:*)
+ 	echo hppa-unknown-openbsd
+ 	exit 0 ;;
      C1*:ConvexOS:*:* | convex:ConvexOS:C1*:*)
  	echo c1-convex-bsd
          exit 0 ;;
***************
*** 708,713 ****
--- 685,693 ----
      C4*:ConvexOS:*:* | convex:ConvexOS:C4*:*)
  	echo c4-convex-bsd
          exit 0 ;;
+     CRAY*X-MP:*:*:*)
+ 	echo xmp-cray-unicos
+         exit 0 ;;
      CRAY*Y-MP:*:*:*)
  	echo ymp-cray-unicos${UNAME_RELEASE} | sed -e 's/\.[^.]*$/.X/'
  	exit 0 ;;
***************
*** 720,740 ****
      CRAY*TS:*:*:*)
  	echo t90-cray-unicos${UNAME_RELEASE} | sed -e 's/\.[^.]*$/.X/'
  	exit 0 ;;
      CRAY*T3E:*:*:*)
  	echo alphaev5-cray-unicosmk${UNAME_RELEASE} | sed -e 's/\.[^.]*$/.X/'
  	exit 0 ;;
      CRAY*SV1:*:*:*)
  	echo sv1-cray-unicos${UNAME_RELEASE} | sed -e 's/\.[^.]*$/.X/'
  	exit 0 ;;
!     *:UNICOS/mp:*:*)
! 	echo nv1-cray-unicosmp${UNAME_RELEASE} | sed -e 's/\.[^.]*$/.X/' 
! 	exit 0 ;;
      F30[01]:UNIX_System_V:*:* | F700:UNIX_System_V:*:*)
  	FUJITSU_PROC=`uname -m | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz'`
          FUJITSU_SYS=`uname -p | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz' | sed -e 's/\///'`
          FUJITSU_REL=`echo ${UNAME_RELEASE} | sed -e 's/ /_/'`
          echo "${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}"
          exit 0 ;;
      i*86:BSD/386:*:* | i*86:BSD/OS:*:* | *:Ascend\ Embedded/OS:*:*)
  	echo ${UNAME_MACHINE}-pc-bsdi${UNAME_RELEASE}
  	exit 0 ;;
--- 700,726 ----
      CRAY*TS:*:*:*)
  	echo t90-cray-unicos${UNAME_RELEASE} | sed -e 's/\.[^.]*$/.X/'
  	exit 0 ;;
+     CRAY*T3D:*:*:*)
+ 	echo alpha-cray-unicosmk${UNAME_RELEASE} | sed -e 's/\.[^.]*$/.X/'
+ 	exit 0 ;;
      CRAY*T3E:*:*:*)
  	echo alphaev5-cray-unicosmk${UNAME_RELEASE} | sed -e 's/\.[^.]*$/.X/'
  	exit 0 ;;
      CRAY*SV1:*:*:*)
  	echo sv1-cray-unicos${UNAME_RELEASE} | sed -e 's/\.[^.]*$/.X/'
  	exit 0 ;;
!     CRAY-2:*:*:*)
! 	echo cray2-cray-unicos
!         exit 0 ;;
      F30[01]:UNIX_System_V:*:* | F700:UNIX_System_V:*:*)
  	FUJITSU_PROC=`uname -m | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz'`
          FUJITSU_SYS=`uname -p | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz' | sed -e 's/\///'`
          FUJITSU_REL=`echo ${UNAME_RELEASE} | sed -e 's/ /_/'`
          echo "${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}"
          exit 0 ;;
+     hp300:OpenBSD:*:*)
+ 	echo m68k-unknown-openbsd${UNAME_RELEASE}
+ 	exit 0 ;;
      i*86:BSD/386:*:* | i*86:BSD/OS:*:* | *:Ascend\ Embedded/OS:*:*)
  	echo ${UNAME_MACHINE}-pc-bsdi${UNAME_RELEASE}
  	exit 0 ;;
***************
*** 745,762 ****
  	echo ${UNAME_MACHINE}-unknown-bsdi${UNAME_RELEASE}
  	exit 0 ;;
      *:FreeBSD:*:*)
! 	# Determine whether the default compiler uses glibc.
! 	eval $set_cc_for_build
! 	sed 's/^	//' << EOF >$dummy.c
! 	#include <features.h>
! 	#if __GLIBC__ >= 2
! 	LIBC=gnu
! 	#else
! 	LIBC=
! 	#endif
! EOF
! 	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^LIBC=`
! 	echo ${UNAME_MACHINE}-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`${LIBC:+-$LIBC}
  	exit 0 ;;
      i*:CYGWIN*:*)
  	echo ${UNAME_MACHINE}-pc-cygwin
--- 731,740 ----
  	echo ${UNAME_MACHINE}-unknown-bsdi${UNAME_RELEASE}
  	exit 0 ;;
      *:FreeBSD:*:*)
! 	echo ${UNAME_MACHINE}-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`
! 	exit 0 ;;
!     *:OpenBSD:*:*)
! 	echo ${UNAME_MACHINE}-unknown-openbsd`echo ${UNAME_RELEASE}|sed -e 's/[-_].*/\./'`
  	exit 0 ;;
      i*:CYGWIN*:*)
  	echo ${UNAME_MACHINE}-pc-cygwin
***************
*** 767,783 ****
      i*:PW*:*)
  	echo ${UNAME_MACHINE}-pc-pw32
  	exit 0 ;;
-     x86:Interix*:3*)
- 	echo i586-pc-interix3
- 	exit 0 ;;
-     [345]86:Windows_95:* | [345]86:Windows_98:* | [345]86:Windows_NT:*)
- 	echo i${UNAME_MACHINE}-pc-mks
- 	exit 0 ;;
      i*:Windows_NT*:* | Pentium*:Windows_NT*:*)
  	# How do we know it's Interix rather than the generic POSIX subsystem?
  	# It also conflicts with pre-2.0 versions of AT&T UWIN. Should we
  	# UNAME_MACHINE based on the output of uname instead of i386?
! 	echo i586-pc-interix
  	exit 0 ;;
      i*:UWIN*:*)
  	echo ${UNAME_MACHINE}-pc-uwin
--- 745,755 ----
      i*:PW*:*)
  	echo ${UNAME_MACHINE}-pc-pw32
  	exit 0 ;;
      i*:Windows_NT*:* | Pentium*:Windows_NT*:*)
  	# How do we know it's Interix rather than the generic POSIX subsystem?
  	# It also conflicts with pre-2.0 versions of AT&T UWIN. Should we
  	# UNAME_MACHINE based on the output of uname instead of i386?
! 	echo i386-pc-interix
  	exit 0 ;;
      i*:UWIN*:*)
  	echo ${UNAME_MACHINE}-pc-uwin
***************
*** 798,845 ****
  	echo ${UNAME_MACHINE}-unknown-linux-gnu
  	exit 0 ;;
      ia64:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux-gnu
  	exit 0 ;;
      m68*:Linux:*:*)
  	echo ${UNAME_MACHINE}-unknown-linux-gnu
  	exit 0 ;;
      mips:Linux:*:*)
! 	eval $set_cc_for_build
! 	sed 's/^	//' << EOF >$dummy.c
! 	#undef CPU
! 	#undef mips
! 	#undef mipsel
! 	#if defined(__MIPSEL__) || defined(__MIPSEL) || defined(_MIPSEL) || defined(MIPSEL)
! 	CPU=mipsel
! 	#else
! 	#if defined(__MIPSEB__) || defined(__MIPSEB) || defined(_MIPSEB) || defined(MIPSEB)
! 	CPU=mips
! 	#else
! 	CPU=
! 	#endif
! 	#endif
! EOF
! 	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^CPU=`
! 	test x"${CPU}" != x && echo "${CPU}-unknown-linux-gnu" && exit 0
! 	;;
!     mips64:Linux:*:*)
! 	eval $set_cc_for_build
! 	sed 's/^	//' << EOF >$dummy.c
! 	#undef CPU
! 	#undef mips64
! 	#undef mips64el
! 	#if defined(__MIPSEL__) || defined(__MIPSEL) || defined(_MIPSEL) || defined(MIPSEL)
! 	CPU=mips64el
! 	#else
! 	#if defined(__MIPSEB__) || defined(__MIPSEB) || defined(_MIPSEB) || defined(MIPSEB)
! 	CPU=mips64
! 	#else
! 	CPU=
! 	#endif
! 	#endif
! EOF
! 	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^CPU=`
! 	test x"${CPU}" != x && echo "${CPU}-unknown-linux-gnu" && exit 0
  	;;
      ppc:Linux:*:*)
  	echo powerpc-unknown-linux-gnu
--- 770,785 ----
  	echo ${UNAME_MACHINE}-unknown-linux-gnu
  	exit 0 ;;
      ia64:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux
  	exit 0 ;;
      m68*:Linux:*:*)
  	echo ${UNAME_MACHINE}-unknown-linux-gnu
  	exit 0 ;;
      mips:Linux:*:*)
! 	case `sed -n '/^byte/s/^.*: \(.*\) endian/\1/p' < /proc/cpuinfo` in
! 	  big)    echo mips-unknown-linux-gnu && exit 0 ;;
! 	  little) echo mipsel-unknown-linux-gnu && exit 0 ;;
! 	esac
  	;;
      ppc:Linux:*:*)
  	echo powerpc-unknown-linux-gnu
***************
*** 888,895 ****
  	# The BFD linker knows what the default object file format is, so
  	# first see if it will tell us. cd to the root directory to prevent
  	# problems with other programs or directories called `ld' in the path.
! 	# Set LC_ALL=C to ensure ld outputs messages in English.
! 	ld_supported_targets=`cd /; LC_ALL=C ld --help 2>&1 \
  			 | sed -ne '/supported targets:/!d
  				    s/[ 	][ 	]*/ /g
  				    s/.*supported targets: *//
--- 828,834 ----
  	# The BFD linker knows what the default object file format is, so
  	# first see if it will tell us. cd to the root directory to prevent
  	# problems with other programs or directories called `ld' in the path.
! 	ld_supported_targets=`cd /; ld --help 2>&1 \
  			 | sed -ne '/supported targets:/!d
  				    s/[ 	][ 	]*/ /g
  				    s/.*supported targets: *//
***************
*** 901,907 ****
  		;;
  	  a.out-i386-linux)
  		echo "${UNAME_MACHINE}-pc-linux-gnuaout"
! 		exit 0 ;;
  	  coff-i386)
  		echo "${UNAME_MACHINE}-pc-linux-gnucoff"
  		exit 0 ;;
--- 840,846 ----
  		;;
  	  a.out-i386-linux)
  		echo "${UNAME_MACHINE}-pc-linux-gnuaout"
! 		exit 0 ;;		
  	  coff-i386)
  		echo "${UNAME_MACHINE}-pc-linux-gnucoff"
  		exit 0 ;;
***************
*** 913,940 ****
  	esac
  	# Determine whether the default compiler is a.out or elf
  	eval $set_cc_for_build
! 	sed 's/^	//' << EOF >$dummy.c
! 	#include <features.h>
! 	#ifdef __ELF__
! 	# ifdef __GLIBC__
! 	#  if __GLIBC__ >= 2
! 	LIBC=gnu
! 	#  else
! 	LIBC=gnulibc1
! 	#  endif
! 	# else
! 	LIBC=gnulibc1
! 	# endif
! 	#else
! 	#ifdef __INTEL_COMPILER
! 	LIBC=gnu
! 	#else
! 	LIBC=gnuaout
! 	#endif
! 	#endif
  EOF
! 	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^LIBC=`
! 	test x"${LIBC}" != x && echo "${UNAME_MACHINE}-pc-linux-${LIBC}" && exit 0
  	test x"${TENTATIVE}" != x && echo "${TENTATIVE}" && exit 0
  	;;
      i*86:DYNIX/ptx:4*:*)
--- 852,883 ----
  	esac
  	# Determine whether the default compiler is a.out or elf
  	eval $set_cc_for_build
! 	cat >$dummy.c <<EOF
! #include <features.h>
! #ifdef __cplusplus
! #include <stdio.h>  /* for printf() prototype */
! 	int main (int argc, char *argv[]) {
! #else
! 	int main (argc, argv) int argc; char *argv[]; {
! #endif
! #ifdef __ELF__
! # ifdef __GLIBC__
! #  if __GLIBC__ >= 2
!     printf ("%s-pc-linux-gnu\n", argv[1]);
! #  else
!     printf ("%s-pc-linux-gnulibc1\n", argv[1]);
! #  endif
! # else
!    printf ("%s-pc-linux-gnulibc1\n", argv[1]);
! # endif
! #else
!   printf ("%s-pc-linux-gnuaout\n", argv[1]);
! #endif
!   return 0;
! }
  EOF
! 	$CC_FOR_BUILD $dummy.c -o $dummy 2>/dev/null && ./$dummy "${UNAME_MACHINE}" && rm -f $dummy.c $dummy && exit 0
! 	rm -f $dummy.c $dummy
  	test x"${TENTATIVE}" != x && echo "${TENTATIVE}" && exit 0
  	;;
      i*86:DYNIX/ptx:4*:*)
***************
*** 951,973 ****
          # Use sysv4.2uw... so that sysv4* matches it.
  	echo ${UNAME_MACHINE}-pc-sysv4.2uw${UNAME_VERSION}
  	exit 0 ;;
-     i*86:OS/2:*:*)
- 	# If we were able to find `uname', then EMX Unix compatibility
- 	# is probably installed.
- 	echo ${UNAME_MACHINE}-pc-os2-emx
- 	exit 0 ;;
-     i*86:XTS-300:*:STOP)
- 	echo ${UNAME_MACHINE}-unknown-stop
- 	exit 0 ;;
-     i*86:atheos:*:*)
- 	echo ${UNAME_MACHINE}-unknown-atheos
- 	exit 0 ;;
-     i*86:LynxOS:2.*:* | i*86:LynxOS:3.[01]*:* | i*86:LynxOS:4.0*:*)
- 	echo i386-unknown-lynxos${UNAME_RELEASE}
- 	exit 0 ;;
-     i*86:*DOS:*:*)
- 	echo ${UNAME_MACHINE}-pc-msdosdjgpp
- 	exit 0 ;;
      i*86:*:4.*:* | i*86:SYSTEM_V:4.*:*)
  	UNAME_REL=`echo ${UNAME_RELEASE} | sed 's/\/MP$//'`
  	if grep Novell /usr/include/link.h >/dev/null 2>/dev/null; then
--- 894,899 ----
***************
*** 989,1007 ****
  		UNAME_REL=`sed -n 's/.*Version //p' </usr/options/cb.name`
  		echo ${UNAME_MACHINE}-pc-isc$UNAME_REL
  	elif /bin/uname -X 2>/dev/null >/dev/null ; then
! 		UNAME_REL=`(/bin/uname -X|grep Release|sed -e 's/.*= //')`
! 		(/bin/uname -X|grep i80486 >/dev/null) && UNAME_MACHINE=i486
! 		(/bin/uname -X|grep '^Machine.*Pentium' >/dev/null) \
  			&& UNAME_MACHINE=i586
! 		(/bin/uname -X|grep '^Machine.*Pent *II' >/dev/null) \
  			&& UNAME_MACHINE=i686
! 		(/bin/uname -X|grep '^Machine.*Pentium Pro' >/dev/null) \
  			&& UNAME_MACHINE=i686
  		echo ${UNAME_MACHINE}-pc-sco$UNAME_REL
  	else
  		echo ${UNAME_MACHINE}-pc-sysv32
  	fi
  	exit 0 ;;
      pc:*:*:*)
  	# Left here for compatibility:
          # uname -m prints for DJGPP always 'pc', but it prints nothing about
--- 915,936 ----
  		UNAME_REL=`sed -n 's/.*Version //p' </usr/options/cb.name`
  		echo ${UNAME_MACHINE}-pc-isc$UNAME_REL
  	elif /bin/uname -X 2>/dev/null >/dev/null ; then
! 		UNAME_REL=`(/bin/uname -X|egrep Release|sed -e 's/.*= //')`
! 		(/bin/uname -X|egrep i80486 >/dev/null) && UNAME_MACHINE=i486
! 		(/bin/uname -X|egrep '^Machine.*Pentium' >/dev/null) \
  			&& UNAME_MACHINE=i586
! 		(/bin/uname -X|egrep '^Machine.*Pent ?II' >/dev/null) \
  			&& UNAME_MACHINE=i686
! 		(/bin/uname -X|egrep '^Machine.*Pentium Pro' >/dev/null) \
  			&& UNAME_MACHINE=i686
  		echo ${UNAME_MACHINE}-pc-sco$UNAME_REL
  	else
  		echo ${UNAME_MACHINE}-pc-sysv32
  	fi
  	exit 0 ;;
+     i*86:*DOS:*:*)
+ 	echo ${UNAME_MACHINE}-pc-msdosdjgpp
+ 	exit 0 ;;
      pc:*:*:*)
  	# Left here for compatibility:
          # uname -m prints for DJGPP always 'pc', but it prints nothing about
***************
*** 1025,1039 ****
  	# "miniframe"
  	echo m68010-convergent-sysv
  	exit 0 ;;
-     mc68k:UNIX:SYSTEM5:3.51m)
- 	echo m68k-convergent-sysv
- 	exit 0 ;;
-     M680?0:D-NIX:5.3:*)
- 	echo m68k-diab-dnix
- 	exit 0 ;;
      M68*:*:R3V[567]*:*)
  	test -r /sysV68 && echo 'm68k-motorola-sysv' && exit 0 ;;
!     3[34]??:*:4.0:3.0 | 3[34]??A:*:4.0:3.0 | 3[34]??,*:*:4.0:3.0 | 3[34]??/*:*:4.0:3.0 | 4400:*:4.0:3.0 | 4850:*:4.0:3.0 | SKA40:*:4.0:3.0 | SDS2:*:4.0:3.0)
  	OS_REL=''
  	test -r /etc/.relid \
  	&& OS_REL=.`sed -n 's/[^ ]* [^ ]* \([0-9][0-9]\).*/\1/p' < /etc/.relid`
--- 954,962 ----
  	# "miniframe"
  	echo m68010-convergent-sysv
  	exit 0 ;;
      M68*:*:R3V[567]*:*)
  	test -r /sysV68 && echo 'm68k-motorola-sysv' && exit 0 ;;
!     3[34]??:*:4.0:3.0 | 3[34]??A:*:4.0:3.0 | 3[34]??,*:*:4.0:3.0 | 4850:*:4.0:3.0)
  	OS_REL=''
  	test -r /etc/.relid \
  	&& OS_REL=.`sed -n 's/[^ ]* [^ ]* \([0-9][0-9]\).*/\1/p' < /etc/.relid`
***************
*** 1050,1055 ****
--- 973,981 ----
      mc68030:UNIX_System_V:4.*:*)
  	echo m68k-atari-sysv4
  	exit 0 ;;
+     i*86:LynxOS:2.*:* | i*86:LynxOS:3.[01]*:* | i*86:LynxOS:4.0*:*)
+ 	echo i386-unknown-lynxos${UNAME_RELEASE}
+ 	exit 0 ;;
      TSUNAMI:LynxOS:2.*:*)
  	echo sparc-unknown-lynxos${UNAME_RELEASE}
  	exit 0 ;;
***************
*** 1121,1129 ****
      SX-5:SUPER-UX:*:*)
  	echo sx5-nec-superux${UNAME_RELEASE}
  	exit 0 ;;
-     SX-6:SUPER-UX:*:*)
- 	echo sx6-nec-superux${UNAME_RELEASE}
- 	exit 0 ;;
      Power*:Rhapsody:*:*)
  	echo powerpc-apple-rhapsody${UNAME_RELEASE}
  	exit 0 ;;
--- 1047,1052 ----
***************
*** 1131,1154 ****
  	echo ${UNAME_MACHINE}-apple-rhapsody${UNAME_RELEASE}
  	exit 0 ;;
      *:Darwin:*:*)
! 	case `uname -p` in
! 	    *86) UNAME_PROCESSOR=i686 ;;
! 	    powerpc) UNAME_PROCESSOR=powerpc ;;
! 	esac
! 	echo ${UNAME_PROCESSOR}-apple-darwin${UNAME_RELEASE}
  	exit 0 ;;
      *:procnto*:*:* | *:QNX:[0123456789]*:*)
! 	UNAME_PROCESSOR=`uname -p`
! 	if test "$UNAME_PROCESSOR" = "x86"; then
! 		UNAME_PROCESSOR=i386
  		UNAME_MACHINE=pc
  	fi
! 	echo ${UNAME_PROCESSOR}-${UNAME_MACHINE}-nto-qnx${UNAME_RELEASE}
  	exit 0 ;;
      *:QNX:*:4*)
  	echo i386-pc-qnx
  	exit 0 ;;
!     NSR-[DGKLNPTVW]:NONSTOP_KERNEL:*:*)
  	echo nsr-tandem-nsk${UNAME_RELEASE}
  	exit 0 ;;
      *:NonStop-UX:*:*)
--- 1054,1071 ----
  	echo ${UNAME_MACHINE}-apple-rhapsody${UNAME_RELEASE}
  	exit 0 ;;
      *:Darwin:*:*)
! 	echo `uname -p`-apple-darwin${UNAME_RELEASE}
  	exit 0 ;;
      *:procnto*:*:* | *:QNX:[0123456789]*:*)
! 	if test "${UNAME_MACHINE}" = "x86pc"; then
  		UNAME_MACHINE=pc
  	fi
! 	echo `uname -p`-${UNAME_MACHINE}-nto-qnx
  	exit 0 ;;
      *:QNX:*:4*)
  	echo i386-pc-qnx
  	exit 0 ;;
!     NSR-[KW]:NONSTOP_KERNEL:*:*)
  	echo nsr-tandem-nsk${UNAME_RELEASE}
  	exit 0 ;;
      *:NonStop-UX:*:*)
***************
*** 1171,1176 ****
--- 1088,1098 ----
  	fi
  	echo ${UNAME_MACHINE}-unknown-plan9
  	exit 0 ;;
+     i*86:OS/2:*:*)
+ 	# If we were able to find `uname', then EMX Unix compatibility
+ 	# is probably installed.
+ 	echo ${UNAME_MACHINE}-pc-os2-emx
+ 	exit 0 ;;
      *:TOPS-10:*:*)
  	echo pdp10-unknown-tops10
  	exit 0 ;;
***************
*** 1189,1194 ****
--- 1111,1122 ----
      *:ITS:*:*)
  	echo pdp10-unknown-its
  	exit 0 ;;
+     i*86:XTS-300:*:STOP)
+ 	echo ${UNAME_MACHINE}-unknown-stop
+ 	exit 0 ;;
+     i*86:atheos:*:*)
+ 	echo ${UNAME_MACHINE}-unknown-atheos
+ 	exit 0 ;;
  esac
  
  #echo '(No uname command or uname output not recognized.)' 1>&2
***************
*** 1309,1315 ****
  }
  EOF
  
! $CC_FOR_BUILD -o $dummy $dummy.c 2>/dev/null && $dummy && exit 0
  
  # Apollos put the system type in the environment.
  
--- 1237,1244 ----
  }
  EOF
  
! $CC_FOR_BUILD $dummy.c -o $dummy 2>/dev/null && ./$dummy && rm -f $dummy.c $dummy && exit 0
! rm -f $dummy.c $dummy
  
  # Apollos put the system type in the environment.
  
diff -crN ./xcursor/config.sub /users6/vanderms/sb/gnome_21264bis/src/./xcursor/config.sub
*** ./xcursor/config.sub	Wed May 21 19:18:12 2003
--- /users6/vanderms/sb/gnome_21264bis/src/./xcursor/config.sub	Tue Jan 17 10:48:24 2006
***************
*** 1,9 ****
  #! /bin/sh
  # Configuration validation subroutine script.
! #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
! #   2000, 2001, 2002, 2003 Free Software Foundation, Inc.
  
! timestamp='2003-02-22'
  
  # This file is (in principle) common to ALL GNU software.
  # The presence of a machine in this file suggests that SOME GNU software
--- 1,9 ----
  #! /bin/sh
  # Configuration validation subroutine script.
! #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001
! #   Free Software Foundation, Inc.
  
! timestamp='2001-09-07'
  
  # This file is (in principle) common to ALL GNU software.
  # The presence of a machine in this file suggests that SOME GNU software
***************
*** 29,36 ****
  # configuration script generated by Autoconf, you may include it under
  # the same distribution terms that you use for the rest of that program.
  
! # Please send patches to <config-patches@gnu.org>.  Submit a context
! # diff and a properly formatted ChangeLog entry.
  #
  # Configuration subroutine to validate and canonicalize a configuration type.
  # Supply the specified configuration type as an argument.
--- 29,35 ----
  # configuration script generated by Autoconf, you may include it under
  # the same distribution terms that you use for the rest of that program.
  
! # Please send patches to <config-patches@gnu.org>.
  #
  # Configuration subroutine to validate and canonicalize a configuration type.
  # Supply the specified configuration type as an argument.
***************
*** 118,124 ****
  # Here we must recognize all the valid KERNEL-OS combinations.
  maybe_os=`echo $1 | sed 's/^\(.*\)-\([^-]*-[^-]*\)$/\2/'`
  case $maybe_os in
!   nto-qnx* | linux-gnu* | freebsd*-gnu* | netbsd*-gnu* | storm-chaos* | os2-emx* | rtmk-nova*)
      os=-$maybe_os
      basic_machine=`echo $1 | sed 's/^\(.*\)-\([^-]*-[^-]*\)$/\1/'`
      ;;
--- 117,123 ----
  # Here we must recognize all the valid KERNEL-OS combinations.
  maybe_os=`echo $1 | sed 's/^\(.*\)-\([^-]*-[^-]*\)$/\2/'`
  case $maybe_os in
!   nto-qnx* | linux-gnu* | storm-chaos* | os2-emx* | windows32-*)
      os=-$maybe_os
      basic_machine=`echo $1 | sed 's/^\(.*\)-\([^-]*-[^-]*\)$/\1/'`
      ;;
***************
*** 227,270 ****
  	1750a | 580 \
  	| a29k \
  	| alpha | alphaev[4-8] | alphaev56 | alphaev6[78] | alphapca5[67] \
- 	| alpha64 | alpha64ev[4-8] | alpha64ev56 | alpha64ev6[78] | alpha64pca5[67] \
  	| arc | arm | arm[bl]e | arme[lb] | armv[2345] | armv[345][lb] | avr \
! 	| clipper \
! 	| d10v | d30v | dlx | dsp16xx \
! 	| fr30 | frv \
  	| h8300 | h8500 | hppa | hppa1.[01] | hppa2.0 | hppa2.0[nw] | hppa64 \
  	| i370 | i860 | i960 | ia64 \
- 	| ip2k \
  	| m32r | m68000 | m68k | m88k | mcore \
! 	| mips | mipsbe | mipseb | mipsel | mipsle \
! 	| mips16 \
! 	| mips64 | mips64el \
! 	| mips64vr | mips64vrel \
! 	| mips64orion | mips64orionel \
! 	| mips64vr4100 | mips64vr4100el \
! 	| mips64vr4300 | mips64vr4300el \
! 	| mips64vr5000 | mips64vr5000el \
! 	| mipsisa32 | mipsisa32el \
! 	| mipsisa32r2 | mipsisa32r2el \
! 	| mipsisa64 | mipsisa64el \
! 	| mipsisa64sb1 | mipsisa64sb1el \
! 	| mipsisa64sr71k | mipsisa64sr71kel \
! 	| mipstx39 | mipstx39el \
  	| mn10200 | mn10300 \
- 	| msp430 \
  	| ns16k | ns32k \
! 	| openrisc | or32 \
  	| pdp10 | pdp11 | pj | pjl \
  	| powerpc | powerpc64 | powerpc64le | powerpcle | ppcbe \
  	| pyramid \
! 	| sh | sh[1234] | sh[23]e | sh[34]eb | shbe | shle | sh[1234]le | sh3ele \
! 	| sh64 | sh64le \
! 	| sparc | sparc64 | sparc86x | sparclet | sparclite | sparcv9 | sparcv9b \
! 	| strongarm \
  	| tahoe | thumb | tic80 | tron \
! 	| v850 | v850e \
  	| we32k \
! 	| x86 | xscale | xstormy16 | xtensa \
  	| z8k)
  		basic_machine=$basic_machine-unknown
  		;;
--- 226,257 ----
  	1750a | 580 \
  	| a29k \
  	| alpha | alphaev[4-8] | alphaev56 | alphaev6[78] | alphapca5[67] \
  	| arc | arm | arm[bl]e | arme[lb] | armv[2345] | armv[345][lb] | avr \
! 	| c4x | clipper \
! 	| d10v | d30v | dsp16xx \
! 	| fr30 \
  	| h8300 | h8500 | hppa | hppa1.[01] | hppa2.0 | hppa2.0[nw] | hppa64 \
  	| i370 | i860 | i960 | ia64 \
  	| m32r | m68000 | m68k | m88k | mcore \
! 	| mips16 | mips64 | mips64el | mips64orion | mips64orionel \
! 	| mips64vr4100 | mips64vr4100el | mips64vr4300 \
! 	| mips64vr4300el | mips64vr5000 | mips64vr5000el \
! 	| mipsbe | mipseb | mipsel | mipsle | mipstx39 | mipstx39el \
! 	| mipsisa32 \
  	| mn10200 | mn10300 \
  	| ns16k | ns32k \
! 	| openrisc \
  	| pdp10 | pdp11 | pj | pjl \
  	| powerpc | powerpc64 | powerpc64le | powerpcle | ppcbe \
  	| pyramid \
! 	| s390 | s390x \
! 	| sh | sh[34] | sh[34]eb | shbe | shle \
! 	| sparc | sparc64 | sparclet | sparclite | sparcv9 | sparcv9b \
! 	| stormy16 | strongarm \
  	| tahoe | thumb | tic80 | tron \
! 	| v850 \
  	| we32k \
! 	| x86 | xscale \
  	| z8k)
  		basic_machine=$basic_machine-unknown
  		;;
***************
*** 291,345 ****
  	580-* \
  	| a29k-* \
  	| alpha-* | alphaev[4-8]-* | alphaev56-* | alphaev6[78]-* \
! 	| alpha64-* | alpha64ev[4-8]-* | alpha64ev56-* | alpha64ev6[78]-* \
! 	| alphapca5[67]-* | alpha64pca5[67]-* | arc-* \
! 	| arm-*  | armbe-* | armle-* | armeb-* | armv*-* \
! 	| avr-* \
  	| bs2000-* \
! 	| c[123]* | c30-* | [cjt]90-* | c4x-* | c54x-* | c55x-* | c6x-* \
! 	| clipper-* | cydra-* \
! 	| d10v-* | d30v-* | dlx-* \
  	| elxsi-* \
! 	| f30[01]-* | f700-* | fr30-* | frv-* | fx80-* \
  	| h8300-* | h8500-* \
  	| hppa-* | hppa1.[01]-* | hppa2.0-* | hppa2.0[nw]-* | hppa64-* \
  	| i*86-* | i860-* | i960-* | ia64-* \
- 	| ip2k-* \
  	| m32r-* \
! 	| m68000-* | m680[012346]0-* | m68360-* | m683?2-* | m68k-* \
  	| m88110-* | m88k-* | mcore-* \
! 	| mips-* | mipsbe-* | mipseb-* | mipsel-* | mipsle-* \
! 	| mips16-* \
! 	| mips64-* | mips64el-* \
! 	| mips64vr-* | mips64vrel-* \
! 	| mips64orion-* | mips64orionel-* \
! 	| mips64vr4100-* | mips64vr4100el-* \
! 	| mips64vr4300-* | mips64vr4300el-* \
! 	| mips64vr5000-* | mips64vr5000el-* \
! 	| mipsisa32-* | mipsisa32el-* \
! 	| mipsisa32r2-* | mipsisa32r2el-* \
! 	| mipsisa64-* | mipsisa64el-* \
! 	| mipsisa64sb1-* | mipsisa64sb1el-* \
! 	| mipsisa64sr71k-* | mipsisa64sr71kel-* \
! 	| mipstx39-* | mipstx39el-* \
! 	| msp430-* \
! 	| none-* | np1-* | nv1-* | ns16k-* | ns32k-* \
  	| orion-* \
  	| pdp10-* | pdp11-* | pj-* | pjl-* | pn-* | power-* \
  	| powerpc-* | powerpc64-* | powerpc64le-* | powerpcle-* | ppcbe-* \
  	| pyramid-* \
  	| romp-* | rs6000-* \
! 	| sh-* | sh[1234]-* | sh[23]e-* | sh[34]eb-* | shbe-* \
! 	| shle-* | sh[1234]le-* | sh3ele-* | sh64-* | sh64le-* \
! 	| sparc-* | sparc64-* | sparc86x-* | sparclet-* | sparclite-* \
! 	| sparcv9-* | sparcv9b-* | strongarm-* | sv1-* | sx?-* \
! 	| tahoe-* | thumb-* \
! 	| tic30-* | tic4x-* | tic54x-* | tic55x-* | tic6x-* | tic80-* \
! 	| tron-* \
! 	| v850-* | v850e-* | vax-* \
  	| we32k-* \
! 	| x86-* | x86_64-* | xps100-* | xscale-* | xstormy16-* \
! 	| xtensa-* \
  	| ymp-* \
  	| z8k-*)
  		;;
--- 278,315 ----
  	580-* \
  	| a29k-* \
  	| alpha-* | alphaev[4-8]-* | alphaev56-* | alphaev6[78]-* \
! 	| alphapca5[67]-* | arc-* \
! 	| arm-*  | armbe-* | armle-* | armv*-* \
  	| bs2000-* \
! 	| c[123]* | c30-* | [cjt]90-* | c54x-* \
! 	| clipper-* | cray2-* | cydra-* \
! 	| d10v-* | d30v-* \
  	| elxsi-* \
! 	| f30[01]-* | f700-* | fr30-* | fx80-* \
  	| h8300-* | h8500-* \
  	| hppa-* | hppa1.[01]-* | hppa2.0-* | hppa2.0[nw]-* | hppa64-* \
  	| i*86-* | i860-* | i960-* | ia64-* \
  	| m32r-* \
! 	| m68000-* | m680[01234]0-* | m68360-* | m683?2-* | m68k-* \
  	| m88110-* | m88k-* | mcore-* \
! 	| mips-* | mips16-* | mips64-* | mips64el-* | mips64orion-* \
! 	| mips64orionel-* | mips64vr4100-* | mips64vr4100el-* \
! 	| mips64vr4300-* | mips64vr4300el-* | mipsbe-* | mipseb-* \
! 	| mipsle-* | mipsel-* | mipstx39-* | mipstx39el-* \
! 	| none-* | np1-* | ns16k-* | ns32k-* \
  	| orion-* \
  	| pdp10-* | pdp11-* | pj-* | pjl-* | pn-* | power-* \
  	| powerpc-* | powerpc64-* | powerpc64le-* | powerpcle-* | ppcbe-* \
  	| pyramid-* \
  	| romp-* | rs6000-* \
! 	| s390-* | s390x-* \
! 	| sh-* | sh[34]-* | sh[34]eb-* | shbe-* | shle-* \
! 	| sparc-* | sparc64-* | sparc86x-* | sparclite-* \
! 	| sparcv9-* | sparcv9b-* | stormy16-* | strongarm-* | sv1-* \
! 	| t3e-* | tahoe-* | thumb-* | tic30-* | tic54x-* | tic80-* | tron-* \
! 	| v850-* | vax-* \
  	| we32k-* \
! 	| x86-* | x86_64-* | xmp-* | xps100-* | xscale-* \
  	| ymp-* \
  	| z8k-*)
  		;;
***************
*** 404,413 ****
  		basic_machine=ns32k-sequent
  		os=-dynix
  		;;
- 	c90)
- 		basic_machine=c90-cray
- 		os=-unicos
- 		;;
  	convex-c1)
  		basic_machine=c1-convex
  		os=-bsd
--- 374,379 ----
***************
*** 428,435 ****
  		basic_machine=c38-convex
  		os=-bsd
  		;;
! 	cray | j90)
! 		basic_machine=j90-cray
  		os=-unicos
  		;;
  	crds | unos)
--- 394,409 ----
  		basic_machine=c38-convex
  		os=-bsd
  		;;
! 	cray | ymp)
! 		basic_machine=ymp-cray
! 		os=-unicos
! 		;;
! 	cray2)
! 		basic_machine=cray2-cray
! 		os=-unicos
! 		;;
! 	[cjt]90)
! 		basic_machine=${basic_machine}-cray
  		os=-unicos
  		;;
  	crds | unos)
***************
*** 444,457 ****
  	decstation | decstation-3100 | pmax | pmax-* | pmin | dec3100 | decstatn)
  		basic_machine=mips-dec
  		;;
- 	decsystem10* | dec10*)
- 		basic_machine=pdp10-dec
- 		os=-tops10
- 		;;
- 	decsystem20* | dec20*)
- 		basic_machine=pdp10-dec
- 		os=-tops20
- 		;;
  	delta | 3300 | motorola-3300 | motorola-delta \
  	      | 3300-motorola | delta-motorola)
  		basic_machine=m68k-motorola
--- 418,423 ----
***************
*** 632,637 ****
--- 598,611 ----
  		basic_machine=m68k-atari
  		os=-mint
  		;;
+ 	mipsel*-linux*)
+ 		basic_machine=mipsel-unknown
+ 		os=-linux-gnu
+ 		;;
+ 	mips*-linux*)
+ 		basic_machine=mips-unknown
+ 		os=-linux-gnu
+ 		;;
  	mips3*-*)
  		basic_machine=`echo $basic_machine | sed -e 's/mips3/mips64/'`
  		;;
***************
*** 646,655 ****
  		basic_machine=m68k-rom68k
  		os=-coff
  		;;
- 	morphos)
- 		basic_machine=powerpc-unknown
- 		os=-morphos
- 		;;
  	msdos)
  		basic_machine=i386-pc
  		os=-msdos
--- 620,625 ----
***************
*** 722,731 ****
  	np1)
  		basic_machine=np1-gould
  		;;
- 	nv1)
- 		basic_machine=nv1-cray
- 		os=-unicosmp
- 		;;
  	nsr-tandem)
  		basic_machine=nsr-tandem
  		;;
--- 692,697 ----
***************
*** 733,742 ****
  		basic_machine=hppa1.1-oki
  		os=-proelf
  		;;
- 	or32 | or32-*)
- 		basic_machine=or32-unknown
- 		os=-coff
- 		;;
  	OSE68000 | ose68000)
  		basic_machine=m68000-ericsson
  		os=-ose
--- 699,704 ----
***************
*** 759,777 ****
  	pbb)
  		basic_machine=m68k-tti
  		;;
! 	pc532 | pc532-*)
  		basic_machine=ns32k-pc532
  		;;
! 	pentium | p5 | k5 | k6 | nexgen | viac3)
  		basic_machine=i586-pc
  		;;
! 	pentiumpro | p6 | 6x86 | athlon | athlon_*)
  		basic_machine=i686-pc
  		;;
  	pentiumii | pentium2)
  		basic_machine=i686-pc
  		;;
! 	pentium-* | p5-* | k5-* | k6-* | nexgen-* | viac3-*)
  		basic_machine=i586-`echo $basic_machine | sed 's/^[^-]*-//'`
  		;;
  	pentiumpro-* | p6-* | 6x86-* | athlon-*)
--- 721,739 ----
  	pbb)
  		basic_machine=m68k-tti
  		;;
!         pc532 | pc532-*)
  		basic_machine=ns32k-pc532
  		;;
! 	pentium | p5 | k5 | k6 | nexgen)
  		basic_machine=i586-pc
  		;;
! 	pentiumpro | p6 | 6x86 | athlon)
  		basic_machine=i686-pc
  		;;
  	pentiumii | pentium2)
  		basic_machine=i686-pc
  		;;
! 	pentium-* | p5-* | k5-* | k6-* | nexgen-*)
  		basic_machine=i586-`echo $basic_machine | sed 's/^[^-]*-//'`
  		;;
  	pentiumpro-* | p6-* | 6x86-* | athlon-*)
***************
*** 786,807 ****
  	power)	basic_machine=power-ibm
  		;;
  	ppc)	basic_machine=powerpc-unknown
! 		;;
  	ppc-*)	basic_machine=powerpc-`echo $basic_machine | sed 's/^[^-]*-//'`
  		;;
  	ppcle | powerpclittle | ppc-le | powerpc-little)
  		basic_machine=powerpcle-unknown
! 		;;
  	ppcle-* | powerpclittle-*)
  		basic_machine=powerpcle-`echo $basic_machine | sed 's/^[^-]*-//'`
  		;;
  	ppc64)	basic_machine=powerpc64-unknown
! 		;;
  	ppc64-*) basic_machine=powerpc64-`echo $basic_machine | sed 's/^[^-]*-//'`
  		;;
  	ppc64le | powerpc64little | ppc64-le | powerpc64-little)
  		basic_machine=powerpc64le-unknown
! 		;;
  	ppc64le-* | powerpc64little-*)
  		basic_machine=powerpc64le-`echo $basic_machine | sed 's/^[^-]*-//'`
  		;;
--- 748,769 ----
  	power)	basic_machine=power-ibm
  		;;
  	ppc)	basic_machine=powerpc-unknown
! 	        ;;
  	ppc-*)	basic_machine=powerpc-`echo $basic_machine | sed 's/^[^-]*-//'`
  		;;
  	ppcle | powerpclittle | ppc-le | powerpc-little)
  		basic_machine=powerpcle-unknown
! 	        ;;
  	ppcle-* | powerpclittle-*)
  		basic_machine=powerpcle-`echo $basic_machine | sed 's/^[^-]*-//'`
  		;;
  	ppc64)	basic_machine=powerpc64-unknown
! 	        ;;
  	ppc64-*) basic_machine=powerpc64-`echo $basic_machine | sed 's/^[^-]*-//'`
  		;;
  	ppc64le | powerpc64little | ppc64-le | powerpc64-little)
  		basic_machine=powerpc64le-unknown
! 	        ;;
  	ppc64le-* | powerpc64little-*)
  		basic_machine=powerpc64le-`echo $basic_machine | sed 's/^[^-]*-//'`
  		;;
***************
*** 822,843 ****
  	rtpc | rtpc-*)
  		basic_machine=romp-ibm
  		;;
- 	s390 | s390-*)
- 		basic_machine=s390-ibm
- 		;;
- 	s390x | s390x-*)
- 		basic_machine=s390x-ibm
- 		;;
  	sa29200)
  		basic_machine=a29k-amd
  		os=-udi
  		;;
- 	sb1)
- 		basic_machine=mipsisa64sb1-unknown
- 		;;
- 	sb1el)
- 		basic_machine=mipsisa64sb1el-unknown
- 		;;
  	sequent)
  		basic_machine=i386-sequent
  		;;
--- 784,793 ----
***************
*** 845,851 ****
  		basic_machine=sh-hitachi
  		os=-hms
  		;;
! 	sparclite-wrs | simso-wrs)
  		basic_machine=sparclite-wrs
  		os=-vxworks
  		;;
--- 795,801 ----
  		basic_machine=sh-hitachi
  		os=-hms
  		;;
! 	sparclite-wrs)
  		basic_machine=sparclite-wrs
  		os=-vxworks
  		;;
***************
*** 912,950 ****
  		os=-dynix
  		;;
  	t3e)
! 		basic_machine=alphaev5-cray
  		os=-unicos
  		;;
- 	t90)
- 		basic_machine=t90-cray
- 		os=-unicos
- 		;;
-         tic4x | c4x*)
- 		basic_machine=tic4x-unknown
- 		os=-coff
- 		;;
  	tic54x | c54x*)
  		basic_machine=tic54x-unknown
  		os=-coff
  		;;
- 	tic55x | c55x*)
- 		basic_machine=tic55x-unknown
- 		os=-coff
- 		;;
- 	tic6x | c6x*)
- 		basic_machine=tic6x-unknown
- 		os=-coff
- 		;;
  	tx39)
  		basic_machine=mipstx39-unknown
  		;;
  	tx39el)
  		basic_machine=mipstx39el-unknown
  		;;
- 	toad1)
- 		basic_machine=pdp10-xkl
- 		os=-tops20
- 		;;
  	tower | tower-32)
  		basic_machine=m68k-ncr
  		;;
--- 862,880 ----
  		os=-dynix
  		;;
  	t3e)
! 		basic_machine=t3e-cray
  		os=-unicos
  		;;
  	tic54x | c54x*)
  		basic_machine=tic54x-unknown
  		os=-coff
  		;;
  	tx39)
  		basic_machine=mipstx39-unknown
  		;;
  	tx39el)
  		basic_machine=mipstx39el-unknown
  		;;
  	tower | tower-32)
  		basic_machine=m68k-ncr
  		;;
***************
*** 969,976 ****
  		os=-vms
  		;;
  	vpp*|vx|vx-*)
! 		basic_machine=f301-fujitsu
! 		;;
  	vxworks960)
  		basic_machine=i960-wrs
  		os=-vxworks
--- 899,906 ----
  		os=-vms
  		;;
  	vpp*|vx|vx-*)
!                basic_machine=f301-fujitsu
!                ;;
  	vxworks960)
  		basic_machine=i960-wrs
  		os=-vxworks
***************
*** 991,1003 ****
  		basic_machine=hppa1.1-winbond
  		os=-proelf
  		;;
! 	xps | xps100)
! 		basic_machine=xps100-honeywell
  		;;
! 	ymp)
! 		basic_machine=ymp-cray
  		os=-unicos
  		;;
  	z8k-*-coff)
  		basic_machine=z8k-unknown
  		os=-sim
--- 921,937 ----
  		basic_machine=hppa1.1-winbond
  		os=-proelf
  		;;
! 	windows32)
! 		basic_machine=i386-pc
! 		os=-windows32-msvcrt
  		;;
! 	xmp)
! 		basic_machine=xmp-cray
  		os=-unicos
  		;;
+         xps | xps100)
+ 		basic_machine=xps100-honeywell
+ 		;;
  	z8k-*-coff)
  		basic_machine=z8k-unknown
  		os=-sim
***************
*** 1018,1023 ****
--- 952,964 ----
  	op60c)
  		basic_machine=hppa1.1-oki
  		;;
+ 	mips)
+ 		if [ x$os = x-linux-gnu ]; then
+ 			basic_machine=mips-unknown
+ 		else
+ 			basic_machine=mips-mips
+ 		fi
+ 		;;
  	romp)
  		basic_machine=romp-ibm
  		;;
***************
*** 1037,1052 ****
  	we32k)
  		basic_machine=we32k-att
  		;;
! 	sh3 | sh4 | sh[34]eb | sh[1234]le | sh[23]ele)
  		basic_machine=sh-unknown
  		;;
- 	sh64)
- 		basic_machine=sh64-unknown
- 		;;
  	sparc | sparcv9 | sparcv9b)
  		basic_machine=sparc-sun
  		;;
! 	cydra)
  		basic_machine=cydra-cydrome
  		;;
  	orion)
--- 978,990 ----
  	we32k)
  		basic_machine=we32k-att
  		;;
! 	sh3 | sh4 | sh3eb | sh4eb)
  		basic_machine=sh-unknown
  		;;
  	sparc | sparcv9 | sparcv9b)
  		basic_machine=sparc-sun
  		;;
!         cydra)
  		basic_machine=cydra-cydrome
  		;;
  	orion)
***************
*** 1061,1066 ****
--- 999,1008 ----
  	pmac | pmac-mpw)
  		basic_machine=powerpc-apple
  		;;
+ 	c4x*)
+ 		basic_machine=c4x-none
+ 		os=-coff
+ 		;;
  	*-unknown)
  		# Make sure to match an already-canonicalized machine name.
  		;;
***************
*** 1123,1134 ****
  	      | -chorusos* | -chorusrdb* \
  	      | -cygwin* | -pe* | -psos* | -moss* | -proelf* | -rtems* \
  	      | -mingw32* | -linux-gnu* | -uxpv* | -beos* | -mpeix* | -udk* \
! 	      | -interix* | -uwin* | -mks* | -rhapsody* | -darwin* | -opened* \
  	      | -openstep* | -oskit* | -conix* | -pw32* | -nonstopux* \
  	      | -storm-chaos* | -tops10* | -tenex* | -tops20* | -its* \
! 	      | -os2* | -vos* | -palmos* | -uclinux* | -nucleus* \
! 	      | -morphos* | -superux* | -rtmk* | -rtmk-nova* | -windiss* \
! 	      | -powermax* | -dnix*)
  	# Remember, each alternative MUST END IN *, to match a version number.
  		;;
  	-qnx*)
--- 1065,1074 ----
  	      | -chorusos* | -chorusrdb* \
  	      | -cygwin* | -pe* | -psos* | -moss* | -proelf* | -rtems* \
  	      | -mingw32* | -linux-gnu* | -uxpv* | -beos* | -mpeix* | -udk* \
! 	      | -interix* | -uwin* | -rhapsody* | -darwin* | -opened* \
  	      | -openstep* | -oskit* | -conix* | -pw32* | -nonstopux* \
  	      | -storm-chaos* | -tops10* | -tenex* | -tops20* | -its* \
! 	      | -os2* | -vos*)
  	# Remember, each alternative MUST END IN *, to match a version number.
  		;;
  	-qnx*)
***************
*** 1140,1149 ****
  			;;
  		esac
  		;;
- 	-nto-qnx*)
- 		;;
  	-nto*)
! 		os=`echo $os | sed -e 's|nto|nto-qnx|'`
  		;;
  	-sim | -es1800* | -hms* | -xray | -os68k* | -none* | -v88r* \
  	      | -windows* | -osx | -abug | -netware* | -os9* | -beos* \
--- 1080,1087 ----
  			;;
  		esac
  		;;
  	-nto*)
! 		os=-nto-qnx
  		;;
  	-sim | -es1800* | -hms* | -xray | -os68k* | -none* | -v88r* \
  	      | -windows* | -osx | -abug | -netware* | -os9* | -beos* \
***************
*** 1182,1201 ****
  	-acis*)
  		os=-aos
  		;;
- 	-atheos*)
- 		os=-atheos
- 		;;
  	-386bsd)
  		os=-bsd
  		;;
  	-ctix* | -uts*)
  		os=-sysv
  		;;
- 	-nova*)
- 		os=-rtmk-nova
- 		;;
  	-ns2 )
! 		os=-nextstep2
  		;;
  	-nsk*)
  		os=-nsk
--- 1120,1133 ----
  	-acis*)
  		os=-aos
  		;;
  	-386bsd)
  		os=-bsd
  		;;
  	-ctix* | -uts*)
  		os=-sysv
  		;;
  	-ns2 )
! 	        os=-nextstep2
  		;;
  	-nsk*)
  		os=-nsk
***************
*** 1234,1247 ****
  	-xenix)
  		os=-xenix
  		;;
! 	-*mint | -mint[0-9]* | -*MiNT | -MiNT[0-9]*)
! 		os=-mint
! 		;;
! 	-aros*)
! 		os=-aros
! 		;;
! 	-kaos*)
! 		os=-kaos
  		;;
  	-none)
  		;;
--- 1166,1173 ----
  	-xenix)
  		os=-xenix
  		;;
!         -*mint | -mint[0-9]* | -*MiNT | -MiNT[0-9]*)
! 	        os=-mint
  		;;
  	-none)
  		;;
***************
*** 1274,1284 ****
  	arm*-semi)
  		os=-aout
  		;;
- 	# This must come before the *-dec entry.
  	pdp10-*)
  		os=-tops20
  		;;
! 	pdp11-*)
  		os=-none
  		;;
  	*-dec | vax-*)
--- 1200,1209 ----
  	arm*-semi)
  		os=-aout
  		;;
  	pdp10-*)
  		os=-tops20
  		;;
!         pdp11-*)
  		os=-none
  		;;
  	*-dec | vax-*)
***************
*** 1305,1313 ****
  	mips*-*)
  		os=-elf
  		;;
- 	or32-*)
- 		os=-coff
- 		;;
  	*-tti)	# must be before sparc entry or we get the wrong os.
  		os=-sysv3
  		;;
--- 1230,1235 ----
***************
*** 1371,1389 ****
  	*-next)
  		os=-nextstep3
  		;;
! 	*-gould)
  		os=-sysv
  		;;
! 	*-highlevel)
  		os=-bsd
  		;;
  	*-encore)
  		os=-bsd
  		;;
! 	*-sgi)
  		os=-irix
  		;;
! 	*-siemens)
  		os=-sysv4
  		;;
  	*-masscomp)
--- 1293,1311 ----
  	*-next)
  		os=-nextstep3
  		;;
!         *-gould)
  		os=-sysv
  		;;
!         *-highlevel)
  		os=-bsd
  		;;
  	*-encore)
  		os=-bsd
  		;;
!         *-sgi)
  		os=-irix
  		;;
!         *-siemens)
  		os=-sysv4
  		;;
  	*-masscomp)
***************
*** 1455,1461 ****
  			-ptx*)
  				vendor=sequent
  				;;
! 			-vxsim* | -vxworks* | -windiss*)
  				vendor=wrs
  				;;
  			-aux*)
--- 1377,1383 ----
  			-ptx*)
  				vendor=sequent
  				;;
! 			-vxsim* | -vxworks*)
  				vendor=wrs
  				;;
  			-aux*)
diff -crN ./xcursor/configure /users6/vanderms/sb/gnome_21264bis/src/./xcursor/configure
*** ./xcursor/configure	Wed May 21 19:22:49 2003
--- /users6/vanderms/sb/gnome_21264bis/src/./xcursor/configure	Tue Jan 17 10:55:38 2006
***************
*** 1,9 ****
  #! /bin/sh
  # Guess values for system-dependent variables and create Makefiles.
! # Generated by GNU Autoconf 2.57.
  #
! # Copyright 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001, 2002
! # Free Software Foundation, Inc.
  # This configure script is free software; the Free Software Foundation
  # gives unlimited permission to copy, distribute and modify it.
  ## --------------------- ##
--- 1,8 ----
  #! /bin/sh
  # Guess values for system-dependent variables and create Makefiles.
! # Generated by GNU Autoconf 2.59.
  #
! # Copyright (C) 2003 Free Software Foundation, Inc.
  # This configure script is free software; the Free Software Foundation
  # gives unlimited permission to copy, distribute and modify it.
  ## --------------------- ##
***************
*** 20,28 ****
  elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
    set -o posix
  fi
  
  # Support unset when possible.
! if (FOO=FOO; unset FOO) >/dev/null 2>&1; then
    as_unset=unset
  else
    as_unset=false
--- 19,28 ----
  elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
    set -o posix
  fi
+ DUALCASE=1; export DUALCASE # for MKS sh
  
  # Support unset when possible.
! if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
    as_unset=unset
  else
    as_unset=false
***************
*** 41,47 ****
    LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
    LC_TELEPHONE LC_TIME
  do
!   if (set +x; test -n "`(eval $as_var=C; export $as_var) 2>&1`"); then
      eval $as_var=C; export $as_var
    else
      $as_unset $as_var
--- 41,47 ----
    LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
    LC_TELEPHONE LC_TIME
  do
!   if (set +x; test -z "`(eval $as_var=C; export $as_var) 2>&1`"); then
      eval $as_var=C; export $as_var
    else
      $as_unset $as_var
***************
*** 218,233 ****
  if mkdir -p . 2>/dev/null; then
    as_mkdir_p=:
  else
    as_mkdir_p=false
  fi
  
  as_executable_p="test -f"
  
  # Sed expression to map a string onto a valid CPP name.
! as_tr_cpp="sed y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g"
  
  # Sed expression to map a string onto a valid variable name.
! as_tr_sh="sed y%*+%pp%;s%[^_$as_cr_alnum]%_%g"
  
  
  # IFS
--- 218,234 ----
  if mkdir -p . 2>/dev/null; then
    as_mkdir_p=:
  else
+   test -d ./-p && rmdir ./-p
    as_mkdir_p=false
  fi
  
  as_executable_p="test -f"
  
  # Sed expression to map a string onto a valid CPP name.
! as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
  
  # Sed expression to map a string onto a valid variable name.
! as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
  
  
  # IFS
***************
*** 467,473 ****
  # include <unistd.h>
  #endif"
  
! ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO AMTAR install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM AWK SET_MAKE am__leading_dot LT_CURRENT LT_REVISION LT_VERSION_INFO LT_CURRENT_MINUS_AGE CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE build build_cpu build_vendor build_os host host_cpu host_vendor host_os LN_S ECHO RANLIB ac_ct_RANLIB CPP EGREP LIBTOOL X_CFLAGS X_PRE_LIBS X_LIBS X_EXTRA_LIBS PKG_CONFIG XRENDER_CFLAGS XRENDER_LIBS RENDER_CFLAGS LIBOBJS LTLIBOBJS'
  ac_subst_files=''
  
  # Initialize some variables set by options.
--- 468,474 ----
  # include <unistd.h>
  #endif"
  
! ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar LT_CURRENT LT_REVISION LT_VERSION_INFO LT_CURRENT_MINUS_AGE CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE build build_cpu build_vendor build_os host host_cpu host_vendor host_os LN_S ECHO RANLIB ac_ct_RANLIB CPP EGREP LIBTOOL X_CFLAGS X_PRE_LIBS X_LIBS X_EXTRA_LIBS PKG_CONFIG ac_pt_PKG_CONFIG XRENDER_CFLAGS XRENDER_LIBS RENDER_CFLAGS LIBOBJS LTLIBOBJS'
  ac_subst_files=''
  
  # Initialize some variables set by options.
***************
*** 826,832 ****
  
  # Be sure to have absolute paths.
  for ac_var in bindir sbindir libexecdir datadir sysconfdir sharedstatedir \
!               localstatedir libdir includedir oldincludedir infodir mandir
  do
    eval ac_val=$`echo $ac_var`
    case $ac_val in
--- 827,833 ----
  
  # Be sure to have absolute paths.
  for ac_var in bindir sbindir libexecdir datadir sysconfdir sharedstatedir \
! 	      localstatedir libdir includedir oldincludedir infodir mandir
  do
    eval ac_val=$`echo $ac_var`
    case $ac_val in
***************
*** 866,875 ****
    # Try the directory containing this script, then its parent.
    ac_confdir=`(dirname "$0") 2>/dev/null ||
  $as_expr X"$0" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
!          X"$0" : 'X\(//\)[^/]' \| \
!          X"$0" : 'X\(//\)$' \| \
!          X"$0" : 'X\(/\)' \| \
!          .     : '\(.\)' 2>/dev/null ||
  echo X"$0" |
      sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
    	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
--- 867,876 ----
    # Try the directory containing this script, then its parent.
    ac_confdir=`(dirname "$0") 2>/dev/null ||
  $as_expr X"$0" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
! 	 X"$0" : 'X\(//\)[^/]' \| \
! 	 X"$0" : 'X\(//\)$' \| \
! 	 X"$0" : 'X\(/\)' \| \
! 	 .     : '\(.\)' 2>/dev/null ||
  echo X"$0" |
      sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
    	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
***************
*** 928,933 ****
--- 929,946 ----
  ac_env_CPP_value=$CPP
  ac_cv_env_CPP_set=${CPP+set}
  ac_cv_env_CPP_value=$CPP
+ ac_env_PKG_CONFIG_set=${PKG_CONFIG+set}
+ ac_env_PKG_CONFIG_value=$PKG_CONFIG
+ ac_cv_env_PKG_CONFIG_set=${PKG_CONFIG+set}
+ ac_cv_env_PKG_CONFIG_value=$PKG_CONFIG
+ ac_env_XRENDER_CFLAGS_set=${XRENDER_CFLAGS+set}
+ ac_env_XRENDER_CFLAGS_value=$XRENDER_CFLAGS
+ ac_cv_env_XRENDER_CFLAGS_set=${XRENDER_CFLAGS+set}
+ ac_cv_env_XRENDER_CFLAGS_value=$XRENDER_CFLAGS
+ ac_env_XRENDER_LIBS_set=${XRENDER_LIBS+set}
+ ac_env_XRENDER_LIBS_value=$XRENDER_LIBS
+ ac_cv_env_XRENDER_LIBS_set=${XRENDER_LIBS+set}
+ ac_cv_env_XRENDER_LIBS_value=$XRENDER_LIBS
  
  #
  # Report the --help message.
***************
*** 961,969 ****
    cat <<_ACEOF
  Installation directories:
    --prefix=PREFIX         install architecture-independent files in PREFIX
!                           [$ac_default_prefix]
    --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
!                           [PREFIX]
  
  By default, \`make install' will install all the files in
  \`$ac_default_prefix/bin', \`$ac_default_prefix/lib' etc.  You can specify
--- 974,982 ----
    cat <<_ACEOF
  Installation directories:
    --prefix=PREFIX         install architecture-independent files in PREFIX
! 			  [$ac_default_prefix]
    --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
! 			  [PREFIX]
  
  By default, \`make install' will install all the files in
  \`$ac_default_prefix/bin', \`$ac_default_prefix/lib' etc.  You can specify
***************
*** 1011,1018 ****
  Optional Features:
    --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
    --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
!   --disable-dependency-tracking Speeds up one-time builds
!   --enable-dependency-tracking  Do not reject slow dependency extractors
    --enable-shared=PKGS  build shared libraries default=yes
    --enable-static=PKGS  build static libraries default=yes
    --enable-fast-install=PKGS  optimize for fast installation default=yes
--- 1024,1031 ----
  Optional Features:
    --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
    --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
!   --disable-dependency-tracking  speeds up one-time build
!   --enable-dependency-tracking   do not reject slow dependency extractors
    --enable-shared=PKGS  build shared libraries default=yes
    --enable-static=PKGS  build static libraries default=yes
    --enable-fast-install=PKGS  optimize for fast installation default=yes
***************
*** 1022,1027 ****
--- 1035,1041 ----
    --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
    --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
    --with-gnu-ld           assume the C compiler uses GNU ld default=no
+   --with-sandie           assume the C compiler uses GNU ld default=no
    --with-pic              try to use only PIC/non-PIC objects default=use both
    --with-x                use the X Window System
  
***************
*** 1033,1038 ****
--- 1047,1057 ----
    CPPFLAGS    C/C++ preprocessor flags, e.g. -I<include dir> if you have
                headers in a nonstandard directory <include dir>
    CPP         C preprocessor
+   PKG_CONFIG  path to pkg-config utility
+   XRENDER_CFLAGS
+               C compiler flags for XRENDER, overriding pkg-config
+   XRENDER_LIBS
+               linker flags for XRENDER, overriding pkg-config
  
  Use these variables to override the choices made by `configure' or to help
  it to find libraries and programs with nonstandard names/locations.
***************
*** 1070,1081 ****
      ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
      ac_top_srcdir=$ac_top_builddir$srcdir ;;
  esac
! # Don't blindly perform a `cd "$ac_dir"/$ac_foo && pwd` since $ac_foo can be
! # absolute.
! ac_abs_builddir=`cd "$ac_dir" && cd $ac_builddir && pwd`
! ac_abs_top_builddir=`cd "$ac_dir" && cd ${ac_top_builddir}. && pwd`
! ac_abs_srcdir=`cd "$ac_dir" && cd $ac_srcdir && pwd`
! ac_abs_top_srcdir=`cd "$ac_dir" && cd $ac_top_srcdir && pwd`
  
      cd $ac_dir
      # Check for guested configure; otherwise get Cygnus style configure.
--- 1089,1133 ----
      ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
      ac_top_srcdir=$ac_top_builddir$srcdir ;;
  esac
! 
! # Do not use `cd foo && pwd` to compute absolute paths, because
! # the directories may not exist.
! case `pwd` in
! .) ac_abs_builddir="$ac_dir";;
! *)
!   case "$ac_dir" in
!   .) ac_abs_builddir=`pwd`;;
!   [\\/]* | ?:[\\/]* ) ac_abs_builddir="$ac_dir";;
!   *) ac_abs_builddir=`pwd`/"$ac_dir";;
!   esac;;
! esac
! case $ac_abs_builddir in
! .) ac_abs_top_builddir=${ac_top_builddir}.;;
! *)
!   case ${ac_top_builddir}. in
!   .) ac_abs_top_builddir=$ac_abs_builddir;;
!   [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
!   *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
!   esac;;
! esac
! case $ac_abs_builddir in
! .) ac_abs_srcdir=$ac_srcdir;;
! *)
!   case $ac_srcdir in
!   .) ac_abs_srcdir=$ac_abs_builddir;;
!   [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_srcdir;;
!   *) ac_abs_srcdir=$ac_abs_builddir/$ac_srcdir;;
!   esac;;
! esac
! case $ac_abs_builddir in
! .) ac_abs_top_srcdir=$ac_top_srcdir;;
! *)
!   case $ac_top_srcdir in
!   .) ac_abs_top_srcdir=$ac_abs_builddir;;
!   [\\/]* | ?:[\\/]* ) ac_abs_top_srcdir=$ac_top_srcdir;;
!   *) ac_abs_top_srcdir=$ac_abs_builddir/$ac_top_srcdir;;
!   esac;;
! esac
  
      cd $ac_dir
      # Check for guested configure; otherwise get Cygnus style configure.
***************
*** 1086,1092 ****
        echo
        $SHELL $ac_srcdir/configure  --help=recursive
      elif test -f $ac_srcdir/configure.ac ||
!            test -f $ac_srcdir/configure.in; then
        echo
        $ac_configure --help
      else
--- 1138,1144 ----
        echo
        $SHELL $ac_srcdir/configure  --help=recursive
      elif test -f $ac_srcdir/configure.ac ||
! 	   test -f $ac_srcdir/configure.in; then
        echo
        $ac_configure --help
      else
***************
*** 1100,1107 ****
  if $ac_init_version; then
    cat <<\_ACEOF
  
! Copyright 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001, 2002
! Free Software Foundation, Inc.
  This configure script is free software; the Free Software Foundation
  gives unlimited permission to copy, distribute and modify it.
  _ACEOF
--- 1152,1158 ----
  if $ac_init_version; then
    cat <<\_ACEOF
  
! Copyright (C) 2003 Free Software Foundation, Inc.
  This configure script is free software; the Free Software Foundation
  gives unlimited permission to copy, distribute and modify it.
  _ACEOF
***************
*** 1113,1119 ****
  running configure, to aid debugging if configure makes a mistake.
  
  It was created by $as_me, which was
! generated by GNU Autoconf 2.57.  Invocation command line was
  
    $ $0 $@
  
--- 1164,1170 ----
  running configure, to aid debugging if configure makes a mistake.
  
  It was created by $as_me, which was
! generated by GNU Autoconf 2.59.  Invocation command line was
  
    $ $0 $@
  
***************
*** 1190,1208 ****
      2)
        ac_configure_args1="$ac_configure_args1 '$ac_arg'"
        if test $ac_must_keep_next = true; then
!         ac_must_keep_next=false # Got value, back to normal.
        else
!         case $ac_arg in
!           *=* | --config-cache | -C | -disable-* | --disable-* \
!           | -enable-* | --enable-* | -gas | --g* | -nfp | --nf* \
!           | -q | -quiet | --q* | -silent | --sil* | -v | -verb* \
!           | -with-* | --with-* | -without-* | --without-* | --x)
!             case "$ac_configure_args0 " in
!               "$ac_configure_args1"*" '$ac_arg' "* ) continue ;;
!             esac
!             ;;
!           -* ) ac_must_keep_next=true ;;
!         esac
        fi
        ac_configure_args="$ac_configure_args$ac_sep'$ac_arg'"
        # Get rid of the leading space.
--- 1241,1259 ----
      2)
        ac_configure_args1="$ac_configure_args1 '$ac_arg'"
        if test $ac_must_keep_next = true; then
! 	ac_must_keep_next=false # Got value, back to normal.
        else
! 	case $ac_arg in
! 	  *=* | --config-cache | -C | -disable-* | --disable-* \
! 	  | -enable-* | --enable-* | -gas | --g* | -nfp | --nf* \
! 	  | -q | -quiet | --q* | -silent | --sil* | -v | -verb* \
! 	  | -with-* | --with-* | -without-* | --without-* | --x)
! 	    case "$ac_configure_args0 " in
! 	      "$ac_configure_args1"*" '$ac_arg' "* ) continue ;;
! 	    esac
! 	    ;;
! 	  -* ) ac_must_keep_next=true ;;
! 	esac
        fi
        ac_configure_args="$ac_configure_args$ac_sep'$ac_arg'"
        # Get rid of the leading space.
***************
*** 1236,1247 ****
      case `(ac_space='"'"' '"'"'; set | grep ac_space) 2>&1` in
      *ac_space=\ *)
        sed -n \
!         "s/'"'"'/'"'"'\\\\'"'"''"'"'/g;
!     	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='"'"'\\2'"'"'/p"
        ;;
      *)
        sed -n \
!         "s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p"
        ;;
      esac;
  }
--- 1287,1298 ----
      case `(ac_space='"'"' '"'"'; set | grep ac_space) 2>&1` in
      *ac_space=\ *)
        sed -n \
! 	"s/'"'"'/'"'"'\\\\'"'"''"'"'/g;
! 	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='"'"'\\2'"'"'/p"
        ;;
      *)
        sed -n \
! 	"s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p"
        ;;
      esac;
  }
***************
*** 1270,1276 ****
        for ac_var in $ac_subst_files
        do
  	eval ac_val=$`echo $ac_var`
!         echo "$ac_var='"'"'$ac_val'"'"'"
        done | sort
        echo
      fi
--- 1321,1327 ----
        for ac_var in $ac_subst_files
        do
  	eval ac_val=$`echo $ac_var`
! 	echo "$ac_var='"'"'$ac_val'"'"'"
        done | sort
        echo
      fi
***************
*** 1289,1295 ****
        echo "$as_me: caught signal $ac_signal"
      echo "$as_me: exit $exit_status"
    } >&5
!   rm -f core core.* *.core &&
    rm -rf conftest* confdefs* conf$$* $ac_clean_files &&
      exit $exit_status
       ' 0
--- 1340,1346 ----
        echo "$as_me: caught signal $ac_signal"
      echo "$as_me: exit $exit_status"
    } >&5
!   rm -f core *.core &&
    rm -rf conftest* confdefs* conf$$* $ac_clean_files &&
      exit $exit_status
       ' 0
***************
*** 1369,1375 ****
  # value.
  ac_cache_corrupted=false
  for ac_var in `(set) 2>&1 |
!                sed -n 's/^ac_env_\([a-zA-Z_0-9]*\)_set=.*/\1/p'`; do
    eval ac_old_set=\$ac_cv_env_${ac_var}_set
    eval ac_new_set=\$ac_env_${ac_var}_set
    eval ac_old_val="\$ac_cv_env_${ac_var}_value"
--- 1420,1426 ----
  # value.
  ac_cache_corrupted=false
  for ac_var in `(set) 2>&1 |
! 	       sed -n 's/^ac_env_\([a-zA-Z_0-9]*\)_set=.*/\1/p'`; do
    eval ac_old_set=\$ac_cv_env_${ac_var}_set
    eval ac_new_set=\$ac_env_${ac_var}_set
    eval ac_old_val="\$ac_cv_env_${ac_var}_value"
***************
*** 1386,1398 ****
      ,);;
      *)
        if test "x$ac_old_val" != "x$ac_new_val"; then
!         { echo "$as_me:$LINENO: error: \`$ac_var' has changed since the previous run:" >&5
  echo "$as_me: error: \`$ac_var' has changed since the previous run:" >&2;}
!         { echo "$as_me:$LINENO:   former value:  $ac_old_val" >&5
  echo "$as_me:   former value:  $ac_old_val" >&2;}
!         { echo "$as_me:$LINENO:   current value: $ac_new_val" >&5
  echo "$as_me:   current value: $ac_new_val" >&2;}
!         ac_cache_corrupted=:
        fi;;
    esac
    # Pass precious variables to config.status.
--- 1437,1449 ----
      ,);;
      *)
        if test "x$ac_old_val" != "x$ac_new_val"; then
! 	{ echo "$as_me:$LINENO: error: \`$ac_var' has changed since the previous run:" >&5
  echo "$as_me: error: \`$ac_var' has changed since the previous run:" >&2;}
! 	{ echo "$as_me:$LINENO:   former value:  $ac_old_val" >&5
  echo "$as_me:   former value:  $ac_old_val" >&2;}
! 	{ echo "$as_me:$LINENO:   current value: $ac_new_val" >&5
  echo "$as_me:   current value: $ac_new_val" >&2;}
! 	ac_cache_corrupted=:
        fi;;
    esac
    # Pass precious variables to config.status.
***************
*** 1440,1446 ****
  
  
  
! am__api_version="1.7"
  ac_aux_dir=
  for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do
    if test -f $ac_dir/install-sh; then
--- 1491,1497 ----
  
  
  
! am__api_version="1.9"
  ac_aux_dir=
  for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do
    if test -f $ac_dir/install-sh; then
***************
*** 1477,1482 ****
--- 1528,1534 ----
  # AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
  # AFS /usr/afsws/bin/install, which mishandles nonexistent args
  # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
+ # OS/2's system install, which has a completely different semantic
  # ./install, which can be erroneously created by make from ./install.sh.
  echo "$as_me:$LINENO: checking for a BSD-compatible install" >&5
  echo $ECHO_N "checking for a BSD-compatible install... $ECHO_C" >&6
***************
*** 1493,1498 ****
--- 1545,1551 ----
  case $as_dir/ in
    ./ | .// | /cC/* | \
    /etc/* | /usr/sbin/* | /usr/etc/* | /sbin/* | /usr/afsws/bin/* | \
+   ?:\\/os2\\/install\\/* | ?:\\/OS2\\/INSTALL\\/* | \
    /usr/ucb/* ) ;;
    *)
      # OSF1 and SCO ODT 3.0 have their own names for install.
***************
*** 1500,1519 ****
      # by default.
      for ac_prog in ginstall scoinst install; do
        for ac_exec_ext in '' $ac_executable_extensions; do
!         if $as_executable_p "$as_dir/$ac_prog$ac_exec_ext"; then
!           if test $ac_prog = install &&
!             grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
!             # AIX install.  It has an incompatible calling convention.
!             :
!           elif test $ac_prog = install &&
!             grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
!             # program-specific install script used by HP pwplus--don't use.
!             :
!           else
!             ac_cv_path_install="$as_dir/$ac_prog$ac_exec_ext -c"
!             break 3
!           fi
!         fi
        done
      done
      ;;
--- 1553,1572 ----
      # by default.
      for ac_prog in ginstall scoinst install; do
        for ac_exec_ext in '' $ac_executable_extensions; do
! 	if $as_executable_p "$as_dir/$ac_prog$ac_exec_ext"; then
! 	  if test $ac_prog = install &&
! 	    grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
! 	    # AIX install.  It has an incompatible calling convention.
! 	    :
! 	  elif test $ac_prog = install &&
! 	    grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
! 	    # program-specific install script used by HP pwplus--don't use.
! 	    :
! 	  else
! 	    ac_cv_path_install="$as_dir/$ac_prog$ac_exec_ext -c"
! 	    break 3
! 	  fi
! 	fi
        done
      done
      ;;
***************
*** 1601,1607 ****
  program_transform_name=`echo $program_transform_name | sed -f conftest.sed`
  rm conftest.sed
  
- 
  # expand $ac_aux_dir to an absolute path
  am_aux_dir=`cd $ac_aux_dir && pwd`
  
--- 1654,1659 ----
***************
*** 1615,1620 ****
--- 1667,1705 ----
  echo "$as_me: WARNING: \`missing' script is too old or missing" >&2;}
  fi
  
+ if mkdir -p --version . >/dev/null 2>&1 && test ! -d ./--version; then
+   # We used to keeping the `.' as first argument, in order to
+   # allow $(mkdir_p) to be used without argument.  As in
+   #   $(mkdir_p) $(somedir)
+   # where $(somedir) is conditionally defined.  However this is wrong
+   # for two reasons:
+   #  1. if the package is installed by a user who cannot write `.'
+   #     make install will fail,
+   #  2. the above comment should most certainly read
+   #     $(mkdir_p) $(DESTDIR)$(somedir)
+   #     so it does not work when $(somedir) is undefined and
+   #     $(DESTDIR) is not.
+   #  To support the latter case, we have to write
+   #     test -z "$(somedir)" || $(mkdir_p) $(DESTDIR)$(somedir),
+   #  so the `.' trick is pointless.
+   mkdir_p='mkdir -p --'
+ else
+   # On NextStep and OpenStep, the `mkdir' command does not
+   # recognize any option.  It will interpret all options as
+   # directories to create, and then abort because `.' already
+   # exists.
+   for d in ./-p ./--version;
+   do
+     test -d $d && rmdir $d
+   done
+   # $(mkinstalldirs) is defined by Automake if mkinstalldirs exists.
+   if test -f "$ac_aux_dir/mkinstalldirs"; then
+     mkdir_p='$(mkinstalldirs)'
+   else
+     mkdir_p='$(install_sh) -d'
+   fi
+ fi
+ 
  for ac_prog in gawk mawk nawk awk
  do
    # Extract the first word of "$ac_prog", so it can be a program name with args.
***************
*** 1657,1663 ****
  
  echo "$as_me:$LINENO: checking whether ${MAKE-make} sets \$(MAKE)" >&5
  echo $ECHO_N "checking whether ${MAKE-make} sets \$(MAKE)... $ECHO_C" >&6
! set dummy ${MAKE-make}; ac_make=`echo "$2" | sed 'y,./+-,__p_,'`
  if eval "test \"\${ac_cv_prog_make_${ac_make}_set+set}\" = set"; then
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
--- 1742,1748 ----
  
  echo "$as_me:$LINENO: checking whether ${MAKE-make} sets \$(MAKE)" >&5
  echo $ECHO_N "checking whether ${MAKE-make} sets \$(MAKE)... $ECHO_C" >&6
! set dummy ${MAKE-make}; ac_make=`echo "$2" | sed 'y,:./+-,___p_,'`
  if eval "test \"\${ac_cv_prog_make_${ac_make}_set+set}\" = set"; then
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
***************
*** 1693,1699 ****
  fi
  rmdir .tst 2>/dev/null
  
!  # test to see if srcdir already configured
  if test "`cd $srcdir && pwd`" != "`pwd`" &&
     test -f $srcdir/config.status; then
    { { echo "$as_me:$LINENO: error: source directory already configured; run \"make distclean\" there first" >&5
--- 1778,1784 ----
  fi
  rmdir .tst 2>/dev/null
  
! # test to see if srcdir already configured
  if test "`cd $srcdir && pwd`" != "`pwd`" &&
     test -f $srcdir/config.status; then
    { { echo "$as_me:$LINENO: error: source directory already configured; run \"make distclean\" there first" >&5
***************
*** 1741,1749 ****
  
  MAKEINFO=${MAKEINFO-"${am_missing_run}makeinfo"}
  
- 
- AMTAR=${AMTAR-"${am_missing_run}tar"}
- 
  install_sh=${install_sh-"$am_aux_dir/install-sh"}
  
  # Installed binaries are usually stripped using `strip' when the user
--- 1826,1831 ----
***************
*** 1836,1841 ****
--- 1918,1930 ----
  
  # We need awk for the "check" target.  The system "awk" is bad on
  # some platforms.
+ # Always define AMTAR for backward compatibility.
+ 
+ AMTAR=${AMTAR-"${am_missing_run}tar"}
+ 
+ am__tar='${AMTAR} chof - "$$tardir"'; am__untar='${AMTAR} xf -'
+ 
+ 
  
  
  
***************
*** 2193,2199 ****
    (exit $ac_status); }
  
  cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 2282,2287 ----
***************
*** 2213,2220 ****
  # Try to create an executable without -o first, disregard a.out.
  # It will help us diagnose broken compilers, and finding out an intuition
  # of exeext.
! echo "$as_me:$LINENO: checking for C compiler default output" >&5
! echo $ECHO_N "checking for C compiler default output... $ECHO_C" >&6
  ac_link_default=`echo "$ac_link" | sed 's/ -o *conftest[^ ]*//'`
  if { (eval echo "$as_me:$LINENO: \"$ac_link_default\"") >&5
    (eval $ac_link_default) 2>&5
--- 2301,2308 ----
  # Try to create an executable without -o first, disregard a.out.
  # It will help us diagnose broken compilers, and finding out an intuition
  # of exeext.
! echo "$as_me:$LINENO: checking for C compiler default output file name" >&5
! echo $ECHO_N "checking for C compiler default output file name... $ECHO_C" >&6
  ac_link_default=`echo "$ac_link" | sed 's/ -o *conftest[^ ]*//'`
  if { (eval echo "$as_me:$LINENO: \"$ac_link_default\"") >&5
    (eval $ac_link_default) 2>&5
***************
*** 2234,2256 ****
    test -f "$ac_file" || continue
    case $ac_file in
      *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.o | *.obj )
!         ;;
      conftest.$ac_ext )
!         # This is the source file.
!         ;;
      [ab].out )
!         # We found the default executable, but exeext='' is most
!         # certainly right.
!         break;;
      *.* )
!         ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
!         # FIXME: I believe we export ac_cv_exeext for Libtool,
!         # but it would be cool to find out if it's true.  Does anybody
!         # maintain Libtool? --akim.
!         export ac_cv_exeext
!         break;;
      * )
!         break;;
    esac
  done
  else
--- 2322,2344 ----
    test -f "$ac_file" || continue
    case $ac_file in
      *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.o | *.obj )
! 	;;
      conftest.$ac_ext )
! 	# This is the source file.
! 	;;
      [ab].out )
! 	# We found the default executable, but exeext='' is most
! 	# certainly right.
! 	break;;
      *.* )
! 	ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
! 	# FIXME: I believe we export ac_cv_exeext for Libtool,
! 	# but it would be cool to find out if it's true.  Does anybody
! 	# maintain Libtool? --akim.
! 	export ac_cv_exeext
! 	break;;
      * )
! 	break;;
    esac
  done
  else
***************
*** 2324,2331 ****
    case $ac_file in
      *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.o | *.obj ) ;;
      *.* ) ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
!           export ac_cv_exeext
!           break;;
      * ) break;;
    esac
  done
--- 2412,2419 ----
    case $ac_file in
      *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.o | *.obj ) ;;
      *.* ) ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
! 	  export ac_cv_exeext
! 	  break;;
      * ) break;;
    esac
  done
***************
*** 2350,2356 ****
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 2438,2443 ----
***************
*** 2401,2407 ****
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 2488,2493 ----
***************
*** 2421,2431 ****
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 2507,2527 ----
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 2438,2444 ****
  
  ac_compiler_gnu=no
  fi
! rm -f conftest.$ac_objext conftest.$ac_ext
  ac_cv_c_compiler_gnu=$ac_compiler_gnu
  
  fi
--- 2534,2540 ----
  
  ac_compiler_gnu=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  ac_cv_c_compiler_gnu=$ac_compiler_gnu
  
  fi
***************
*** 2454,2460 ****
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 2550,2555 ----
***************
*** 2471,2481 ****
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 2566,2586 ----
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 2488,2494 ****
  
  ac_cv_prog_cc_g=no
  fi
! rm -f conftest.$ac_objext conftest.$ac_ext
  fi
  echo "$as_me:$LINENO: result: $ac_cv_prog_cc_g" >&5
  echo "${ECHO_T}$ac_cv_prog_cc_g" >&6
--- 2593,2599 ----
  
  ac_cv_prog_cc_g=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
  echo "$as_me:$LINENO: result: $ac_cv_prog_cc_g" >&5
  echo "${ECHO_T}$ac_cv_prog_cc_g" >&6
***************
*** 2515,2521 ****
    ac_cv_prog_cc_stdc=no
  ac_save_CC=$CC
  cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 2620,2625 ----
***************
*** 2543,2548 ****
--- 2647,2662 ----
    va_end (v);
    return s;
  }
+ 
+ /* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has
+    function prototypes and stuff, but not '\xHH' hex character constants.
+    These don't provoke an error unfortunately, instead are silently treated
+    as 'x'.  The following induces an error, until -std1 is added to get
+    proper ANSI mode.  Curiously '\x00'!='x' always comes out true, for an
+    array size at least.  It's necessary to write '\x00'==0 to get something
+    that's true only with -std1.  */
+ int osf4_cc_array ['\x00' == 0 ? 1 : -1];
+ 
  int test (int i, double x);
  struct s1 {int (*f) (int a);};
  struct s2 {int (*f) (double a);};
***************
*** 2569,2579 ****
    CC="$ac_save_CC $ac_arg"
    rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 2683,2703 ----
    CC="$ac_save_CC $ac_arg"
    rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 2586,2592 ****
  sed 's/^/| /' conftest.$ac_ext >&5
  
  fi
! rm -f conftest.$ac_objext
  done
  rm -f conftest.$ac_ext conftest.$ac_objext
  CC=$ac_save_CC
--- 2710,2716 ----
  sed 's/^/| /' conftest.$ac_ext >&5
  
  fi
! rm -f conftest.err conftest.$ac_objext
  done
  rm -f conftest.$ac_ext conftest.$ac_objext
  CC=$ac_save_CC
***************
*** 2614,2647 ****
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); }; }; then
    for ac_declaration in \
!    ''\
     'extern "C" void std::exit (int) throw (); using std::exit;' \
     'extern "C" void std::exit (int); using std::exit;' \
     'extern "C" void exit (int) throw ();' \
     'extern "C" void exit (int);' \
!    'void exit (int);' \
!    '#include <stdlib.h>'
  do
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
- #include <stdlib.h>
  $ac_declaration
  int
  main ()
  {
--- 2738,2779 ----
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); }; }; then
    for ac_declaration in \
!    '' \
     'extern "C" void std::exit (int) throw (); using std::exit;' \
     'extern "C" void std::exit (int); using std::exit;' \
     'extern "C" void exit (int) throw ();' \
     'extern "C" void exit (int);' \
!    'void exit (int);'
  do
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
  $ac_declaration
+ #include <stdlib.h>
  int
  main ()
  {
***************
*** 2652,2662 ****
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 2784,2804 ----
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 2669,2677 ****
  
  continue
  fi
! rm -f conftest.$ac_objext conftest.$ac_ext
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 2811,2818 ----
  
  continue
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
***************
*** 2688,2698 ****
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 2829,2849 ----
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 2704,2710 ****
  sed 's/^/| /' conftest.$ac_ext >&5
  
  fi
! rm -f conftest.$ac_objext conftest.$ac_ext
  done
  rm -f conftest*
  if test -n "$ac_declaration"; then
--- 2855,2861 ----
  sed 's/^/| /' conftest.$ac_ext >&5
  
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  done
  rm -f conftest*
  if test -n "$ac_declaration"; then
***************
*** 2718,2724 ****
  sed 's/^/| /' conftest.$ac_ext >&5
  
  fi
! rm -f conftest.$ac_objext conftest.$ac_ext
  ac_ext=c
  ac_cpp='$CPP $CPPFLAGS'
  ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
--- 2869,2875 ----
  sed 's/^/| /' conftest.$ac_ext >&5
  
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  ac_ext=c
  ac_cpp='$CPP $CPPFLAGS'
  ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
***************
*** 2731,2738 ****
  
  am_make=${MAKE-make}
  cat > confinc << 'END'
! doit:
  	@echo done
  END
  # If we don't find an include directive, just comment out the code.
  echo "$as_me:$LINENO: checking for style of include used by $am_make" >&5
--- 2882,2890 ----
  
  am_make=${MAKE-make}
  cat > confinc << 'END'
! am__doit:
  	@echo done
+ .PHONY: am__doit
  END
  # If we don't find an include directive, just comment out the code.
  echo "$as_me:$LINENO: checking for style of include used by $am_make" >&5
***************
*** 2807,2824 ****
    # using a relative directory.
    cp "$am_depcomp" conftest.dir
    cd conftest.dir
  
    am_cv_CC_dependencies_compiler_type=none
    if test "$am_compiler_list" = ""; then
       am_compiler_list=`sed -n 's/^#*\([a-zA-Z0-9]*\))$/\1/p' < ./depcomp`
    fi
    for depmode in $am_compiler_list; do
      # We need to recreate these files for each test, as the compiler may
      # overwrite some of them when testing with obscure command lines.
      # This happens at least with the AIX C compiler.
!     echo '#include "conftest.h"' > conftest.c
!     echo 'int i;' > conftest.h
!     echo "${am__include} ${am__quote}conftest.Po${am__quote}" > confmf
  
      case $depmode in
      nosideeffect)
--- 2959,2992 ----
    # using a relative directory.
    cp "$am_depcomp" conftest.dir
    cd conftest.dir
+   # We will build objects and dependencies in a subdirectory because
+   # it helps to detect inapplicable dependency modes.  For instance
+   # both Tru64's cc and ICC support -MD to output dependencies as a
+   # side effect of compilation, but ICC will put the dependencies in
+   # the current directory while Tru64 will put them in the object
+   # directory.
+   mkdir sub
  
    am_cv_CC_dependencies_compiler_type=none
    if test "$am_compiler_list" = ""; then
       am_compiler_list=`sed -n 's/^#*\([a-zA-Z0-9]*\))$/\1/p' < ./depcomp`
    fi
    for depmode in $am_compiler_list; do
+     # Setup a source with many dependencies, because some compilers
+     # like to wrap large dependency lists on column 80 (with \), and
+     # we should not choose a depcomp mode which is confused by this.
+     #
      # We need to recreate these files for each test, as the compiler may
      # overwrite some of them when testing with obscure command lines.
      # This happens at least with the AIX C compiler.
!     : > sub/conftest.c
!     for i in 1 2 3 4 5 6; do
!       echo '#include "conftst'$i'.h"' >> sub/conftest.c
!       # Using `: > sub/conftst$i.h' creates only sub/conftst1.h with
!       # Solaris 8's {/usr,}/bin/sh.
!       touch sub/conftst$i.h
!     done
!     echo "${am__include} ${am__quote}sub/conftest.Po${am__quote}" > confmf
  
      case $depmode in
      nosideeffect)
***************
*** 2836,2851 ****
      # mode.  It turns out that the SunPro C++ compiler does not properly
      # handle `-M -o', and we need to detect this.
      if depmode=$depmode \
!        source=conftest.c object=conftest.o \
!        depfile=conftest.Po tmpdepfile=conftest.TPo \
!        $SHELL ./depcomp $depcc -c -o conftest.o conftest.c \
           >/dev/null 2>conftest.err &&
!        grep conftest.h conftest.Po > /dev/null 2>&1 &&
         ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
        # icc doesn't choke on unknown options, it will just issue warnings
!       # (even with -Werror).  So we grep stderr for any message
!       # that says an option was ignored.
!       if grep 'ignoring option' conftest.err >/dev/null 2>&1; then :; else
          am_cv_CC_dependencies_compiler_type=$depmode
          break
        fi
--- 3004,3025 ----
      # mode.  It turns out that the SunPro C++ compiler does not properly
      # handle `-M -o', and we need to detect this.
      if depmode=$depmode \
!        source=sub/conftest.c object=sub/conftest.${OBJEXT-o} \
!        depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
!        $SHELL ./depcomp $depcc -c -o sub/conftest.${OBJEXT-o} sub/conftest.c \
           >/dev/null 2>conftest.err &&
!        grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
!        grep sub/conftest.${OBJEXT-o} sub/conftest.Po > /dev/null 2>&1 &&
         ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
        # icc doesn't choke on unknown options, it will just issue warnings
!       # or remarks (even with -Werror).  So we grep stderr for any message
!       # that says an option was ignored or not supported.
!       # When given -MP, icc 7.0 and 7.1 complain thusly:
!       #   icc: Command line warning: ignoring option '-M'; no argument required
!       # The diagnosis changed in icc 8.0:
!       #   icc: Command line remark: option '-MP' not supported
!       if (grep 'ignoring option' conftest.err ||
!           grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else
          am_cv_CC_dependencies_compiler_type=$depmode
          break
        fi
***************
*** 3138,3144 ****
        #   nm: unknown option "B" ignored
        # Tru64's nm complains that /dev/null is an invalid object file
        if ($tmp_nm -B /dev/null 2>&1 | sed '1q'; exit 0) | egrep '(/dev/null|Invalid file or object type)' >/dev/null; then
! 	lt_cv_path_NM="$tmp_nm -B"
  	break
        elif ($tmp_nm -p /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then
  	lt_cv_path_NM="$tmp_nm -p"
--- 3312,3334 ----
        #   nm: unknown option "B" ignored
        # Tru64's nm complains that /dev/null is an invalid object file
        if ($tmp_nm -B /dev/null 2>&1 | sed '1q'; exit 0) | egrep '(/dev/null|Invalid file or object type)' >/dev/null; then
!         # AIX needs to suppress demangling for C++ to work correctly
!         # AIX nm : The default is to demangle all C++ symbol names
!         # GNU nm : The default is to not demangle low-level symbol names.
!         case $host_os in
!         aix*)
!           # check if we are using GNU nm on AIX
!           if $tmp_nm -V 2> /dev/null | grep GNU 2>&1 > /dev/null
!           then
!             lt_cv_path_NM="$tmp_nm -B"
!           else
!             lt_cv_path_NM="$tmp_nm -BC"
!           fi
!           ;;
!         *)
!           lt_cv_path_NM="$tmp_nm -B"
!           ;;
!         esac
  	break
        elif ($tmp_nm -p /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then
  	lt_cv_path_NM="$tmp_nm -p"
***************
*** 3158,3248 ****
  echo "$as_me:$LINENO: result: $NM" >&5
  echo "${ECHO_T}$NM" >&6
  
- echo "$as_me:$LINENO: checking for a sed that does not truncate output" >&5
- echo $ECHO_N "checking for a sed that does not truncate output... $ECHO_C" >&6
- if test "${lt_cv_path_SED+set}" = set; then
-   echo $ECHO_N "(cached) $ECHO_C" >&6
- else
-   # Loop through the user's path and test for sed and gsed.
- # Then use that list of sed's as ones to test for truncation.
- as_executable_p="test -f"
- as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
- for as_dir in $PATH
- do
-   IFS=$as_save_IFS
-   test -z "$as_dir" && as_dir=.
-   for ac_prog in sed gsed; do
-     for ac_exec_ext in '' $ac_executable_extensions; do
-       if $as_executable_p "$as_dir/$ac_prog$ac_exec_ext"; then
-         _sed_list="$_sed_list $as_dir/$ac_prog$ac_exec_ext"
-       fi
-     done
-   done
- done
- 
-   # Create a temporary directory, and hook for its removal unless debugging.
- $debug ||
- {
-   trap 'exit_status=$?; rm -rf $tmp && exit $exit_status' 0
-   trap '{ (exit 1); exit 1; }' 1 2 13 15
- }
- 
- # Create a (secure) tmp directory for tmp files.
- : ${TMPDIR=/tmp}
- {
-   tmp=`(umask 077 && mktemp -d -q "$TMPDIR/sedXXXXXX") 2>/dev/null` &&
-   test -n "$tmp" && test -d "$tmp"
- }  ||
- {
-   tmp=$TMPDIR/sed$$-$RANDOM
-   (umask 077 && mkdir $tmp)
- } ||
- {
-    echo "$me: cannot create a temporary directory in $TMPDIR" >&2
-    { (exit 1); exit 1; }
- }
-   _max=0
-   _count=0
-   # Add /usr/xpg4/bin/sed as it is typically found on Solaris
-   # along with /bin/sed that truncates output.
-   for _sed in $_sed_list /usr/xpg4/bin/sed; do
-     test ! -f ${_sed} && break
-     cat /dev/null > "$tmp/sed.in"
-     _count=0
-     echo ${ECHO_N-$ac_n} "0123456789${ECHO_C-$ac_c}" >"$tmp/sed.in"
-     # Check for GNU sed and select it if it is found.
-     if "${_sed}" --version 2>&1 < /dev/null | egrep '(GNU)' > /dev/null; then
-       lt_cv_path_SED=${_sed}
-       break
-     fi
-     while true; do
-       cat "$tmp/sed.in" "$tmp/sed.in" >"$tmp/sed.tmp"
-       mv "$tmp/sed.tmp" "$tmp/sed.in"
-       cp "$tmp/sed.in" "$tmp/sed.nl"
-       echo >>"$tmp/sed.nl"
-       ${_sed} -e 's/a$//' < "$tmp/sed.nl" >"$tmp/sed.out" || break
-       cmp -s "$tmp/sed.out" "$tmp/sed.nl" || break
-       # 40000 chars as input seems more than enough
-       test $_count -gt 10 && break
-       _count=`expr $_count + 1`
-       if test $_count -gt $_max; then
-         _max=$_count
-         lt_cv_path_SED=$_sed
-       fi
-     done
-   done
-   rm -rf "$tmp"
- 
- fi
- 
- if test "X$SED" != "X"; then
-   lt_cv_path_SED=$SED
- else
-   SED=$lt_cv_path_SED
- fi
- echo "$as_me:$LINENO: result: $SED" >&5
- echo "${ECHO_T}$SED" >&6
- 
  echo "$as_me:$LINENO: checking whether ln -s works" >&5
  echo $ECHO_N "checking whether ln -s works... $ECHO_C" >&6
  LN_S=$as_ln_s
--- 3348,3353 ----
***************
*** 3254,3261 ****
  echo "${ECHO_T}no, using $LN_S" >&6
  fi
  
! echo "$as_me:$LINENO: checking how to recognise dependent libraries" >&5
! echo $ECHO_N "checking how to recognise dependent libraries... $ECHO_C" >&6
  if test "${lt_cv_deplibs_check_method+set}" = set; then
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
--- 3359,3366 ----
  echo "${ECHO_T}no, using $LN_S" >&6
  fi
  
! echo "$as_me:$LINENO: checking how to recognise dependant libraries" >&5
! echo $ECHO_N "checking how to recognise dependant libraries... $ECHO_C" >&6
  if test "${lt_cv_deplibs_check_method+set}" = set; then
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
***************
*** 3332,3340 ****
    lt_cv_file_magic_test_file=/usr/lib/libc.sl
    ;;
  
! irix5* | irix6* | nonstopux*)
    case $host_os in
!   irix5* | nonstopux*)
      # this will be overridden with pass_all, but let us keep it just in case
      lt_cv_deplibs_check_method="file_magic ELF 32-bit MSB dynamic lib MIPS - version 1"
      ;;
--- 3437,3445 ----
    lt_cv_file_magic_test_file=/usr/lib/libc.sl
    ;;
  
! irix5* | irix6*)
    case $host_os in
!   irix5*)
      # this will be overridden with pass_all, but let us keep it just in case
      lt_cv_deplibs_check_method="file_magic ELF 32-bit MSB dynamic lib MIPS - version 1"
      ;;
***************
*** 3356,3362 ****
  # This must be Linux ELF.
  linux-gnu*)
    case $host_cpu in
!   alpha* | hppa* | i*86 | mips | mipsel | powerpc* | sparc* | ia64* | arm* | m68k)
      lt_cv_deplibs_check_method=pass_all ;;
    *)
      # glibc up to 2.1.1 does not perform some relocations on ARM
--- 3461,3467 ----
  # This must be Linux ELF.
  linux-gnu*)
    case $host_cpu in
!   alpha* | hppa* | i*86 | powerpc* | sparc* | ia64* )
      lt_cv_deplibs_check_method=pass_all ;;
    *)
      # glibc up to 2.1.1 does not perform some relocations on ARM
***************
*** 3427,3435 ****
      lt_cv_deplibs_check_method="file_magic ELF [0-9][0-9]*-bit [LM]SB dynamic lib"
      lt_cv_file_magic_test_file=/lib/libc.so
      ;;
-   siemens)
-     lt_cv_deplibs_check_method=pass_all
-     ;;
    esac
    ;;
  esac
--- 3532,3537 ----
***************
*** 3443,3448 ****
--- 3545,3559 ----
  
  
  
+ # Check whether --with-sandie or --without-sandie was given.
+ if test "${with_sandie+set}" = set; then
+   withval="$with_sandie"
+   compil32_64="$withval"
+ else
+   compil32_64=no
+ fi;
+ 
+ 
  
  
  
***************
*** 3484,3495 ****
    lt_cv_global_symbol_to_cdecl="sed -n -e 's/^T .* \(.*\)$/extern char \1();/p' -e 's/^$symcode* .* \(.*\)$/extern char \1;/p'"
    lt_cv_global_symbol_to_c_name_address="sed -n -e 's/^: \([^ ]*\) $/  {\\\"\1\\\", (lt_ptr) 0},/p' -e 's/^$symcode* \([^ ]*\) \([^ ]*\)$/  {\"\2\", (lt_ptr) \&\2},/p'"
    ;;
! irix* | nonstopux*)
    symcode='[BCDEGRST]'
    ;;
- osf*)
-   symcode='[BCDEGQRST]'
-   ;;
  solaris* | sysv5*)
    symcode='[BDT]'
    ;;
--- 3595,3603 ----
    lt_cv_global_symbol_to_cdecl="sed -n -e 's/^T .* \(.*\)$/extern char \1();/p' -e 's/^$symcode* .* \(.*\)$/extern char \1;/p'"
    lt_cv_global_symbol_to_c_name_address="sed -n -e 's/^: \([^ ]*\) $/  {\\\"\1\\\", (lt_ptr) 0},/p' -e 's/^$symcode* \([^ ]*\) \([^ ]*\)$/  {\"\2\", (lt_ptr) \&\2},/p'"
    ;;
! irix*)
    symcode='[BCDEGRST]'
    ;;
  solaris* | sysv5*)
    symcode='[BDT]'
    ;;
***************
*** 3598,3604 ****
    (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && test -s conftest$ac_exeext; then
  	    pipe_works=yes
  	  fi
  	  LIBS="$save_LIBS"
--- 3706,3712 ----
    (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); } && test -s conftest; then
  	    pipe_works=yes
  	  fi
  	  LIBS="$save_LIBS"
***************
*** 3673,3679 ****
    # On the NeXT, cc -E runs the code through the compiler's parser,
    # not just through cpp. "Syntax error" is here to catch this case.
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 3781,3786 ----
***************
*** 3684,3690 ****
  #else
  # include <assert.h>
  #endif
!                      Syntax error
  _ACEOF
  if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
    (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
--- 3791,3797 ----
  #else
  # include <assert.h>
  #endif
! 		     Syntax error
  _ACEOF
  if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
    (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
***************
*** 3696,3701 ****
--- 3803,3809 ----
    (exit $ac_status); } >/dev/null; then
    if test -s conftest.err; then
      ac_cpp_err=$ac_c_preproc_warn_flag
+     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
    else
      ac_cpp_err=
    fi
***************
*** 3716,3722 ****
    # OK, works on sane cases.  Now check whether non-existent headers
    # can be detected and how.
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 3824,3829 ----
***************
*** 3734,3739 ****
--- 3841,3847 ----
    (exit $ac_status); } >/dev/null; then
    if test -s conftest.err; then
      ac_cpp_err=$ac_c_preproc_warn_flag
+     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
    else
      ac_cpp_err=
    fi
***************
*** 3780,3786 ****
    # On the NeXT, cc -E runs the code through the compiler's parser,
    # not just through cpp. "Syntax error" is here to catch this case.
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 3888,3893 ----
***************
*** 3791,3797 ****
  #else
  # include <assert.h>
  #endif
!                      Syntax error
  _ACEOF
  if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
    (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
--- 3898,3904 ----
  #else
  # include <assert.h>
  #endif
! 		     Syntax error
  _ACEOF
  if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
    (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
***************
*** 3803,3808 ****
--- 3910,3916 ----
    (exit $ac_status); } >/dev/null; then
    if test -s conftest.err; then
      ac_cpp_err=$ac_c_preproc_warn_flag
+     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
    else
      ac_cpp_err=
    fi
***************
*** 3823,3829 ****
    # OK, works on sane cases.  Now check whether non-existent headers
    # can be detected and how.
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 3931,3936 ----
***************
*** 3841,3846 ****
--- 3948,3954 ----
    (exit $ac_status); } >/dev/null; then
    if test -s conftest.err; then
      ac_cpp_err=$ac_c_preproc_warn_flag
+     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
    else
      ac_cpp_err=
    fi
***************
*** 3901,3907 ****
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 4009,4014 ----
***************
*** 3922,3932 ****
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 4029,4049 ----
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 3939,3950 ****
  
  ac_cv_header_stdc=no
  fi
! rm -f conftest.$ac_objext conftest.$ac_ext
  
  if test $ac_cv_header_stdc = yes; then
    # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 4056,4066 ----
  
  ac_cv_header_stdc=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  
  if test $ac_cv_header_stdc = yes; then
    # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
***************
*** 3966,3972 ****
  if test $ac_cv_header_stdc = yes; then
    # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 4082,4087 ----
***************
*** 3991,3997 ****
    :
  else
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 4106,4111 ----
***************
*** 4003,4011 ****
  # define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
  #else
  # define ISLOWER(c) \
!                    (('a' <= (c) && (c) <= 'i') \
!                      || ('j' <= (c) && (c) <= 'r') \
!                      || ('s' <= (c) && (c) <= 'z'))
  # define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))
  #endif
  
--- 4117,4125 ----
  # define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
  #else
  # define ISLOWER(c) \
! 		   (('a' <= (c) && (c) <= 'i') \
! 		     || ('j' <= (c) && (c) <= 'r') \
! 		     || ('s' <= (c) && (c) <= 'z'))
  # define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))
  #endif
  
***************
*** 4016,4022 ****
    int i;
    for (i = 0; i < 256; i++)
      if (XOR (islower (i), ISLOWER (i))
!         || toupper (i) != TOUPPER (i))
        exit(2);
    exit (0);
  }
--- 4130,4136 ----
    int i;
    for (i = 0; i < 256; i++)
      if (XOR (islower (i), ISLOWER (i))
! 	|| toupper (i) != TOUPPER (i))
        exit(2);
    exit (0);
  }
***************
*** 4041,4047 ****
  ( exit $ac_status )
  ac_cv_header_stdc=no
  fi
! rm -f core core.* *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
  fi
  fi
  fi
--- 4155,4161 ----
  ( exit $ac_status )
  ac_cv_header_stdc=no
  fi
! rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
  fi
  fi
  fi
***************
*** 4066,4072 ****
  
  
  for ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \
!                   inttypes.h stdint.h unistd.h
  do
  as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
  echo "$as_me:$LINENO: checking for $ac_header" >&5
--- 4180,4186 ----
  
  
  for ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \
! 		  inttypes.h stdint.h unistd.h
  do
  as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
  echo "$as_me:$LINENO: checking for $ac_header" >&5
***************
*** 4075,4081 ****
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 4189,4194 ----
***************
*** 4087,4097 ****
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 4200,4220 ----
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 4104,4110 ****
  
  eval "$as_ac_Header=no"
  fi
! rm -f conftest.$ac_objext conftest.$ac_ext
  fi
  echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
  echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
--- 4227,4233 ----
  
  eval "$as_ac_Header=no"
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  fi
  echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
  echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
***************
*** 4135,4141 ****
  echo "$as_me:$LINENO: checking $ac_header usability" >&5
  echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6
  cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 4258,4263 ----
***************
*** 4146,4156 ****
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 4268,4288 ----
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 4163,4169 ****
  
  ac_header_compiler=no
  fi
! rm -f conftest.$ac_objext conftest.$ac_ext
  echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
  echo "${ECHO_T}$ac_header_compiler" >&6
  
--- 4295,4301 ----
  
  ac_header_compiler=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
  echo "${ECHO_T}$ac_header_compiler" >&6
  
***************
*** 4171,4177 ****
  echo "$as_me:$LINENO: checking $ac_header presence" >&5
  echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6
  cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 4303,4308 ----
***************
*** 4189,4194 ****
--- 4320,4326 ----
    (exit $ac_status); } >/dev/null; then
    if test -s conftest.err; then
      ac_cpp_err=$ac_c_preproc_warn_flag
+     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
    else
      ac_cpp_err=
    fi
***************
*** 4208,4240 ****
  echo "${ECHO_T}$ac_header_preproc" >&6
  
  # So?  What about this header?
! case $ac_header_compiler:$ac_header_preproc in
!   yes:no )
      { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
  echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
!     { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
! echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
!     (
!       cat <<\_ASBOX
! ## ------------------------------------ ##
! ## Report this to bug-autoconf@gnu.org. ##
! ## ------------------------------------ ##
! _ASBOX
!     ) |
!       sed "s/^/$as_me: WARNING:     /" >&2
      ;;
!   no:yes )
      { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
  echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
!     { echo "$as_me:$LINENO: WARNING: $ac_header: check for missing prerequisite headers?" >&5
! echo "$as_me: WARNING: $ac_header: check for missing prerequisite headers?" >&2;}
      { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
  echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
      (
        cat <<\_ASBOX
! ## ------------------------------------ ##
! ## Report this to bug-autoconf@gnu.org. ##
! ## ------------------------------------ ##
  _ASBOX
      ) |
        sed "s/^/$as_me: WARNING:     /" >&2
--- 4340,4371 ----
  echo "${ECHO_T}$ac_header_preproc" >&6
  
  # So?  What about this header?
! case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
!   yes:no: )
      { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
  echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
!     { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
! echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
!     ac_header_preproc=yes
      ;;
!   no:yes:* )
      { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
  echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
!     { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
! echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
!     { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
! echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
!     { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
! echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
      { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
  echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+     { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+ echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
      (
        cat <<\_ASBOX
! ## ------------------------------------------ ##
! ## Report this to the AC_PACKAGE_NAME lists.  ##
! ## ------------------------------------------ ##
  _ASBOX
      ) |
        sed "s/^/$as_me: WARNING:     /" >&2
***************
*** 4245,4251 ****
  if eval "test \"\${$as_ac_Header+set}\" = set"; then
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
!   eval "$as_ac_Header=$ac_header_preproc"
  fi
  echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
  echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
--- 4376,4382 ----
  if eval "test \"\${$as_ac_Header+set}\" = set"; then
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
!   eval "$as_ac_Header=\$ac_header_preproc"
  fi
  echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
  echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
***************
*** 4264,4270 ****
  
  
  
- 
  # Only perform the check for file, if the check method requires it
  case $deplibs_check_method in
  file_magic*)
--- 4395,4400 ----
***************
*** 4580,4586 ****
  case $host in
  *-*-irix6*)
    # Find out which ABI we are using.
!   echo '#line 4583 "configure"' > conftest.$ac_ext
    if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
    (eval $ac_compile) 2>&5
    ac_status=$?
--- 4710,4716 ----
  case $host in
  *-*-irix6*)
    # Find out which ABI we are using.
!   echo '#line 4713 "configure"' > conftest.$ac_ext
    if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
    (eval $ac_compile) 2>&5
    ac_status=$?
***************
*** 4619,4625 ****
  ac_compiler_gnu=$ac_cv_c_compiler_gnu
  
       cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 4749,4754 ----
***************
*** 4636,4646 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 4765,4785 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 4653,4659 ****
  
  lt_cv_cc_needs_belf=no
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
       ac_ext=c
  ac_cpp='$CPP $CPPFLAGS'
  ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
--- 4792,4799 ----
  
  lt_cv_cc_needs_belf=no
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
       ac_ext=c
  ac_cpp='$CPP $CPPFLAGS'
  ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
***************
*** 4822,4828 ****
        # like `-m68040'.
        lt_cv_prog_cc_pic='-m68020 -resident32 -malways-restore-a4'
        ;;
!     beos* | irix5* | irix6* | nonstopux* | osf3* | osf4* | osf5*)
        # PIC is the default for these OSes.
        ;;
      darwin* | rhapsody*)
--- 4962,4968 ----
        # like `-m68040'.
        lt_cv_prog_cc_pic='-m68020 -resident32 -malways-restore-a4'
        ;;
!     beos* | irix5* | irix6* | osf3* | osf4* | osf5*)
        # PIC is the default for these OSes.
        ;;
      darwin* | rhapsody*)
***************
*** 4865,4871 ****
        lt_cv_prog_cc_pic='+Z'
        ;;
  
!     irix5* | irix6* | nonstopux*)
        lt_cv_prog_cc_wl='-Wl,'
        lt_cv_prog_cc_static='-non_shared'
        # PIC (with -KPIC) is the default.
--- 5005,5011 ----
        lt_cv_prog_cc_pic='+Z'
        ;;
  
!     irix5* | irix6*)
        lt_cv_prog_cc_wl='-Wl,'
        lt_cv_prog_cc_static='-non_shared'
        # PIC (with -KPIC) is the default.
***************
*** 4909,4915 ****
      sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
        lt_cv_prog_cc_pic='-KPIC'
        lt_cv_prog_cc_static='-Bstatic'
!       lt_cv_prog_cc_wl='-Wl,'
        ;;
  
      uts4*)
--- 5049,5059 ----
      sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)
        lt_cv_prog_cc_pic='-KPIC'
        lt_cv_prog_cc_static='-Bstatic'
!       if test "x$host_vendor" = xsni; then
! 	lt_cv_prog_cc_wl='-LD'
!       else
! 	lt_cv_prog_cc_wl='-Wl,'
!       fi
        ;;
  
      uts4*)
***************
*** 4948,4954 ****
        save_CFLAGS="$CFLAGS"
      CFLAGS="$CFLAGS $lt_cv_prog_cc_pic -DPIC"
      cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 5092,5097 ----
***************
*** 4965,4975 ****
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 5108,5128 ----
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 4998,5004 ****
        lt_cv_prog_cc_pic_works=no
  
  fi
! rm -f conftest.$ac_objext conftest.$ac_ext
      CFLAGS="$save_CFLAGS"
  
  fi
--- 5151,5157 ----
        lt_cv_prog_cc_pic_works=no
  
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
      CFLAGS="$save_CFLAGS"
  
  fi
***************
*** 5036,5042 ****
    save_LDFLAGS="$LDFLAGS"
    LDFLAGS="$LDFLAGS $lt_cv_prog_cc_static"
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 5189,5194 ----
***************
*** 5053,5063 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 5205,5225 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 5069,5075 ****
  sed 's/^/| /' conftest.$ac_ext >&5
  
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
    LDFLAGS="$save_LDFLAGS"
  
  fi
--- 5231,5238 ----
  sed 's/^/| /' conftest.$ac_ext >&5
  
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
    LDFLAGS="$save_LDFLAGS"
  
  fi
***************
*** 5109,5115 ****
  save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS -o out/conftest2.$ac_objext"
  compiler_c_o=no
! if { (eval echo configure:5112: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>out/conftest.err; } && test -s out/conftest2.$ac_objext; then
    # The compiler can only warn and ignore the option if not recognized
    # So say no if there are warnings
    if test -s out/conftest.err; then
--- 5272,5278 ----
  save_CFLAGS="$CFLAGS"
  CFLAGS="$CFLAGS -o out/conftest2.$ac_objext"
  compiler_c_o=no
! if { (eval echo configure:5275: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>out/conftest.err; } && test -s out/conftest2.$ac_objext; then
    # The compiler can only warn and ignore the option if not recognized
    # So say no if there are warnings
    if test -s out/conftest.err; then
***************
*** 5150,5156 ****
    save_objext="$ac_objext"
    ac_objext=lo
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 5313,5318 ----
***************
*** 5167,5177 ****
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 5329,5349 ----
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 5190,5196 ****
  sed 's/^/| /' conftest.$ac_ext >&5
  
  fi
! rm -f conftest.$ac_objext conftest.$ac_ext
    ac_objext="$save_objext"
    CFLAGS="$save_CFLAGS"
  
--- 5362,5368 ----
  sed 's/^/| /' conftest.$ac_ext >&5
  
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
    ac_objext="$save_objext"
    CFLAGS="$save_CFLAGS"
  
***************
*** 5235,5241 ****
    CFLAGS="$CFLAGS -fno-rtti -fno-exceptions -c conftest.$ac_ext"
    compiler_rtti_exceptions=no
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 5407,5412 ----
***************
*** 5252,5262 ****
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 5423,5443 ----
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 5275,5281 ****
  sed 's/^/| /' conftest.$ac_ext >&5
  
  fi
! rm -f conftest.$ac_objext conftest.$ac_ext
    CFLAGS="$save_CFLAGS"
    echo "$as_me:$LINENO: result: $compiler_rtti_exceptions" >&5
  echo "${ECHO_T}$compiler_rtti_exceptions" >&6
--- 5456,5462 ----
  sed 's/^/| /' conftest.$ac_ext >&5
  
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
    CFLAGS="$save_CFLAGS"
    echo "$as_me:$LINENO: result: $compiler_rtti_exceptions" >&5
  echo "${ECHO_T}$compiler_rtti_exceptions" >&6
***************
*** 5302,5307 ****
--- 5483,5489 ----
  old_archive_from_new_cmds=
  old_archive_from_expsyms_cmds=
  export_dynamic_flag_spec=
+ use_runtimelinking=
  whole_archive_flag_spec=
  thread_safe_flag_spec=
  hardcode_into_libs=no
***************
*** 5314,5319 ****
--- 5496,5503 ----
  link_all_deplibs=unknown
  always_export_symbols=no
  export_symbols_cmds='$NM $libobjs $convenience | $global_symbol_pipe | sed '\''s/.* //'\'' | sort | uniq > $export_symbols'
+ export_symbols_cmds32='$NM32 $libobjs32 $convenience | $global_symbol_pipe | sed '\''s/.* //'\'' | sort | uniq > $export_symbols32'
+ export_symbols_cmds64='$NM64 $libobjs64 $convenience | $global_symbol_pipe | sed '\''s/.* //'\'' | sort | uniq > $export_symbols64'
  # include_expsyms should be a list of space-separated symbols to be *always*
  # included in the symbol list
  include_expsyms=
***************
*** 5445,5451 ****
      # If the export-symbols file already is a .def file (1st line
      # is EXPORTS), use it as is.
      # If DATA tags from a recent dlltool are present, honour them!
!     archive_expsym_cmds='if test "x`sed 1q $export_symbols`" = xEXPORTS; then
  	cp $export_symbols $output_objdir/$soname-def;
        else
  	echo EXPORTS > $output_objdir/$soname-def;
--- 5629,5635 ----
      # If the export-symbols file already is a .def file (1st line
      # is EXPORTS), use it as is.
      # If DATA tags from a recent dlltool are present, honour them!
!     archive_expsym_cmds='if test "x`head -1 $export_symbols`" = xEXPORTS; then
  	cp $export_symbols $output_objdir/$soname-def;
        else
  	echo EXPORTS > $output_objdir/$soname-def;
***************
*** 5454,5460 ****
  	 set dummy \$symbol;
  	 case \$# in
  	   2) echo "   \$2 @ \$_lt_hint ; " >> $output_objdir/$soname-def;;
- 	   4) echo "   \$2 \$3 \$4 ; " >> $output_objdir/$soname-def; _lt_hint=`expr \$_lt_hint - 1`;;
  	   *) echo "     \$2 @ \$_lt_hint \$3 ; " >> $output_objdir/$soname-def;;
  	 esac;
  	 _lt_hint=`expr 1 + \$_lt_hint`;
--- 5638,5643 ----
***************
*** 5559,5583 ****
        aix_use_runtimelinking=no
        exp_sym_flag='-Bexport'
        no_entry_flag=""
      else
!       aix_use_runtimelinking=no
! 
!       # Test if we are trying to use run time linking or normal
!       # AIX style linking. If -brtl is somewhere in LDFLAGS, we
!       # need to do runtime linking.
!       case $host_os in aix4.[23]|aix4.[23].*|aix5*)
! 	for ld_flag in $LDFLAGS; do
! 	  case $ld_flag in
! 	  *-brtl*)
! 	    aix_use_runtimelinking=yes
! 	    break
! 	  ;;
! 	  esac
! 	done
!       esac
! 
        exp_sym_flag='-bexport'
        no_entry_flag='-bnoentry'
      fi
  
      # When large executables or shared objects are built, AIX ld can
--- 5742,5753 ----
        aix_use_runtimelinking=no
        exp_sym_flag='-Bexport'
        no_entry_flag=""
+       use_runtimelinking=""
      else
!       aix_use_runtimelinking=yes
        exp_sym_flag='-bexport'
        no_entry_flag='-bnoentry'
+       use_runtimelinking='-brtl'
      fi
  
      # When large executables or shared objects are built, AIX ld can
***************
*** 5612,5626 ****
        shared_flag='-shared'
      else
        # not using gcc
!       if test "$host_cpu" = ia64; then
! 	shared_flag='${wl}-G'
!       else
! 	if test "$aix_use_runtimelinking" = yes; then
! 	  shared_flag='${wl}-G'
! 	else
! 	  shared_flag='${wl}-bM:SRE'
! 	fi
!       fi
      fi
  
      # It seems that -bexpall can do strange things, so it is better to
--- 5782,5788 ----
        shared_flag='-shared'
      else
        # not using gcc
!       shared_flag='${wl}-G'
      fi
  
      # It seems that -bexpall can do strange things, so it is better to
***************
*** 5630,5637 ****
        # Warning - without using the other runtime loading flags (-brtl),
        # -berok will link without error, but may produce a broken library.
        allow_undefined_flag='-berok'
!       hardcode_libdir_flag_spec='${wl}-blibpath:$libdir:/usr/lib:/lib'
!       archive_expsym_cmds="\$CC"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags `if test "x${allow_undefined_flag}" != "x"; then echo "${wl}${allow_undefined_flag}"; else :; fi` '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols $shared_flag"
      else
        if test "$host_cpu" = ia64; then
  	hardcode_libdir_flag_spec='${wl}-R $libdir:/usr/lib:/lib'
--- 5792,5802 ----
        # Warning - without using the other runtime loading flags (-brtl),
        # -berok will link without error, but may produce a broken library.
        allow_undefined_flag='-berok'
!       hardcode_libdir_flag_spec='${wl}-bnolibpath ${wl}-blibpath:$libdir:/usr/lib:/lib'
!       archive_expsym_cmds="\$CC $shared_flag"' -o $output_objdir/$soname $libobjs $deplibs $compiler_flags ${allow_undefined_flag} '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols"' ~$AR -crlo $output_objdir/$libname$release.a $output_objdir/$soname'
!       archive_expsym_cmds32="\$CC -q32 $shared_flag"' -o $output_objdir/32/$soname $libobjs32 $deplibs $compiler_flags ${allow_undefined_flag} '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols32"
!       archive_expsym_cmds64="\$CC -q64 $shared_flag"' -o $output_objdir/64/$soname $libobjs64 $deplibs $compiler_flags ${allow_undefined_flag} '"\${wl}$no_entry_flag \${wl}$exp_sym_flag:\$export_symbols64"
!       archive_expsym_cmds3264='$AR -X32_64 -crlo $output_objdir/$libname$release.a $output_objdir/32/$soname $output_objdir/64/$soname'
      else
        if test "$host_cpu" = ia64; then
  	hardcode_libdir_flag_spec='${wl}-R $libdir:/usr/lib:/lib'
***************
*** 5686,5694 ****
      esac
      # FIXME: Relying on posixy $() will cause problems for
      #        cross-compilation, but unfortunately the echo tests do not
!     #        yet detect zsh echo's removal of \ escapes.  Also zsh mangles
!     #	     `"' quotes if we put them in here... so don't!
!     archive_cmds='$CC -r -keep_private_externs -nostdlib -o ${lib}-master.o $libobjs && $CC $(test .$module = .yes && echo -bundle || echo -dynamiclib) $allow_undefined_flag -o $lib ${lib}-master.o $deplibs$linker_flags $(test .$module != .yes && echo -install_name $rpath/$soname $verstring)'
      # We need to add '_' to the symbols in $export_symbols first
      #archive_expsym_cmds="$archive_cmds"' && strip -s $export_symbols'
      hardcode_direct=yes
--- 5851,5858 ----
      esac
      # FIXME: Relying on posixy $() will cause problems for
      #        cross-compilation, but unfortunately the echo tests do not
!     #        yet detect zsh echo's removal of \ escapes.
!     archive_cmds='$nonopt $(test "x$module" = xyes && echo -bundle || echo -dynamiclib) $allow_undefined_flag -o $lib $libobjs $deplibs$linker_flags -install_name $rpath/$soname $verstring'
      # We need to add '_' to the symbols in $export_symbols first
      #archive_expsym_cmds="$archive_cmds"' && strip -s $export_symbols'
      hardcode_direct=yes
***************
*** 5740,5753 ****
      export_dynamic_flag_spec='${wl}-E'
      ;;
  
!   irix5* | irix6* | nonstopux*)
      if test "$GCC" = yes; then
        archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname ${wl}$soname `test -n "$verstring" && echo ${wl}-set_version ${wl}$verstring` ${wl}-update_registry ${wl}${output_objdir}/so_locations -o $lib'
-       hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'
      else
        archive_cmds='$LD -shared $libobjs $deplibs $linker_flags -soname $soname `test -n "$verstring" && echo -set_version $verstring` -update_registry ${output_objdir}/so_locations -o $lib'
-       hardcode_libdir_flag_spec='-rpath $libdir'
      fi
      hardcode_libdir_separator=:
      link_all_deplibs=yes
      ;;
--- 5904,5916 ----
      export_dynamic_flag_spec='${wl}-E'
      ;;
  
!   irix5* | irix6*)
      if test "$GCC" = yes; then
        archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname ${wl}$soname `test -n "$verstring" && echo ${wl}-set_version ${wl}$verstring` ${wl}-update_registry ${wl}${output_objdir}/so_locations -o $lib'
      else
        archive_cmds='$LD -shared $libobjs $deplibs $linker_flags -soname $soname `test -n "$verstring" && echo -set_version $verstring` -update_registry ${output_objdir}/so_locations -o $lib'
      fi
+     hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'
      hardcode_libdir_separator=:
      link_all_deplibs=yes
      ;;
***************
*** 5775,5781 ****
      hardcode_direct=yes
      hardcode_shlibpath_var=no
      if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
!       archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
        hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
        export_dynamic_flag_spec='${wl}-E'
      else
--- 5938,5944 ----
      hardcode_direct=yes
      hardcode_shlibpath_var=no
      if test -z "`echo __ELF__ | $CC -E - | grep __ELF__`" || test "$host_os-$host_cpu" = "openbsd2.8-powerpc"; then
!       archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $linker_flags'
        hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
        export_dynamic_flag_spec='${wl}-E'
      else
***************
*** 5785,5791 ****
  	hardcode_libdir_flag_spec='-R$libdir'
          ;;
        *)
!         archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'
          hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
          ;;
        esac
--- 5948,5954 ----
  	hardcode_libdir_flag_spec='-R$libdir'
          ;;
        *)
!         archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $linker_flags'
          hardcode_libdir_flag_spec='${wl}-rpath,$libdir'
          ;;
        esac
***************
*** 5897,5919 ****
      ;;
  
    sysv4)
!     case $host_vendor in
!       sni)
!         archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
!         hardcode_direct=yes # is this really true???
!         ;;
!       siemens)
!         ## LD is ld it makes a PLAMLIB
!         ## CC just makes a GrossModule.
!         archive_cmds='$LD -G -o $lib $libobjs $deplibs $linker_flags'
!         reload_cmds='$CC -r -o $output$reload_objs'
!         hardcode_direct=no
!         ;;
!       motorola)
!         archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
!         hardcode_direct=no #Motorola manual says yes, but my tests say they lie
!         ;;
!     esac
      runpath_var='LD_RUN_PATH'
      hardcode_shlibpath_var=no
      ;;
--- 6060,6072 ----
      ;;
  
    sysv4)
!     if test "x$host_vendor" = xsno; then
!       archive_cmds='$LD -G -Bsymbolic -h $soname -o $lib $libobjs $deplibs $linker_flags'
!       hardcode_direct=yes # is this really true???
!     else
!       archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'
!       hardcode_direct=no #Motorola manual says yes, but my tests say they lie
!     fi
      runpath_var='LD_RUN_PATH'
      hardcode_shlibpath_var=no
      ;;
***************
*** 6061,6069 ****
  
  aix4* | aix5*)
    version_type=linux
-   need_lib_prefix=no
-   need_version=no
-   hardcode_into_libs=yes
    if test "$host_cpu" = ia64; then
      # AIX 5 supports IA64
      library_names_spec='${libname}${release}.so$major ${libname}${release}.so$versuffix $libname.so'
--- 6214,6219 ----
***************
*** 6085,6108 ****
  	fi
  	;;
      esac
!     # AIX (on Power*) has no versioning support, so currently we can
!     # not hardcode correct soname into executable. Probably we can
!     # add versioning support to collect2, so additional links can
!     # be useful in future.
!     if test "$aix_use_runtimelinking" = yes; then
!       # If using run time linking (on AIX 4.2 or later) use lib<name>.so
!       # instead of lib<name>.a to let people know that these are not
!       # typical AIX shared libraries.
!       library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
!     else
!       # We preserve .a as extension for shared libraries through AIX4.2
!       # and later when we are not doing run time linking.
!       library_names_spec='${libname}${release}.a $libname.a'
!       soname_spec='${libname}${release}.so$major'
!     fi
      shlibpath_var=LIBPATH
    fi
-   hardcode_into_libs=yes
    ;;
  
  amigaos*)
--- 6235,6246 ----
  	fi
  	;;
      esac
!     # We preserve .a as extension for shared libraries through AIX4.2
!     library_names_spec='${libname}${release}.a $libname.a'
!     soname_spec='${libname}${release}.so$major'
      shlibpath_var=LIBPATH
+     hardcode_into_libs=yes
    fi
    ;;
  
  amigaos*)
***************
*** 6150,6156 ****
      ;;
    yes,mingw*)
      library_names_spec='${libname}`echo ${release} | sed -e 's/[.]/-/g'`${versuffix}.dll'
!     sys_lib_search_path_spec=`$CC -print-search-dirs | grep "^libraries:" | sed -e "s/^libraries://" -e "s/;/ /g" -e "s,=/,/,g"`
      ;;
    yes,pw32*)
      library_names_spec='`echo ${libname} | sed -e 's/^lib/pw/'``echo ${release} | sed -e 's/./-/g'`${versuffix}.dll'
--- 6288,6294 ----
      ;;
    yes,mingw*)
      library_names_spec='${libname}`echo ${release} | sed -e 's/[.]/-/g'`${versuffix}.dll'
!     sys_lib_search_path_spec=`$CC -print-search-dirs | grep "^libraries:" | sed -e "s/^libraries://" -e "s/;/ /g"`
      ;;
    yes,pw32*)
      library_names_spec='`echo ${libname} | sed -e 's/^lib/pw/'``echo ${release} | sed -e 's/./-/g'`${versuffix}.dll'
***************
*** 6182,6199 ****
    dynamic_linker=no
    ;;
  
- freebsd*-gnu*)
-   version_type=linux
-   need_lib_prefix=no
-   need_version=no
-   library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
-   soname_spec='${libname}${release}.so$major'
-   shlibpath_var=LD_LIBRARY_PATH
-   shlibpath_overrides_runpath=no
-   hardcode_into_libs=yes
-   dynamic_linker='GNU/FreeBSD ld.so'
-   ;;
- 
  freebsd*)
    objformat=`test -x /usr/bin/objformat && /usr/bin/objformat || echo aout`
    version_type=freebsd-$objformat
--- 6320,6325 ----
***************
*** 6245,6261 ****
    postinstall_cmds='chmod 555 $lib'
    ;;
  
! irix5* | irix6* | nonstopux*)
!   case $host_os in
!     nonstopux*) version_type=nonstopux ;;
!     *)          version_type=irix ;;
!   esac
    need_lib_prefix=no
    need_version=no
    soname_spec='${libname}${release}.so$major'
    library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major ${libname}${release}.so $libname.so'
    case $host_os in
!   irix5* | nonstopux*)
      libsuff= shlibsuff=
      ;;
    *)
--- 6371,6384 ----
    postinstall_cmds='chmod 555 $lib'
    ;;
  
! irix5* | irix6*)
!   version_type=irix
    need_lib_prefix=no
    need_version=no
    soname_spec='${libname}${release}.so$major'
    library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major ${libname}${release}.so $libname.so'
    case $host_os in
!   irix5*)
      libsuff= shlibsuff=
      ;;
    *)
***************
*** 6359,6371 ****
  osf3* | osf4* | osf5*)
    version_type=osf
    need_version=no
!   need_lib_prefix=no
!   soname_spec='${libname}${release}.so$major'
!   library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
    shlibpath_var=LD_LIBRARY_PATH
    sys_lib_search_path_spec="/usr/shlib /usr/ccs/lib /usr/lib/cmplrs/cc /usr/lib /usr/local/lib /var/shlib"
    sys_lib_dlsearch_path_spec="$sys_lib_search_path_spec"
-   hardcode_into_libs=yes
    ;;
  
  sco3.2v5*)
--- 6482,6492 ----
  osf3* | osf4* | osf5*)
    version_type=osf
    need_version=no
!   soname_spec='${libname}${release}.so'
!   library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so $libname.so'
    shlibpath_var=LD_LIBRARY_PATH
    sys_lib_search_path_spec="/usr/shlib /usr/ccs/lib /usr/lib/cmplrs/cc /usr/lib /usr/local/lib /var/shlib"
    sys_lib_dlsearch_path_spec="$sys_lib_search_path_spec"
    ;;
  
  sco3.2v5*)
***************
*** 6408,6419 ****
    case $host_vendor in
      sni)
        shlibpath_overrides_runpath=no
-       need_lib_prefix=no
-       export_dynamic_flag_spec='${wl}-Blargedynsym'
-       runpath_var=LD_RUN_PATH
-       ;;
-     siemens)
-       need_lib_prefix=no
        ;;
      motorola)
        need_lib_prefix=no
--- 6529,6534 ----
***************
*** 6478,6485 ****
    fi
    ;;
  
! aix4*)
!   if test "$host_cpu" != ia64 && test "$aix_use_runtimelinking" = no ; then
      test "$enable_shared" = yes && enable_static=no
    fi
    ;;
--- 6593,6600 ----
    fi
    ;;
  
! aix4* | aix5*)
!   if test "$host_cpu" != ia64 ; then
      test "$enable_shared" = yes && enable_static=no
    fi
    ;;
***************
*** 6535,6555 ****
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char shl_load (); below.
      Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
      <limits.h> exists even on freestanding compilers.  */
  #ifdef __STDC__
  # include <limits.h>
  #else
  # include <assert.h>
  #endif
  /* Override any gcc2 internal prototype to avoid an error.  */
  #ifdef __cplusplus
  extern "C"
--- 6650,6677 ----
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
+ /* Define shl_load to an innocuous variant, in case <limits.h> declares shl_load.
+    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+ #define shl_load innocuous_shl_load
+ 
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char shl_load (); below.
      Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
      <limits.h> exists even on freestanding compilers.  */
+ 
  #ifdef __STDC__
  # include <limits.h>
  #else
  # include <assert.h>
  #endif
+ 
+ #undef shl_load
+ 
  /* Override any gcc2 internal prototype to avoid an error.  */
  #ifdef __cplusplus
  extern "C"
***************
*** 6580,6590 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 6702,6722 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 6597,6603 ****
  
  ac_cv_func_shl_load=no
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  fi
  echo "$as_me:$LINENO: result: $ac_cv_func_shl_load" >&5
  echo "${ECHO_T}$ac_cv_func_shl_load" >&6
--- 6729,6736 ----
  
  ac_cv_func_shl_load=no
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  fi
  echo "$as_me:$LINENO: result: $ac_cv_func_shl_load" >&5
  echo "${ECHO_T}$ac_cv_func_shl_load" >&6
***************
*** 6612,6618 ****
    ac_check_lib_save_LIBS=$LIBS
  LIBS="-ldld  $LIBS"
  cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 6745,6750 ----
***************
*** 6636,6646 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 6768,6788 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 6653,6659 ****
  
  ac_cv_lib_dld_shl_load=no
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_dld_shl_load" >&5
--- 6795,6802 ----
  
  ac_cv_lib_dld_shl_load=no
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_dld_shl_load" >&5
***************
*** 6667,6687 ****
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char dlopen (); below.
      Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
      <limits.h> exists even on freestanding compilers.  */
  #ifdef __STDC__
  # include <limits.h>
  #else
  # include <assert.h>
  #endif
  /* Override any gcc2 internal prototype to avoid an error.  */
  #ifdef __cplusplus
  extern "C"
--- 6810,6837 ----
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
+ /* Define dlopen to an innocuous variant, in case <limits.h> declares dlopen.
+    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+ #define dlopen innocuous_dlopen
+ 
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char dlopen (); below.
      Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
      <limits.h> exists even on freestanding compilers.  */
+ 
  #ifdef __STDC__
  # include <limits.h>
  #else
  # include <assert.h>
  #endif
+ 
+ #undef dlopen
+ 
  /* Override any gcc2 internal prototype to avoid an error.  */
  #ifdef __cplusplus
  extern "C"
***************
*** 6712,6722 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 6862,6882 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 6729,6735 ****
  
  ac_cv_func_dlopen=no
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  fi
  echo "$as_me:$LINENO: result: $ac_cv_func_dlopen" >&5
  echo "${ECHO_T}$ac_cv_func_dlopen" >&6
--- 6889,6896 ----
  
  ac_cv_func_dlopen=no
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  fi
  echo "$as_me:$LINENO: result: $ac_cv_func_dlopen" >&5
  echo "${ECHO_T}$ac_cv_func_dlopen" >&6
***************
*** 6744,6750 ****
    ac_check_lib_save_LIBS=$LIBS
  LIBS="-ldl  $LIBS"
  cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 6905,6910 ----
***************
*** 6768,6778 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 6928,6948 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 6785,6791 ****
  
  ac_cv_lib_dl_dlopen=no
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_dl_dlopen" >&5
--- 6955,6962 ----
  
  ac_cv_lib_dl_dlopen=no
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_dl_dlopen" >&5
***************
*** 6801,6807 ****
    ac_check_lib_save_LIBS=$LIBS
  LIBS="-lsvld  $LIBS"
  cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 6972,6977 ----
***************
*** 6825,6835 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 6995,7015 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 6842,6848 ****
  
  ac_cv_lib_svld_dlopen=no
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_svld_dlopen" >&5
--- 7022,7029 ----
  
  ac_cv_lib_svld_dlopen=no
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_svld_dlopen" >&5
***************
*** 6858,6864 ****
    ac_check_lib_save_LIBS=$LIBS
  LIBS="-ldld  $LIBS"
  cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 7039,7044 ----
***************
*** 6882,6892 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 7062,7082 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 6899,6905 ****
  
  ac_cv_lib_dld_dld_link=no
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_dld_dld_link" >&5
--- 7089,7096 ----
  
  ac_cv_lib_dld_dld_link=no
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_dld_dld_link" >&5
***************
*** 6954,6960 ****
      lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
    lt_status=$lt_dlunknown
    cat > conftest.$ac_ext <<EOF
! #line 6957 "configure"
  #include "confdefs.h"
  
  #if HAVE_DLFCN_H
--- 7145,7151 ----
      lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
    lt_status=$lt_dlunknown
    cat > conftest.$ac_ext <<EOF
! #line 7148 "configure"
  #include "confdefs.h"
  
  #if HAVE_DLFCN_H
***************
*** 7052,7058 ****
      lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
    lt_status=$lt_dlunknown
    cat > conftest.$ac_ext <<EOF
! #line 7055 "configure"
  #include "confdefs.h"
  
  #if HAVE_DLFCN_H
--- 7243,7249 ----
      lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
    lt_status=$lt_dlunknown
    cat > conftest.$ac_ext <<EOF
! #line 7246 "configure"
  #include "confdefs.h"
  
  #if HAVE_DLFCN_H
***************
*** 7228,7250 ****
  
  if test -f "$ltmain"; then
    trap "$rm \"${ofile}T\"; exit 1" 1 2 15
!   $rm -f "${ofile}T"
  
    echo creating $ofile
  
    # Now quote all the things that may contain metacharacters while being
    # careful not to overquote the AC_SUBSTed values.  We take copies of the
    # variables and quote the copies for generation of the libtool script.
!   for var in echo old_CC old_CFLAGS SED \
      AR AR_FLAGS CC LD LN_S NM SHELL \
      reload_flag reload_cmds wl \
      pic_flag link_static_flag no_builtin_flag export_dynamic_flag_spec \
      thread_safe_flag_spec whole_archive_flag_spec libname_spec \
      library_names_spec soname_spec \
      RANLIB old_archive_cmds old_archive_from_new_cmds old_postinstall_cmds \
!     old_postuninstall_cmds archive_cmds archive_expsym_cmds postinstall_cmds \
      postuninstall_cmds extract_expsyms_cmds old_archive_from_expsyms_cmds \
!     old_striplib striplib file_magic_cmd export_symbols_cmds \
      deplibs_check_method allow_undefined_flag no_undefined_flag \
      finish_cmds finish_eval global_symbol_pipe global_symbol_to_cdecl \
      global_symbol_to_c_name_address \
--- 7419,7444 ----
  
  if test -f "$ltmain"; then
    trap "$rm \"${ofile}T\"; exit 1" 1 2 15
!     AR AR_FLAGS CC LD LN_S NM SHELL \
  
    echo creating $ofile
  
    # Now quote all the things that may contain metacharacters while being
    # careful not to overquote the AC_SUBSTed values.  We take copies of the
    # variables and quote the copies for generation of the libtool script.
!   for var in echo old_CC old_CFLAGS \
      AR AR_FLAGS CC LD LN_S NM SHELL \
      reload_flag reload_cmds wl \
      pic_flag link_static_flag no_builtin_flag export_dynamic_flag_spec \
+     use_runtimelinking \
      thread_safe_flag_spec whole_archive_flag_spec libname_spec \
      library_names_spec soname_spec \
      RANLIB old_archive_cmds old_archive_from_new_cmds old_postinstall_cmds \
!     old_postuninstall_cmds archive_cmds archive_expsym_cmds archive_expsym_cmds32 \
!     archive_expsym_cmds64 archive_expsym_cmds3264 postinstall_cmds \
      postuninstall_cmds extract_expsyms_cmds old_archive_from_expsyms_cmds \
!     old_striplib striplib file_magic_cmd export_symbols_cmds export_symbols_cmds32 \
!     export_symbols_cmds64 \
      deplibs_check_method allow_undefined_flag no_undefined_flag \
      finish_cmds finish_eval global_symbol_pipe global_symbol_to_cdecl \
      global_symbol_to_c_name_address \
***************
*** 7255,7261 ****
      case $var in
      reload_cmds | old_archive_cmds | old_archive_from_new_cmds | \
      old_postinstall_cmds | old_postuninstall_cmds | \
!     export_symbols_cmds | archive_cmds | archive_expsym_cmds | \
      extract_expsyms_cmds | old_archive_from_expsyms_cmds | \
      postinstall_cmds | postuninstall_cmds | \
      finish_cmds | sys_lib_search_path_spec | sys_lib_dlsearch_path_spec)
--- 7449,7456 ----
      case $var in
      reload_cmds | old_archive_cmds | old_archive_from_new_cmds | \
      old_postinstall_cmds | old_postuninstall_cmds | \
!     export_symbols_cmds | export_symbols_cmds32 | export_symbols_cmds64 | \
!     archive_cmds | archive_expsym_cmds | \
      extract_expsyms_cmds | old_archive_from_expsyms_cmds | \
      postinstall_cmds | postuninstall_cmds | \
      finish_cmds | sys_lib_search_path_spec | sys_lib_dlsearch_path_spec)
***************
*** 7297,7307 ****
  # configuration script generated by Autoconf, you may include it under
  # the same distribution terms that you use for the rest of that program.
  
- # A sed that does not truncate output.
- SED=$lt_SED
- 
  # Sed that helps us avoid accidentally triggering echo(1) options like -n.
! Xsed="${SED} -e s/^X//"
  
  # The HP-UX ksh and POSIX shell print the target directory to stdout
  # if CDPATH is set.
--- 7492,7499 ----
  # configuration script generated by Autoconf, you may include it under
  # the same distribution terms that you use for the rest of that program.
  
  # Sed that helps us avoid accidentally triggering echo(1) options like -n.
! Xsed="sed -e s/^X//"
  
  # The HP-UX ksh and POSIX shell print the target directory to stdout
  # if CDPATH is set.
***************
*** 7351,7356 ****
--- 7543,7550 ----
  
  # A BSD-compatible nm program.
  NM=$lt_NM
+ NM32="$NM -X32"
+ NM64="$NM -X64"
  
  # A symbol stripping program
  STRIP=$STRIP
***************
*** 7390,7395 ****
--- 7584,7592 ----
  pic_flag=$lt_pic_flag
  pic_mode=$pic_mode
  
+ # Test if we must compil libraries with 32 and 64 bit members
+ compil32_64=$compil32_64
+ 
  # Does compiler simultaneously support -c and -o options?
  compiler_c_o=$lt_compiler_c_o
  
***************
*** 7423,7428 ****
--- 7620,7628 ----
  # Compiler flag to allow reflexive dlopens.
  export_dynamic_flag_spec=$lt_export_dynamic_flag_spec
  
+ # Compiler flag to allow runtime linking
+ use_runtimelinking=$lt_use_runtimelinking
+ 
  # Compiler flag to generate shared objects directly from archives.
  whole_archive_flag_spec=$lt_whole_archive_flag_spec
  
***************
*** 7457,7462 ****
--- 7657,7665 ----
  # Commands used to build and install a shared archive.
  archive_cmds=$lt_archive_cmds
  archive_expsym_cmds=$lt_archive_expsym_cmds
+ archive_expsym_cmds32=$lt_archive_expsym_cmds32
+ archive_expsym_cmds64=$lt_archive_expsym_cmds64
+ archive_expsym_cmds3264=$lt_archive_expsym_cmds3264
  postinstall_cmds=$lt_postinstall_cmds
  postuninstall_cmds=$lt_postuninstall_cmds
  
***************
*** 7546,7551 ****
--- 7749,7756 ----
  
  # The commands to list exported symbols.
  export_symbols_cmds=$lt_export_symbols_cmds
+ export_symbols_cmds32=$lt_export_symbols_cmds32
+ export_symbols_cmds64=$lt_export_symbols_cmds64
  
  # The commands to extract the exported symbol list from a shared archive.
  extract_expsyms_cmds=$lt_extract_expsyms_cmds
***************
*** 7818,7825 ****
      # Open Windows xmkmf reportedly sets LIBDIR instead of USRLIBDIR.
      for ac_extension in a so sl; do
        if test ! -f $ac_im_usrlibdir/libX11.$ac_extension &&
!          test -f $ac_im_libdir/libX11.$ac_extension; then
!         ac_im_usrlibdir=$ac_im_libdir; break
        fi
      done
      # Screen out bogus values from the imake configuration.  They are
--- 8023,8030 ----
      # Open Windows xmkmf reportedly sets LIBDIR instead of USRLIBDIR.
      for ac_extension in a so sl; do
        if test ! -f $ac_im_usrlibdir/libX11.$ac_extension &&
! 	 test -f $ac_im_libdir/libX11.$ac_extension; then
! 	ac_im_usrlibdir=$ac_im_libdir; break
        fi
      done
      # Screen out bogus values from the imake configuration.  They are
***************
*** 7879,7885 ****
    # Guess where to find include files, by looking for Intrinsic.h.
    # First, try using that file with no special directory specified.
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 8084,8089 ----
***************
*** 7897,7902 ****
--- 8101,8107 ----
    (exit $ac_status); } >/dev/null; then
    if test -s conftest.err; then
      ac_cpp_err=$ac_c_preproc_warn_flag
+     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
    else
      ac_cpp_err=
    fi
***************
*** 7927,7933 ****
    ac_save_LIBS=$LIBS
    LIBS="-lXt $LIBS"
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 8132,8137 ----
***************
*** 7944,7954 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 8148,8168 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 7973,7979 ****
    done
  done
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  fi # $ac_x_libraries = no
  
  if test "$ac_x_includes" = no || test "$ac_x_libraries" = no; then
--- 8187,8194 ----
    done
  done
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  fi # $ac_x_libraries = no
  
  if test "$ac_x_includes" = no || test "$ac_x_libraries" = no; then
***************
*** 7982,7988 ****
  else
    # Record where we found X for the cache.
    ac_cv_have_x="have_x=yes \
! 	        ac_x_includes=$ac_x_includes ac_x_libraries=$ac_x_libraries"
  fi
  fi
  
--- 8197,8203 ----
  else
    # Record where we found X for the cache.
    ac_cv_have_x="have_x=yes \
! 		ac_x_includes=$ac_x_includes ac_x_libraries=$ac_x_libraries"
  fi
  fi
  
***************
*** 8029,8035 ****
  echo $ECHO_N "checking whether -R must be followed by a space... $ECHO_C" >&6
        ac_xsave_LIBS=$LIBS; LIBS="$LIBS -R$x_libraries"
        cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 8244,8249 ----
***************
*** 8046,8056 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 8260,8280 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 8063,8069 ****
  
  ac_R_nospace=no
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
        if test $ac_R_nospace = yes; then
  	echo "$as_me:$LINENO: result: no" >&5
  echo "${ECHO_T}no" >&6
--- 8287,8294 ----
  
  ac_R_nospace=no
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
        if test $ac_R_nospace = yes; then
  	echo "$as_me:$LINENO: result: no" >&5
  echo "${ECHO_T}no" >&6
***************
*** 8071,8077 ****
        else
  	LIBS="$ac_xsave_LIBS -R $x_libraries"
  	cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 8296,8301 ----
***************
*** 8088,8098 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 8312,8332 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 8105,8111 ****
  
  ac_R_space=no
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  	if test $ac_R_space = yes; then
  	  echo "$as_me:$LINENO: result: yes" >&5
  echo "${ECHO_T}yes" >&6
--- 8339,8346 ----
  
  ac_R_space=no
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  	if test $ac_R_space = yes; then
  	  echo "$as_me:$LINENO: result: yes" >&5
  echo "${ECHO_T}yes" >&6
***************
*** 8131,8137 ****
      # the Alpha needs dnet_stub (dnet does not exist).
      ac_xsave_LIBS="$LIBS"; LIBS="$LIBS $X_LIBS -lX11"
      cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 8366,8371 ----
***************
*** 8155,8165 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 8389,8409 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 8178,8184 ****
    ac_check_lib_save_LIBS=$LIBS
  LIBS="-ldnet  $LIBS"
  cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 8422,8427 ----
***************
*** 8202,8212 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 8445,8465 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 8219,8225 ****
  
  ac_cv_lib_dnet_dnet_ntoa=no
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_dnet_dnet_ntoa" >&5
--- 8472,8479 ----
  
  ac_cv_lib_dnet_dnet_ntoa=no
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_dnet_dnet_ntoa" >&5
***************
*** 8237,8243 ****
    ac_check_lib_save_LIBS=$LIBS
  LIBS="-ldnet_stub  $LIBS"
  cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 8491,8496 ----
***************
*** 8261,8271 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 8514,8534 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 8278,8284 ****
  
  ac_cv_lib_dnet_stub_dnet_ntoa=no
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_dnet_stub_dnet_ntoa" >&5
--- 8541,8548 ----
  
  ac_cv_lib_dnet_stub_dnet_ntoa=no
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_dnet_stub_dnet_ntoa" >&5
***************
*** 8289,8295 ****
  
      fi
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
      LIBS="$ac_xsave_LIBS"
  
      # msh@cis.ufl.edu says -lnsl (and -lsocket) are needed for his 386/AT,
--- 8553,8560 ----
  
      fi
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
      LIBS="$ac_xsave_LIBS"
  
      # msh@cis.ufl.edu says -lnsl (and -lsocket) are needed for his 386/AT,
***************
*** 8306,8326 ****
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char gethostbyname (); below.
      Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
      <limits.h> exists even on freestanding compilers.  */
  #ifdef __STDC__
  # include <limits.h>
  #else
  # include <assert.h>
  #endif
  /* Override any gcc2 internal prototype to avoid an error.  */
  #ifdef __cplusplus
  extern "C"
--- 8571,8598 ----
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
+ /* Define gethostbyname to an innocuous variant, in case <limits.h> declares gethostbyname.
+    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+ #define gethostbyname innocuous_gethostbyname
+ 
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char gethostbyname (); below.
      Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
      <limits.h> exists even on freestanding compilers.  */
+ 
  #ifdef __STDC__
  # include <limits.h>
  #else
  # include <assert.h>
  #endif
+ 
+ #undef gethostbyname
+ 
  /* Override any gcc2 internal prototype to avoid an error.  */
  #ifdef __cplusplus
  extern "C"
***************
*** 8351,8361 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 8623,8643 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 8368,8374 ****
  
  ac_cv_func_gethostbyname=no
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  fi
  echo "$as_me:$LINENO: result: $ac_cv_func_gethostbyname" >&5
  echo "${ECHO_T}$ac_cv_func_gethostbyname" >&6
--- 8650,8657 ----
  
  ac_cv_func_gethostbyname=no
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  fi
  echo "$as_me:$LINENO: result: $ac_cv_func_gethostbyname" >&5
  echo "${ECHO_T}$ac_cv_func_gethostbyname" >&6
***************
*** 8382,8388 ****
    ac_check_lib_save_LIBS=$LIBS
  LIBS="-lnsl  $LIBS"
  cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 8665,8670 ----
***************
*** 8406,8416 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 8688,8708 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 8423,8429 ****
  
  ac_cv_lib_nsl_gethostbyname=no
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_nsl_gethostbyname" >&5
--- 8715,8722 ----
  
  ac_cv_lib_nsl_gethostbyname=no
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_nsl_gethostbyname" >&5
***************
*** 8433,8439 ****
  fi
  
        if test $ac_cv_lib_nsl_gethostbyname = no; then
!         echo "$as_me:$LINENO: checking for gethostbyname in -lbsd" >&5
  echo $ECHO_N "checking for gethostbyname in -lbsd... $ECHO_C" >&6
  if test "${ac_cv_lib_bsd_gethostbyname+set}" = set; then
    echo $ECHO_N "(cached) $ECHO_C" >&6
--- 8726,8732 ----
  fi
  
        if test $ac_cv_lib_nsl_gethostbyname = no; then
! 	echo "$as_me:$LINENO: checking for gethostbyname in -lbsd" >&5
  echo $ECHO_N "checking for gethostbyname in -lbsd... $ECHO_C" >&6
  if test "${ac_cv_lib_bsd_gethostbyname+set}" = set; then
    echo $ECHO_N "(cached) $ECHO_C" >&6
***************
*** 8441,8447 ****
    ac_check_lib_save_LIBS=$LIBS
  LIBS="-lbsd  $LIBS"
  cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 8734,8739 ----
***************
*** 8465,8475 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 8757,8777 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 8482,8488 ****
  
  ac_cv_lib_bsd_gethostbyname=no
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_bsd_gethostbyname" >&5
--- 8784,8791 ----
  
  ac_cv_lib_bsd_gethostbyname=no
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_bsd_gethostbyname" >&5
***************
*** 8507,8527 ****
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char connect (); below.
      Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
      <limits.h> exists even on freestanding compilers.  */
  #ifdef __STDC__
  # include <limits.h>
  #else
  # include <assert.h>
  #endif
  /* Override any gcc2 internal prototype to avoid an error.  */
  #ifdef __cplusplus
  extern "C"
--- 8810,8837 ----
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
+ /* Define connect to an innocuous variant, in case <limits.h> declares connect.
+    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+ #define connect innocuous_connect
+ 
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char connect (); below.
      Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
      <limits.h> exists even on freestanding compilers.  */
+ 
  #ifdef __STDC__
  # include <limits.h>
  #else
  # include <assert.h>
  #endif
+ 
+ #undef connect
+ 
  /* Override any gcc2 internal prototype to avoid an error.  */
  #ifdef __cplusplus
  extern "C"
***************
*** 8552,8562 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 8862,8882 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 8569,8575 ****
  
  ac_cv_func_connect=no
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  fi
  echo "$as_me:$LINENO: result: $ac_cv_func_connect" >&5
  echo "${ECHO_T}$ac_cv_func_connect" >&6
--- 8889,8896 ----
  
  ac_cv_func_connect=no
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  fi
  echo "$as_me:$LINENO: result: $ac_cv_func_connect" >&5
  echo "${ECHO_T}$ac_cv_func_connect" >&6
***************
*** 8583,8589 ****
    ac_check_lib_save_LIBS=$LIBS
  LIBS="-lsocket $X_EXTRA_LIBS $LIBS"
  cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 8904,8909 ----
***************
*** 8607,8617 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 8927,8947 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 8624,8630 ****
  
  ac_cv_lib_socket_connect=no
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_socket_connect" >&5
--- 8954,8961 ----
  
  ac_cv_lib_socket_connect=no
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_socket_connect" >&5
***************
*** 8642,8662 ****
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char remove (); below.
      Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
      <limits.h> exists even on freestanding compilers.  */
  #ifdef __STDC__
  # include <limits.h>
  #else
  # include <assert.h>
  #endif
  /* Override any gcc2 internal prototype to avoid an error.  */
  #ifdef __cplusplus
  extern "C"
--- 8973,9000 ----
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
+ /* Define remove to an innocuous variant, in case <limits.h> declares remove.
+    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+ #define remove innocuous_remove
+ 
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char remove (); below.
      Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
      <limits.h> exists even on freestanding compilers.  */
+ 
  #ifdef __STDC__
  # include <limits.h>
  #else
  # include <assert.h>
  #endif
+ 
+ #undef remove
+ 
  /* Override any gcc2 internal prototype to avoid an error.  */
  #ifdef __cplusplus
  extern "C"
***************
*** 8687,8697 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 9025,9045 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 8704,8710 ****
  
  ac_cv_func_remove=no
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  fi
  echo "$as_me:$LINENO: result: $ac_cv_func_remove" >&5
  echo "${ECHO_T}$ac_cv_func_remove" >&6
--- 9052,9059 ----
  
  ac_cv_func_remove=no
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  fi
  echo "$as_me:$LINENO: result: $ac_cv_func_remove" >&5
  echo "${ECHO_T}$ac_cv_func_remove" >&6
***************
*** 8718,8724 ****
    ac_check_lib_save_LIBS=$LIBS
  LIBS="-lposix  $LIBS"
  cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 9067,9072 ----
***************
*** 8742,8752 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 9090,9110 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 8759,8765 ****
  
  ac_cv_lib_posix_remove=no
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_posix_remove" >&5
--- 9117,9124 ----
  
  ac_cv_lib_posix_remove=no
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_posix_remove" >&5
***************
*** 8777,8797 ****
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char shmat (); below.
      Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
      <limits.h> exists even on freestanding compilers.  */
  #ifdef __STDC__
  # include <limits.h>
  #else
  # include <assert.h>
  #endif
  /* Override any gcc2 internal prototype to avoid an error.  */
  #ifdef __cplusplus
  extern "C"
--- 9136,9163 ----
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
+ /* Define shmat to an innocuous variant, in case <limits.h> declares shmat.
+    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+ #define shmat innocuous_shmat
+ 
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char shmat (); below.
      Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
      <limits.h> exists even on freestanding compilers.  */
+ 
  #ifdef __STDC__
  # include <limits.h>
  #else
  # include <assert.h>
  #endif
+ 
+ #undef shmat
+ 
  /* Override any gcc2 internal prototype to avoid an error.  */
  #ifdef __cplusplus
  extern "C"
***************
*** 8822,8832 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 9188,9208 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 8839,8845 ****
  
  ac_cv_func_shmat=no
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  fi
  echo "$as_me:$LINENO: result: $ac_cv_func_shmat" >&5
  echo "${ECHO_T}$ac_cv_func_shmat" >&6
--- 9215,9222 ----
  
  ac_cv_func_shmat=no
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  fi
  echo "$as_me:$LINENO: result: $ac_cv_func_shmat" >&5
  echo "${ECHO_T}$ac_cv_func_shmat" >&6
***************
*** 8853,8859 ****
    ac_check_lib_save_LIBS=$LIBS
  LIBS="-lipc  $LIBS"
  cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 9230,9235 ----
***************
*** 8877,8887 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 9253,9273 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 8894,8900 ****
  
  ac_cv_lib_ipc_shmat=no
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_ipc_shmat" >&5
--- 9280,9287 ----
  
  ac_cv_lib_ipc_shmat=no
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_ipc_shmat" >&5
***************
*** 8923,8929 ****
    ac_check_lib_save_LIBS=$LIBS
  LIBS="-lICE $X_EXTRA_LIBS $LIBS"
  cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 9310,9315 ----
***************
*** 8947,8957 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 9333,9353 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 8964,8970 ****
  
  ac_cv_lib_ICE_IceConnectionNumber=no
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_ICE_IceConnectionNumber" >&5
--- 9360,9367 ----
  
  ac_cv_lib_ICE_IceConnectionNumber=no
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  LIBS=$ac_check_lib_save_LIBS
  fi
  echo "$as_me:$LINENO: result: $ac_cv_lib_ICE_IceConnectionNumber" >&5
***************
*** 8986,8996 ****
  fi
  
  
-   succeeded=no
  
!   if test -z "$PKG_CONFIG"; then
!     # Extract the first word of "pkg-config", so it can be a program name with args.
! set dummy pkg-config; ac_word=$2
  echo "$as_me:$LINENO: checking for $ac_word" >&5
  echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
  if test "${ac_cv_path_PKG_CONFIG+set}" = set; then
--- 9383,9393 ----
  fi
  
  
  
! if test "x$ac_cv_env_PKG_CONFIG_set" != "xset"; then
! 	if test -n "$ac_tool_prefix"; then
!   # Extract the first word of "${ac_tool_prefix}pkg-config", so it can be a program name with args.
! set dummy ${ac_tool_prefix}pkg-config; ac_word=$2
  echo "$as_me:$LINENO: checking for $ac_word" >&5
  echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
  if test "${ac_cv_path_PKG_CONFIG+set}" = set; then
***************
*** 9015,9021 ****
  done
  done
  
-   test -z "$ac_cv_path_PKG_CONFIG" && ac_cv_path_PKG_CONFIG="no"
    ;;
  esac
  fi
--- 9412,9417 ----
***************
*** 9029,9102 ****
  echo "${ECHO_T}no" >&6
  fi
  
!   fi
! 
!   if test "$PKG_CONFIG" = "no" ; then
!      echo "*** The pkg-config script could not be found. Make sure it is"
!      echo "*** in your path, or set the PKG_CONFIG environment variable"
!      echo "*** to the full path to pkg-config."
!      echo "*** Or see http://www.freedesktop.org/software/pkgconfig to get pkg-config."
!   else
!      PKG_CONFIG_MIN_VERSION=0.9.0
!      if $PKG_CONFIG --atleast-pkgconfig-version $PKG_CONFIG_MIN_VERSION; then
!         echo "$as_me:$LINENO: checking for xrender >= 0.8.2" >&5
! echo $ECHO_N "checking for xrender >= 0.8.2... $ECHO_C" >&6
! 
!         if $PKG_CONFIG --exists "xrender >= 0.8.2" ; then
!             echo "$as_me:$LINENO: result: yes" >&5
! echo "${ECHO_T}yes" >&6
!             succeeded=yes
! 
!             echo "$as_me:$LINENO: checking XRENDER_CFLAGS" >&5
! echo $ECHO_N "checking XRENDER_CFLAGS... $ECHO_C" >&6
!             XRENDER_CFLAGS=`$PKG_CONFIG --cflags "xrender >= 0.8.2"`
!             echo "$as_me:$LINENO: result: $XRENDER_CFLAGS" >&5
! echo "${ECHO_T}$XRENDER_CFLAGS" >&6
! 
!             echo "$as_me:$LINENO: checking XRENDER_LIBS" >&5
! echo $ECHO_N "checking XRENDER_LIBS... $ECHO_C" >&6
!             XRENDER_LIBS=`$PKG_CONFIG --libs "xrender >= 0.8.2"`
!             echo "$as_me:$LINENO: result: $XRENDER_LIBS" >&5
! echo "${ECHO_T}$XRENDER_LIBS" >&6
!         else
!             XRENDER_CFLAGS=""
!             XRENDER_LIBS=""
!             ## If we have a custom action on failure, don't print errors, but
!             ## do set a variable so people can do so.
!             XRENDER_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors "xrender >= 0.8.2"`
! 
!         fi
! 
! 
! 
!      else
!         echo "*** Your version of pkg-config is too old. You need version $PKG_CONFIG_MIN_VERSION or newer."
!         echo "*** See http://www.freedesktop.org/software/pkgconfig"
!      fi
!   fi
! 
!   if test $succeeded = yes; then
!      xrender_found_with_pkgconfig=yes
!   else
!      xrender_found_with_pkgconfig=no
!   fi
! 
! case "$xrender_found_with_pkgconfig" in
! no)
! 
!   succeeded=no
! 
!   if test -z "$PKG_CONFIG"; then
!     # Extract the first word of "pkg-config", so it can be a program name with args.
  set dummy pkg-config; ac_word=$2
  echo "$as_me:$LINENO: checking for $ac_word" >&5
  echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
! if test "${ac_cv_path_PKG_CONFIG+set}" = set; then
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
!   case $PKG_CONFIG in
    [\\/]* | ?:[\\/]*)
!   ac_cv_path_PKG_CONFIG="$PKG_CONFIG" # Let the user override the test with a path.
    ;;
    *)
    as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
--- 9425,9443 ----
  echo "${ECHO_T}no" >&6
  fi
  
! fi
! if test -z "$ac_cv_path_PKG_CONFIG"; then
!   ac_pt_PKG_CONFIG=$PKG_CONFIG
!   # Extract the first word of "pkg-config", so it can be a program name with args.
  set dummy pkg-config; ac_word=$2
  echo "$as_me:$LINENO: checking for $ac_word" >&5
  echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
! if test "${ac_cv_path_ac_pt_PKG_CONFIG+set}" = set; then
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
!   case $ac_pt_PKG_CONFIG in
    [\\/]* | ?:[\\/]*)
!   ac_cv_path_ac_pt_PKG_CONFIG="$ac_pt_PKG_CONFIG" # Let the user override the test with a path.
    ;;
    *)
    as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
***************
*** 9106,9184 ****
    test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
    if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
!     ac_cv_path_PKG_CONFIG="$as_dir/$ac_word$ac_exec_ext"
      echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
      break 2
    fi
  done
  done
  
-   test -z "$ac_cv_path_PKG_CONFIG" && ac_cv_path_PKG_CONFIG="no"
    ;;
  esac
  fi
! PKG_CONFIG=$ac_cv_path_PKG_CONFIG
  
! if test -n "$PKG_CONFIG"; then
!   echo "$as_me:$LINENO: result: $PKG_CONFIG" >&5
! echo "${ECHO_T}$PKG_CONFIG" >&6
  else
    echo "$as_me:$LINENO: result: no" >&5
  echo "${ECHO_T}no" >&6
  fi
  
!   fi
! 
!   if test "$PKG_CONFIG" = "no" ; then
!      echo "*** The pkg-config script could not be found. Make sure it is"
!      echo "*** in your path, or set the PKG_CONFIG environment variable"
!      echo "*** to the full path to pkg-config."
!      echo "*** Or see http://www.freedesktop.org/software/pkgconfig to get pkg-config."
!   else
!      PKG_CONFIG_MIN_VERSION=0.9.0
!      if $PKG_CONFIG --atleast-pkgconfig-version $PKG_CONFIG_MIN_VERSION; then
!         echo "$as_me:$LINENO: checking for xrender >= 0.8" >&5
! echo $ECHO_N "checking for xrender >= 0.8... $ECHO_C" >&6
  
!         if $PKG_CONFIG --exists "xrender >= 0.8" ; then
!             echo "$as_me:$LINENO: result: yes" >&5
  echo "${ECHO_T}yes" >&6
!             succeeded=yes
  
!             echo "$as_me:$LINENO: checking XRENDER_CFLAGS" >&5
! echo $ECHO_N "checking XRENDER_CFLAGS... $ECHO_C" >&6
!             XRENDER_CFLAGS=`$PKG_CONFIG --cflags "xrender >= 0.8"`
!             echo "$as_me:$LINENO: result: $XRENDER_CFLAGS" >&5
! echo "${ECHO_T}$XRENDER_CFLAGS" >&6
! 
!             echo "$as_me:$LINENO: checking XRENDER_LIBS" >&5
! echo $ECHO_N "checking XRENDER_LIBS... $ECHO_C" >&6
!             XRENDER_LIBS=`$PKG_CONFIG --libs "xrender >= 0.8"`
!             echo "$as_me:$LINENO: result: $XRENDER_LIBS" >&5
! echo "${ECHO_T}$XRENDER_LIBS" >&6
!         else
!             XRENDER_CFLAGS=""
!             XRENDER_LIBS=""
!             ## If we have a custom action on failure, don't print errors, but
!             ## do set a variable so people can do so.
!             XRENDER_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors "xrender >= 0.8"`
! 
!         fi
  
  
  
!      else
!         echo "*** Your version of pkg-config is too old. You need version $PKG_CONFIG_MIN_VERSION or newer."
!         echo "*** See http://www.freedesktop.org/software/pkgconfig"
!      fi
!   fi
  
!   if test $succeeded = yes; then
!      old_xrender_found_with_pkgconfig=yes
!   else
!      old_xrender_found_with_pkgconfig=no
!   fi
  
  	case "$old_xrender_found_with_pkgconfig" in
  	no)
  	        # checks for X
--- 9447,9592 ----
    test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
    if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
!     ac_cv_path_ac_pt_PKG_CONFIG="$as_dir/$ac_word$ac_exec_ext"
      echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
      break 2
    fi
  done
  done
  
    ;;
  esac
  fi
! ac_pt_PKG_CONFIG=$ac_cv_path_ac_pt_PKG_CONFIG
  
! if test -n "$ac_pt_PKG_CONFIG"; then
!   echo "$as_me:$LINENO: result: $ac_pt_PKG_CONFIG" >&5
! echo "${ECHO_T}$ac_pt_PKG_CONFIG" >&6
  else
    echo "$as_me:$LINENO: result: no" >&5
  echo "${ECHO_T}no" >&6
  fi
  
!   PKG_CONFIG=$ac_pt_PKG_CONFIG
! else
!   PKG_CONFIG="$ac_cv_path_PKG_CONFIG"
! fi
  
! fi
! if test -n "$PKG_CONFIG"; then
! 	_pkg_min_version=0.9.0
! 	echo "$as_me:$LINENO: checking pkg-config is at least version $_pkg_min_version" >&5
! echo $ECHO_N "checking pkg-config is at least version $_pkg_min_version... $ECHO_C" >&6
! 	if $PKG_CONFIG --atleast-pkgconfig-version $_pkg_min_version; then
! 		echo "$as_me:$LINENO: result: yes" >&5
  echo "${ECHO_T}yes" >&6
! 	else
! 		echo "$as_me:$LINENO: result: no" >&5
! echo "${ECHO_T}no" >&6
! 		PKG_CONFIG=""
! 	fi
  
! fi
  
+ pkg_failed=no
+ echo "$as_me:$LINENO: checking for XRENDER" >&5
+ echo $ECHO_N "checking for XRENDER... $ECHO_C" >&6
  
+ if test -n "$PKG_CONFIG"; then
+         if test -n "$PKG_CONFIG" && \
+     { (echo "$as_me:$LINENO: \$PKG_CONFIG --exists --print-errors \"xrender >= 0.8.2\"") >&5
+   ($PKG_CONFIG --exists --print-errors "xrender >= 0.8.2") 2>&5
+   ac_status=$?
+   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+   (exit $ac_status); }; then
+   pkg_cv_XRENDER_CFLAGS=`$PKG_CONFIG --cflags "xrender >= 0.8.2" 2>/dev/null`
+ else
+   pkg_failed=yes
+ fi
+ else
+ 	pkg_failed=untried
+ fi
+ if test -n "$PKG_CONFIG"; then
+         if test -n "$PKG_CONFIG" && \
+     { (echo "$as_me:$LINENO: \$PKG_CONFIG --exists --print-errors \"xrender >= 0.8.2\"") >&5
+   ($PKG_CONFIG --exists --print-errors "xrender >= 0.8.2") 2>&5
+   ac_status=$?
+   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+   (exit $ac_status); }; then
+   pkg_cv_XRENDER_LIBS=`$PKG_CONFIG --libs "xrender >= 0.8.2" 2>/dev/null`
+ else
+   pkg_failed=yes
+ fi
+ else
+ 	pkg_failed=untried
+ fi
  
! if test $pkg_failed = yes; then
! 	XRENDER_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors "xrender >= 0.8.2"`
! 	# Put the nasty error message in config.log where it belongs
! 	echo "$XRENDER_PKG_ERRORS" 1>&5
  
! 	xrender_found_with_pkgconfig=no
! elif test $pkg_failed = untried; then
! 	xrender_found_with_pkgconfig=no
! else
! 	XRENDER_CFLAGS=$pkg_cv_XRENDER_CFLAGS
! 	XRENDER_LIBS=$pkg_cv_XRENDER_LIBS
!         echo "$as_me:$LINENO: result: yes" >&5
! echo "${ECHO_T}yes" >&6
! 	xrender_found_with_pkgconfig=yes
! fi
! case "$xrender_found_with_pkgconfig" in
! no)
  
+ pkg_failed=no
+ echo "$as_me:$LINENO: checking for XRENDER" >&5
+ echo $ECHO_N "checking for XRENDER... $ECHO_C" >&6
+ 
+ if test -n "$PKG_CONFIG"; then
+         if test -n "$PKG_CONFIG" && \
+     { (echo "$as_me:$LINENO: \$PKG_CONFIG --exists --print-errors \"xrender >= 0.8\"") >&5
+   ($PKG_CONFIG --exists --print-errors "xrender >= 0.8") 2>&5
+   ac_status=$?
+   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+   (exit $ac_status); }; then
+   pkg_cv_XRENDER_CFLAGS=`$PKG_CONFIG --cflags "xrender >= 0.8" 2>/dev/null`
+ else
+   pkg_failed=yes
+ fi
+ else
+ 	pkg_failed=untried
+ fi
+ if test -n "$PKG_CONFIG"; then
+         if test -n "$PKG_CONFIG" && \
+     { (echo "$as_me:$LINENO: \$PKG_CONFIG --exists --print-errors \"xrender >= 0.8\"") >&5
+   ($PKG_CONFIG --exists --print-errors "xrender >= 0.8") 2>&5
+   ac_status=$?
+   echo "$as_me:$LINENO: \$? = $ac_status" >&5
+   (exit $ac_status); }; then
+   pkg_cv_XRENDER_LIBS=`$PKG_CONFIG --libs "xrender >= 0.8" 2>/dev/null`
+ else
+   pkg_failed=yes
+ fi
+ else
+ 	pkg_failed=untried
+ fi
+ 
+ if test $pkg_failed = yes; then
+ 	XRENDER_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors "xrender >= 0.8"`
+ 	# Put the nasty error message in config.log where it belongs
+ 	echo "$XRENDER_PKG_ERRORS" 1>&5
+ 
+ 	old_xrender_found_with_pkgconfig=no
+ elif test $pkg_failed = untried; then
+ 	old_xrender_found_with_pkgconfig=no
+ else
+ 	XRENDER_CFLAGS=$pkg_cv_XRENDER_CFLAGS
+ 	XRENDER_LIBS=$pkg_cv_XRENDER_LIBS
+         echo "$as_me:$LINENO: result: yes" >&5
+ echo "${ECHO_T}yes" >&6
+ 	old_xrender_found_with_pkgconfig=yes
+ fi
  	case "$old_xrender_found_with_pkgconfig" in
  	no)
  	        # checks for X
***************
*** 9219,9226 ****
      # Open Windows xmkmf reportedly sets LIBDIR instead of USRLIBDIR.
      for ac_extension in a so sl; do
        if test ! -f $ac_im_usrlibdir/libX11.$ac_extension &&
!          test -f $ac_im_libdir/libX11.$ac_extension; then
!         ac_im_usrlibdir=$ac_im_libdir; break
        fi
      done
      # Screen out bogus values from the imake configuration.  They are
--- 9627,9634 ----
      # Open Windows xmkmf reportedly sets LIBDIR instead of USRLIBDIR.
      for ac_extension in a so sl; do
        if test ! -f $ac_im_usrlibdir/libX11.$ac_extension &&
! 	 test -f $ac_im_libdir/libX11.$ac_extension; then
! 	ac_im_usrlibdir=$ac_im_libdir; break
        fi
      done
      # Screen out bogus values from the imake configuration.  They are
***************
*** 9280,9286 ****
    # Guess where to find include files, by looking for Intrinsic.h.
    # First, try using that file with no special directory specified.
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 9688,9693 ----
***************
*** 9298,9303 ****
--- 9705,9711 ----
    (exit $ac_status); } >/dev/null; then
    if test -s conftest.err; then
      ac_cpp_err=$ac_c_preproc_warn_flag
+     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
    else
      ac_cpp_err=
    fi
***************
*** 9328,9334 ****
    ac_save_LIBS=$LIBS
    LIBS="-lXt $LIBS"
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 9736,9741 ----
***************
*** 9345,9355 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 9752,9772 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 9374,9380 ****
    done
  done
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  fi # $ac_x_libraries = no
  
  if test "$ac_x_includes" = no || test "$ac_x_libraries" = no; then
--- 9791,9798 ----
    done
  done
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  fi # $ac_x_libraries = no
  
  if test "$ac_x_includes" = no || test "$ac_x_libraries" = no; then
***************
*** 9383,9389 ****
  else
    # Record where we found X for the cache.
    ac_cv_have_x="have_x=yes \
! 	        ac_x_includes=$ac_x_includes ac_x_libraries=$ac_x_libraries"
  fi
  fi
  
--- 9801,9807 ----
  else
    # Record where we found X for the cache.
    ac_cv_have_x="have_x=yes \
! 		ac_x_includes=$ac_x_includes ac_x_libraries=$ac_x_libraries"
  fi
  fi
  
***************
*** 9429,9435 ****
  echo "$as_me:$LINENO: checking $ac_header usability" >&5
  echo $ECHO_N "checking $ac_header usability... $ECHO_C" >&6
  cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 9847,9852 ----
***************
*** 9440,9450 ****
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 9857,9877 ----
  _ACEOF
  rm -f conftest.$ac_objext
  if { (eval echo "$as_me:$LINENO: \"$ac_compile\"") >&5
!   (eval $ac_compile) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest.$ac_objext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 9457,9463 ****
  
  ac_header_compiler=no
  fi
! rm -f conftest.$ac_objext conftest.$ac_ext
  echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
  echo "${ECHO_T}$ac_header_compiler" >&6
  
--- 9884,9890 ----
  
  ac_header_compiler=no
  fi
! rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
  echo "$as_me:$LINENO: result: $ac_header_compiler" >&5
  echo "${ECHO_T}$ac_header_compiler" >&6
  
***************
*** 9465,9471 ****
  echo "$as_me:$LINENO: checking $ac_header presence" >&5
  echo $ECHO_N "checking $ac_header presence... $ECHO_C" >&6
  cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
--- 9892,9897 ----
***************
*** 9483,9488 ****
--- 9909,9915 ----
    (exit $ac_status); } >/dev/null; then
    if test -s conftest.err; then
      ac_cpp_err=$ac_c_preproc_warn_flag
+     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
    else
      ac_cpp_err=
    fi
***************
*** 9502,9534 ****
  echo "${ECHO_T}$ac_header_preproc" >&6
  
  # So?  What about this header?
! case $ac_header_compiler:$ac_header_preproc in
!   yes:no )
      { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
  echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
!     { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
! echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
!     (
!       cat <<\_ASBOX
! ## ------------------------------------ ##
! ## Report this to bug-autoconf@gnu.org. ##
! ## ------------------------------------ ##
! _ASBOX
!     ) |
!       sed "s/^/$as_me: WARNING:     /" >&2
      ;;
!   no:yes )
      { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
  echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
!     { echo "$as_me:$LINENO: WARNING: $ac_header: check for missing prerequisite headers?" >&5
! echo "$as_me: WARNING: $ac_header: check for missing prerequisite headers?" >&2;}
      { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
  echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
      (
        cat <<\_ASBOX
! ## ------------------------------------ ##
! ## Report this to bug-autoconf@gnu.org. ##
! ## ------------------------------------ ##
  _ASBOX
      ) |
        sed "s/^/$as_me: WARNING:     /" >&2
--- 9929,9960 ----
  echo "${ECHO_T}$ac_header_preproc" >&6
  
  # So?  What about this header?
! case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in
!   yes:no: )
      { echo "$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&5
  echo "$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!" >&2;}
!     { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result" >&5
! echo "$as_me: WARNING: $ac_header: proceeding with the compiler's result" >&2;}
!     ac_header_preproc=yes
      ;;
!   no:yes:* )
      { echo "$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled" >&5
  echo "$as_me: WARNING: $ac_header: present but cannot be compiled" >&2;}
!     { echo "$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?" >&5
! echo "$as_me: WARNING: $ac_header:     check for missing prerequisite headers?" >&2;}
!     { echo "$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation" >&5
! echo "$as_me: WARNING: $ac_header: see the Autoconf documentation" >&2;}
!     { echo "$as_me:$LINENO: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&5
! echo "$as_me: WARNING: $ac_header:     section \"Present But Cannot Be Compiled\"" >&2;}
      { echo "$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result" >&5
  echo "$as_me: WARNING: $ac_header: proceeding with the preprocessor's result" >&2;}
+     { echo "$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence" >&5
+ echo "$as_me: WARNING: $ac_header: in the future, the compiler will take precedence" >&2;}
      (
        cat <<\_ASBOX
! ## ------------------------------------------ ##
! ## Report this to the AC_PACKAGE_NAME lists.  ##
! ## ------------------------------------------ ##
  _ASBOX
      ) |
        sed "s/^/$as_me: WARNING:     /" >&2
***************
*** 9539,9545 ****
  if eval "test \"\${$as_ac_Header+set}\" = set"; then
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
!   eval "$as_ac_Header=$ac_header_preproc"
  fi
  echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
  echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
--- 9965,9971 ----
  if eval "test \"\${$as_ac_Header+set}\" = set"; then
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
!   eval "$as_ac_Header=\$ac_header_preproc"
  fi
  echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`" >&5
  echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
***************
*** 9572,9592 ****
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
- #line $LINENO "configure"
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func (); below.
      Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
      <limits.h> exists even on freestanding compilers.  */
  #ifdef __STDC__
  # include <limits.h>
  #else
  # include <assert.h>
  #endif
  /* Override any gcc2 internal prototype to avoid an error.  */
  #ifdef __cplusplus
  extern "C"
--- 9998,10025 ----
    echo $ECHO_N "(cached) $ECHO_C" >&6
  else
    cat >conftest.$ac_ext <<_ACEOF
  /* confdefs.h.  */
  _ACEOF
  cat confdefs.h >>conftest.$ac_ext
  cat >>conftest.$ac_ext <<_ACEOF
  /* end confdefs.h.  */
+ /* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.
+    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
+ #define $ac_func innocuous_$ac_func
+ 
  /* System header to define __stub macros and hopefully few prototypes,
      which can conflict with char $ac_func (); below.
      Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
      <limits.h> exists even on freestanding compilers.  */
+ 
  #ifdef __STDC__
  # include <limits.h>
  #else
  # include <assert.h>
  #endif
+ 
+ #undef $ac_func
+ 
  /* Override any gcc2 internal prototype to avoid an error.  */
  #ifdef __cplusplus
  extern "C"
***************
*** 9617,9627 ****
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>&5
    ac_status=$?
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
!          { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
--- 10050,10070 ----
  _ACEOF
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { (eval echo "$as_me:$LINENO: \"$ac_link\"") >&5
!   (eval $ac_link) 2>conftest.er1
    ac_status=$?
+   grep -v '^ *+' conftest.er1 >conftest.err
+   rm -f conftest.er1
+   cat conftest.err >&5
    echo "$as_me:$LINENO: \$? = $ac_status" >&5
    (exit $ac_status); } &&
! 	 { ac_try='test -z "$ac_c_werror_flag"
! 			 || test ! -s conftest.err'
!   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
!   (eval $ac_try) 2>&5
!   ac_status=$?
!   echo "$as_me:$LINENO: \$? = $ac_status" >&5
!   (exit $ac_status); }; } &&
! 	 { ac_try='test -s conftest$ac_exeext'
    { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
    (eval $ac_try) 2>&5
    ac_status=$?
***************
*** 9634,9640 ****
  
  eval "$as_ac_var=no"
  fi
! rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
  fi
  echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
  echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
--- 10077,10084 ----
  
  eval "$as_ac_var=no"
  fi
! rm -f conftest.err conftest.$ac_objext \
!       conftest$ac_exeext conftest.$ac_ext
  fi
  echo "$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`" >&5
  echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
***************
*** 9690,9702 ****
        # `set' does not quote correctly, so add quotes (double-quote
        # substitution turns \\\\ into \\, and sed turns \\ into \).
        sed -n \
!         "s/'/'\\\\''/g;
!     	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p"
        ;;
      *)
        # `set' quotes correctly as required by POSIX, so do not add quotes.
        sed -n \
!         "s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p"
        ;;
      esac;
  } |
--- 10134,10146 ----
        # `set' does not quote correctly, so add quotes (double-quote
        # substitution turns \\\\ into \\, and sed turns \\ into \).
        sed -n \
! 	"s/'/'\\\\''/g;
! 	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p"
        ;;
      *)
        # `set' quotes correctly as required by POSIX, so do not add quotes.
        sed -n \
! 	"s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p"
        ;;
      esac;
  } |
***************
*** 9726,9738 ****
  # trailing colons and then remove the whole line if VPATH becomes empty
  # (actually we leave an empty line to preserve line numbers).
  if test "x$srcdir" = x.; then
!   ac_vpsub='/^[ 	]*VPATH[ 	]*=/{
  s/:*\$(srcdir):*/:/;
  s/:*\${srcdir}:*/:/;
  s/:*@srcdir@:*/:/;
! s/^\([^=]*=[ 	]*\):*/\1/;
  s/:*$//;
! s/^[^=]*=[ 	]*$//;
  }'
  fi
  
--- 10170,10182 ----
  # trailing colons and then remove the whole line if VPATH becomes empty
  # (actually we leave an empty line to preserve line numbers).
  if test "x$srcdir" = x.; then
!   ac_vpsub='/^[	 ]*VPATH[	 ]*=/{
  s/:*\$(srcdir):*/:/;
  s/:*\${srcdir}:*/:/;
  s/:*@srcdir@:*/:/;
! s/^\([^=]*=[	 ]*\):*/\1/;
  s/:*$//;
! s/^[^=]*=[	 ]*$//;
  }'
  fi
  
***************
*** 9743,9749 ****
  for ac_i in : $LIBOBJS; do test "x$ac_i" = x: && continue
    # 1. Remove the extension, and $U if already installed.
    ac_i=`echo "$ac_i" |
!          sed 's/\$U\././;s/\.o$//;s/\.obj$//'`
    # 2. Add them.
    ac_libobjs="$ac_libobjs $ac_i\$U.$ac_objext"
    ac_ltlibobjs="$ac_ltlibobjs $ac_i"'$U.lo'
--- 10187,10193 ----
  for ac_i in : $LIBOBJS; do test "x$ac_i" = x: && continue
    # 1. Remove the extension, and $U if already installed.
    ac_i=`echo "$ac_i" |
! 	 sed 's/\$U\././;s/\.o$//;s/\.obj$//'`
    # 2. Add them.
    ac_libobjs="$ac_libobjs $ac_i\$U.$ac_objext"
    ac_ltlibobjs="$ac_ltlibobjs $ac_i"'$U.lo'
***************
*** 9801,9809 ****
  elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
    set -o posix
  fi
  
  # Support unset when possible.
! if (FOO=FOO; unset FOO) >/dev/null 2>&1; then
    as_unset=unset
  else
    as_unset=false
--- 10245,10254 ----
  elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
    set -o posix
  fi
+ DUALCASE=1; export DUALCASE # for MKS sh
  
  # Support unset when possible.
! if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
    as_unset=unset
  else
    as_unset=false
***************
*** 9822,9828 ****
    LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
    LC_TELEPHONE LC_TIME
  do
!   if (set +x; test -n "`(eval $as_var=C; export $as_var) 2>&1`"); then
      eval $as_var=C; export $as_var
    else
      $as_unset $as_var
--- 10267,10273 ----
    LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
    LC_TELEPHONE LC_TIME
  do
!   if (set +x; test -z "`(eval $as_var=C; export $as_var) 2>&1`"); then
      eval $as_var=C; export $as_var
    else
      $as_unset $as_var
***************
*** 10001,10016 ****
  if mkdir -p . 2>/dev/null; then
    as_mkdir_p=:
  else
    as_mkdir_p=false
  fi
  
  as_executable_p="test -f"
  
  # Sed expression to map a string onto a valid CPP name.
! as_tr_cpp="sed y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g"
  
  # Sed expression to map a string onto a valid variable name.
! as_tr_sh="sed y%*+%pp%;s%[^_$as_cr_alnum]%_%g"
  
  
  # IFS
--- 10446,10462 ----
  if mkdir -p . 2>/dev/null; then
    as_mkdir_p=:
  else
+   test -d ./-p && rmdir ./-p
    as_mkdir_p=false
  fi
  
  as_executable_p="test -f"
  
  # Sed expression to map a string onto a valid CPP name.
! as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
  
  # Sed expression to map a string onto a valid variable name.
! as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
  
  
  # IFS
***************
*** 10037,10043 ****
  cat >&5 <<_CSEOF
  
  This file was extended by $as_me, which was
! generated by GNU Autoconf 2.57.  Invocation command line was
  
    CONFIG_FILES    = $CONFIG_FILES
    CONFIG_HEADERS  = $CONFIG_HEADERS
--- 10483,10489 ----
  cat >&5 <<_CSEOF
  
  This file was extended by $as_me, which was
! generated by GNU Autoconf 2.59.  Invocation command line was
  
    CONFIG_FILES    = $CONFIG_FILES
    CONFIG_HEADERS  = $CONFIG_HEADERS
***************
*** 10081,10089 ****
    -d, --debug      don't remove temporary files
        --recheck    update $as_me by reconfiguring in the same conditions
    --file=FILE[:TEMPLATE]
!                    instantiate the configuration file FILE
    --header=FILE[:TEMPLATE]
!                    instantiate the configuration header FILE
  
  Configuration files:
  $config_files
--- 10527,10535 ----
    -d, --debug      don't remove temporary files
        --recheck    update $as_me by reconfiguring in the same conditions
    --file=FILE[:TEMPLATE]
! 		   instantiate the configuration file FILE
    --header=FILE[:TEMPLATE]
! 		   instantiate the configuration header FILE
  
  Configuration files:
  $config_files
***************
*** 10100,10110 ****
  cat >>$CONFIG_STATUS <<_ACEOF
  ac_cs_version="\\
  config.status
! configured by $0, generated by GNU Autoconf 2.57,
    with options \\"`echo "$ac_configure_args" | sed 's/[\\""\`\$]/\\\\&/g'`\\"
  
! Copyright 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001
! Free Software Foundation, Inc.
  This config.status script is free software; the Free Software Foundation
  gives unlimited permission to copy, distribute and modify it."
  srcdir=$srcdir
--- 10546,10555 ----
  cat >>$CONFIG_STATUS <<_ACEOF
  ac_cs_version="\\
  config.status
! configured by $0, generated by GNU Autoconf 2.59,
    with options \\"`echo "$ac_configure_args" | sed 's/[\\""\`\$]/\\\\&/g'`\\"
  
! Copyright (C) 2003 Free Software Foundation, Inc.
  This config.status script is free software; the Free Software Foundation
  gives unlimited permission to copy, distribute and modify it."
  srcdir=$srcdir
***************
*** 10310,10323 ****
  s,@AUTOMAKE@,$AUTOMAKE,;t t
  s,@AUTOHEADER@,$AUTOHEADER,;t t
  s,@MAKEINFO@,$MAKEINFO,;t t
- s,@AMTAR@,$AMTAR,;t t
  s,@install_sh@,$install_sh,;t t
  s,@STRIP@,$STRIP,;t t
  s,@ac_ct_STRIP@,$ac_ct_STRIP,;t t
  s,@INSTALL_STRIP_PROGRAM@,$INSTALL_STRIP_PROGRAM,;t t
  s,@AWK@,$AWK,;t t
  s,@SET_MAKE@,$SET_MAKE,;t t
  s,@am__leading_dot@,$am__leading_dot,;t t
  s,@LT_CURRENT@,$LT_CURRENT,;t t
  s,@LT_REVISION@,$LT_REVISION,;t t
  s,@LT_VERSION_INFO@,$LT_VERSION_INFO,;t t
--- 10755,10771 ----
  s,@AUTOMAKE@,$AUTOMAKE,;t t
  s,@AUTOHEADER@,$AUTOHEADER,;t t
  s,@MAKEINFO@,$MAKEINFO,;t t
  s,@install_sh@,$install_sh,;t t
  s,@STRIP@,$STRIP,;t t
  s,@ac_ct_STRIP@,$ac_ct_STRIP,;t t
  s,@INSTALL_STRIP_PROGRAM@,$INSTALL_STRIP_PROGRAM,;t t
+ s,@mkdir_p@,$mkdir_p,;t t
  s,@AWK@,$AWK,;t t
  s,@SET_MAKE@,$SET_MAKE,;t t
  s,@am__leading_dot@,$am__leading_dot,;t t
+ s,@AMTAR@,$AMTAR,;t t
+ s,@am__tar@,$am__tar,;t t
+ s,@am__untar@,$am__untar,;t t
  s,@LT_CURRENT@,$LT_CURRENT,;t t
  s,@LT_REVISION@,$LT_REVISION,;t t
  s,@LT_VERSION_INFO@,$LT_VERSION_INFO,;t t
***************
*** 10358,10363 ****
--- 10806,10812 ----
  s,@X_LIBS@,$X_LIBS,;t t
  s,@X_EXTRA_LIBS@,$X_EXTRA_LIBS,;t t
  s,@PKG_CONFIG@,$PKG_CONFIG,;t t
+ s,@ac_pt_PKG_CONFIG@,$ac_pt_PKG_CONFIG,;t t
  s,@XRENDER_CFLAGS@,$XRENDER_CFLAGS,;t t
  s,@XRENDER_LIBS@,$XRENDER_LIBS,;t t
  s,@RENDER_CFLAGS@,$RENDER_CFLAGS,;t t
***************
*** 10392,10400 ****
        (echo ':t
    /@[a-zA-Z_][a-zA-Z_0-9]*@/!b' && cat $tmp/subs.frag) >$tmp/subs-$ac_sed_frag.sed
        if test -z "$ac_sed_cmds"; then
!   	ac_sed_cmds="sed -f $tmp/subs-$ac_sed_frag.sed"
        else
!   	ac_sed_cmds="$ac_sed_cmds | sed -f $tmp/subs-$ac_sed_frag.sed"
        fi
        ac_sed_frag=`expr $ac_sed_frag + 1`
        ac_beg=$ac_end
--- 10841,10849 ----
        (echo ':t
    /@[a-zA-Z_][a-zA-Z_0-9]*@/!b' && cat $tmp/subs.frag) >$tmp/subs-$ac_sed_frag.sed
        if test -z "$ac_sed_cmds"; then
! 	ac_sed_cmds="sed -f $tmp/subs-$ac_sed_frag.sed"
        else
! 	ac_sed_cmds="$ac_sed_cmds | sed -f $tmp/subs-$ac_sed_frag.sed"
        fi
        ac_sed_frag=`expr $ac_sed_frag + 1`
        ac_beg=$ac_end
***************
*** 10412,10432 ****
    # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
    case $ac_file in
    - | *:- | *:-:* ) # input from stdin
!         cat >$tmp/stdin
!         ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
!         ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
    *:* ) ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
!         ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
    * )   ac_file_in=$ac_file.in ;;
    esac
  
    # Compute @srcdir@, @top_srcdir@, and @INSTALL@ for subdirectories.
    ac_dir=`(dirname "$ac_file") 2>/dev/null ||
  $as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
!          X"$ac_file" : 'X\(//\)[^/]' \| \
!          X"$ac_file" : 'X\(//\)$' \| \
!          X"$ac_file" : 'X\(/\)' \| \
!          .     : '\(.\)' 2>/dev/null ||
  echo X"$ac_file" |
      sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
    	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
--- 10861,10881 ----
    # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
    case $ac_file in
    - | *:- | *:-:* ) # input from stdin
! 	cat >$tmp/stdin
! 	ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
! 	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
    *:* ) ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
! 	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
    * )   ac_file_in=$ac_file.in ;;
    esac
  
    # Compute @srcdir@, @top_srcdir@, and @INSTALL@ for subdirectories.
    ac_dir=`(dirname "$ac_file") 2>/dev/null ||
  $as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
! 	 X"$ac_file" : 'X\(//\)[^/]' \| \
! 	 X"$ac_file" : 'X\(//\)$' \| \
! 	 X"$ac_file" : 'X\(/\)' \| \
! 	 .     : '\(.\)' 2>/dev/null ||
  echo X"$ac_file" |
      sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
    	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
***************
*** 10442,10451 ****
        as_dirs="$as_dir $as_dirs"
        as_dir=`(dirname "$as_dir") 2>/dev/null ||
  $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
!          X"$as_dir" : 'X\(//\)[^/]' \| \
!          X"$as_dir" : 'X\(//\)$' \| \
!          X"$as_dir" : 'X\(/\)' \| \
!          .     : '\(.\)' 2>/dev/null ||
  echo X"$as_dir" |
      sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
    	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
--- 10891,10900 ----
        as_dirs="$as_dir $as_dirs"
        as_dir=`(dirname "$as_dir") 2>/dev/null ||
  $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
! 	 X"$as_dir" : 'X\(//\)[^/]' \| \
! 	 X"$as_dir" : 'X\(//\)$' \| \
! 	 X"$as_dir" : 'X\(/\)' \| \
! 	 .     : '\(.\)' 2>/dev/null ||
  echo X"$as_dir" |
      sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
    	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
***************
*** 10483,10494 ****
      ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
      ac_top_srcdir=$ac_top_builddir$srcdir ;;
  esac
! # Don't blindly perform a `cd "$ac_dir"/$ac_foo && pwd` since $ac_foo can be
! # absolute.
! ac_abs_builddir=`cd "$ac_dir" && cd $ac_builddir && pwd`
! ac_abs_top_builddir=`cd "$ac_dir" && cd ${ac_top_builddir}. && pwd`
! ac_abs_srcdir=`cd "$ac_dir" && cd $ac_srcdir && pwd`
! ac_abs_top_srcdir=`cd "$ac_dir" && cd $ac_top_srcdir && pwd`
  
  
    case $INSTALL in
--- 10932,10976 ----
      ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
      ac_top_srcdir=$ac_top_builddir$srcdir ;;
  esac
! 
! # Do not use `cd foo && pwd` to compute absolute paths, because
! # the directories may not exist.
! case `pwd` in
! .) ac_abs_builddir="$ac_dir";;
! *)
!   case "$ac_dir" in
!   .) ac_abs_builddir=`pwd`;;
!   [\\/]* | ?:[\\/]* ) ac_abs_builddir="$ac_dir";;
!   *) ac_abs_builddir=`pwd`/"$ac_dir";;
!   esac;;
! esac
! case $ac_abs_builddir in
! .) ac_abs_top_builddir=${ac_top_builddir}.;;
! *)
!   case ${ac_top_builddir}. in
!   .) ac_abs_top_builddir=$ac_abs_builddir;;
!   [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
!   *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
!   esac;;
! esac
! case $ac_abs_builddir in
! .) ac_abs_srcdir=$ac_srcdir;;
! *)
!   case $ac_srcdir in
!   .) ac_abs_srcdir=$ac_abs_builddir;;
!   [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_srcdir;;
!   *) ac_abs_srcdir=$ac_abs_builddir/$ac_srcdir;;
!   esac;;
! esac
! case $ac_abs_builddir in
! .) ac_abs_top_srcdir=$ac_top_srcdir;;
! *)
!   case $ac_top_srcdir in
!   .) ac_abs_top_srcdir=$ac_abs_builddir;;
!   [\\/]* | ?:[\\/]* ) ac_abs_top_srcdir=$ac_top_srcdir;;
!   *) ac_abs_top_srcdir=$ac_abs_builddir/$ac_top_srcdir;;
!   esac;;
! esac
  
  
    case $INSTALL in
***************
*** 10510,10516 ****
      configure_input="$ac_file.  "
    fi
    configure_input=$configure_input"Generated from `echo $ac_file_in |
!                                      sed 's,.*/,,'` by configure."
  
    # First look for the input files in the build tree, otherwise in the
    # src tree.
--- 10992,10998 ----
      configure_input="$ac_file.  "
    fi
    configure_input=$configure_input"Generated from `echo $ac_file_in |
! 				     sed 's,.*/,,'` by configure."
  
    # First look for the input files in the build tree, otherwise in the
    # src tree.
***************
*** 10519,10542 ****
        case $f in
        -) echo $tmp/stdin ;;
        [\\/$]*)
!          # Absolute (can't be DOS-style, as IFS=:)
!          test -f "$f" || { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
  echo "$as_me: error: cannot find input file: $f" >&2;}
     { (exit 1); exit 1; }; }
!          echo $f;;
        *) # Relative
!          if test -f "$f"; then
!            # Build tree
!            echo $f
!          elif test -f "$srcdir/$f"; then
!            # Source tree
!            echo $srcdir/$f
!          else
!            # /dev/null tree
!            { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
  echo "$as_me: error: cannot find input file: $f" >&2;}
     { (exit 1); exit 1; }; }
!          fi;;
        esac
      done` || { (exit 1); exit 1; }
  _ACEOF
--- 11001,11024 ----
        case $f in
        -) echo $tmp/stdin ;;
        [\\/$]*)
! 	 # Absolute (can't be DOS-style, as IFS=:)
! 	 test -f "$f" || { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
  echo "$as_me: error: cannot find input file: $f" >&2;}
     { (exit 1); exit 1; }; }
! 	 echo "$f";;
        *) # Relative
! 	 if test -f "$f"; then
! 	   # Build tree
! 	   echo "$f"
! 	 elif test -f "$srcdir/$f"; then
! 	   # Source tree
! 	   echo "$srcdir/$f"
! 	 else
! 	   # /dev/null tree
! 	   { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
  echo "$as_me: error: cannot find input file: $f" >&2;}
     { (exit 1); exit 1; }; }
! 	 fi;;
        esac
      done` || { (exit 1); exit 1; }
  _ACEOF
***************
*** 10578,10589 ****
  # NAME is the cpp macro being defined and VALUE is the value it is being given.
  #
  # ac_d sets the value in "#define NAME VALUE" lines.
! ac_dA='s,^\([ 	]*\)#\([ 	]*define[ 	][ 	]*\)'
! ac_dB='[ 	].*$,\1#\2'
  ac_dC=' '
  ac_dD=',;t'
  # ac_u turns "#undef NAME" without trailing blanks into "#define NAME VALUE".
! ac_uA='s,^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
  ac_uB='$,\1#\2define\3'
  ac_uC=' '
  ac_uD=',;t'
--- 11060,11071 ----
  # NAME is the cpp macro being defined and VALUE is the value it is being given.
  #
  # ac_d sets the value in "#define NAME VALUE" lines.
! ac_dA='s,^\([	 ]*\)#\([	 ]*define[	 ][	 ]*\)'
! ac_dB='[	 ].*$,\1#\2'
  ac_dC=' '
  ac_dD=',;t'
  # ac_u turns "#undef NAME" without trailing blanks into "#define NAME VALUE".
! ac_uA='s,^\([	 ]*\)#\([	 ]*\)undef\([	 ][	 ]*\)'
  ac_uB='$,\1#\2define\3'
  ac_uC=' '
  ac_uD=',;t'
***************
*** 10592,10602 ****
    # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
    case $ac_file in
    - | *:- | *:-:* ) # input from stdin
!         cat >$tmp/stdin
!         ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
!         ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
    *:* ) ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
!         ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
    * )   ac_file_in=$ac_file.in ;;
    esac
  
--- 11074,11084 ----
    # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
    case $ac_file in
    - | *:- | *:-:* ) # input from stdin
! 	cat >$tmp/stdin
! 	ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
! 	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
    *:* ) ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
! 	ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
    * )   ac_file_in=$ac_file.in ;;
    esac
  
***************
*** 10610,10637 ****
        case $f in
        -) echo $tmp/stdin ;;
        [\\/$]*)
!          # Absolute (can't be DOS-style, as IFS=:)
!          test -f "$f" || { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
  echo "$as_me: error: cannot find input file: $f" >&2;}
     { (exit 1); exit 1; }; }
!          echo $f;;
        *) # Relative
!          if test -f "$f"; then
!            # Build tree
!            echo $f
!          elif test -f "$srcdir/$f"; then
!            # Source tree
!            echo $srcdir/$f
!          else
!            # /dev/null tree
!            { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
  echo "$as_me: error: cannot find input file: $f" >&2;}
     { (exit 1); exit 1; }; }
!          fi;;
        esac
      done` || { (exit 1); exit 1; }
    # Remove the trailing spaces.
!   sed 's/[ 	]*$//' $ac_file_inputs >$tmp/in
  
  _ACEOF
  
--- 11092,11120 ----
        case $f in
        -) echo $tmp/stdin ;;
        [\\/$]*)
! 	 # Absolute (can't be DOS-style, as IFS=:)
! 	 test -f "$f" || { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
  echo "$as_me: error: cannot find input file: $f" >&2;}
     { (exit 1); exit 1; }; }
! 	 # Do quote $f, to prevent DOS paths from being IFS'd.
! 	 echo "$f";;
        *) # Relative
! 	 if test -f "$f"; then
! 	   # Build tree
! 	   echo "$f"
! 	 elif test -f "$srcdir/$f"; then
! 	   # Source tree
! 	   echo "$srcdir/$f"
! 	 else
! 	   # /dev/null tree
! 	   { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
  echo "$as_me: error: cannot find input file: $f" >&2;}
     { (exit 1); exit 1; }; }
! 	 fi;;
        esac
      done` || { (exit 1); exit 1; }
    # Remove the trailing spaces.
!   sed 's/[	 ]*$//' $ac_file_inputs >$tmp/in
  
  _ACEOF
  
***************
*** 10654,10662 ****
  s,[\\$`],\\&,g
  t clear
  : clear
! s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	(][^ 	(]*\)\(([^)]*)\)[ 	]*\(.*\)$,${ac_dA}\1${ac_dB}\1\2${ac_dC}\3${ac_dD},gp
  t end
! s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	][^ 	]*\)[ 	]*\(.*\)$,${ac_dA}\1${ac_dB}\1${ac_dC}\2${ac_dD},gp
  : end
  _ACEOF
  # If some macros were called several times there might be several times
--- 11137,11145 ----
  s,[\\$`],\\&,g
  t clear
  : clear
! s,^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 (][^	 (]*\)\(([^)]*)\)[	 ]*\(.*\)$,${ac_dA}\1${ac_dB}\1\2${ac_dC}\3${ac_dD},gp
  t end
! s,^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 ][^	 ]*\)[	 ]*\(.*\)$,${ac_dA}\1${ac_dB}\1${ac_dC}\2${ac_dD},gp
  : end
  _ACEOF
  # If some macros were called several times there might be several times
***************
*** 10670,10682 ****
  # example, in the case of _POSIX_SOURCE, which is predefined and required
  # on some systems where configure will not decide to define it.
  cat >>conftest.undefs <<\_ACEOF
! s,^[ 	]*#[ 	]*undef[ 	][ 	]*[a-zA-Z_][a-zA-Z_0-9]*,/* & */,
  _ACEOF
  
  # Break up conftest.defines because some shells have a limit on the size
  # of here documents, and old seds have small limits too (100 cmds).
  echo '  # Handle all the #define templates only if necessary.' >>$CONFIG_STATUS
! echo '  if grep "^[ 	]*#[ 	]*define" $tmp/in >/dev/null; then' >>$CONFIG_STATUS
  echo '  # If there are no defines, we may have an empty if/fi' >>$CONFIG_STATUS
  echo '  :' >>$CONFIG_STATUS
  rm -f conftest.tail
--- 11153,11165 ----
  # example, in the case of _POSIX_SOURCE, which is predefined and required
  # on some systems where configure will not decide to define it.
  cat >>conftest.undefs <<\_ACEOF
! s,^[	 ]*#[	 ]*undef[	 ][	 ]*[a-zA-Z_][a-zA-Z_0-9]*,/* & */,
  _ACEOF
  
  # Break up conftest.defines because some shells have a limit on the size
  # of here documents, and old seds have small limits too (100 cmds).
  echo '  # Handle all the #define templates only if necessary.' >>$CONFIG_STATUS
! echo '  if grep "^[	 ]*#[	 ]*define" $tmp/in >/dev/null; then' >>$CONFIG_STATUS
  echo '  # If there are no defines, we may have an empty if/fi' >>$CONFIG_STATUS
  echo '  :' >>$CONFIG_STATUS
  rm -f conftest.tail
***************
*** 10685,10691 ****
    # Write a limited-size here document to $tmp/defines.sed.
    echo '  cat >$tmp/defines.sed <<CEOF' >>$CONFIG_STATUS
    # Speed up: don't consider the non `#define' lines.
!   echo '/^[ 	]*#[ 	]*define/!b' >>$CONFIG_STATUS
    # Work around the forget-to-reset-the-flag bug.
    echo 't clr' >>$CONFIG_STATUS
    echo ': clr' >>$CONFIG_STATUS
--- 11168,11174 ----
    # Write a limited-size here document to $tmp/defines.sed.
    echo '  cat >$tmp/defines.sed <<CEOF' >>$CONFIG_STATUS
    # Speed up: don't consider the non `#define' lines.
!   echo '/^[	 ]*#[	 ]*define/!b' >>$CONFIG_STATUS
    # Work around the forget-to-reset-the-flag bug.
    echo 't clr' >>$CONFIG_STATUS
    echo ': clr' >>$CONFIG_STATUS
***************
*** 10712,10718 ****
    # Write a limited-size here document to $tmp/undefs.sed.
    echo '  cat >$tmp/undefs.sed <<CEOF' >>$CONFIG_STATUS
    # Speed up: don't consider the non `#undef'
!   echo '/^[ 	]*#[ 	]*undef/!b' >>$CONFIG_STATUS
    # Work around the forget-to-reset-the-flag bug.
    echo 't clr' >>$CONFIG_STATUS
    echo ': clr' >>$CONFIG_STATUS
--- 11195,11201 ----
    # Write a limited-size here document to $tmp/undefs.sed.
    echo '  cat >$tmp/undefs.sed <<CEOF' >>$CONFIG_STATUS
    # Speed up: don't consider the non `#undef'
!   echo '/^[	 ]*#[	 ]*undef/!b' >>$CONFIG_STATUS
    # Work around the forget-to-reset-the-flag bug.
    echo 't clr' >>$CONFIG_STATUS
    echo ': clr' >>$CONFIG_STATUS
***************
*** 10746,10755 ****
      else
        ac_dir=`(dirname "$ac_file") 2>/dev/null ||
  $as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
!          X"$ac_file" : 'X\(//\)[^/]' \| \
!          X"$ac_file" : 'X\(//\)$' \| \
!          X"$ac_file" : 'X\(/\)' \| \
!          .     : '\(.\)' 2>/dev/null ||
  echo X"$ac_file" |
      sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
    	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
--- 11229,11238 ----
      else
        ac_dir=`(dirname "$ac_file") 2>/dev/null ||
  $as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
! 	 X"$ac_file" : 'X\(//\)[^/]' \| \
! 	 X"$ac_file" : 'X\(//\)$' \| \
! 	 X"$ac_file" : 'X\(/\)' \| \
! 	 .     : '\(.\)' 2>/dev/null ||
  echo X"$ac_file" |
      sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
    	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
***************
*** 10765,10774 ****
        as_dirs="$as_dir $as_dirs"
        as_dir=`(dirname "$as_dir") 2>/dev/null ||
  $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
!          X"$as_dir" : 'X\(//\)[^/]' \| \
!          X"$as_dir" : 'X\(//\)$' \| \
!          X"$as_dir" : 'X\(/\)' \| \
!          .     : '\(.\)' 2>/dev/null ||
  echo X"$as_dir" |
      sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
    	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
--- 11248,11257 ----
        as_dirs="$as_dir $as_dirs"
        as_dir=`(dirname "$as_dir") 2>/dev/null ||
  $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
! 	 X"$as_dir" : 'X\(//\)[^/]' \| \
! 	 X"$as_dir" : 'X\(//\)$' \| \
! 	 X"$as_dir" : 'X\(/\)' \| \
! 	 .     : '\(.\)' 2>/dev/null ||
  echo X"$as_dir" |
      sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
    	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
***************
*** 10800,10809 ****
  done
  echo "timestamp for $ac_file" >`(dirname $ac_file) 2>/dev/null ||
  $as_expr X$ac_file : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
!          X$ac_file : 'X\(//\)[^/]' \| \
!          X$ac_file : 'X\(//\)$' \| \
!          X$ac_file : 'X\(/\)' \| \
!          .     : '\(.\)' 2>/dev/null ||
  echo X$ac_file |
      sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
    	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
--- 11283,11292 ----
  done
  echo "timestamp for $ac_file" >`(dirname $ac_file) 2>/dev/null ||
  $as_expr X$ac_file : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
! 	 X$ac_file : 'X\(//\)[^/]' \| \
! 	 X$ac_file : 'X\(//\)$' \| \
! 	 X$ac_file : 'X\(/\)' \| \
! 	 .     : '\(.\)' 2>/dev/null ||
  echo X$ac_file |
      sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
    	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
***************
*** 10822,10837 ****
    ac_source=`echo "$ac_file" | sed 's,[^:]*:,,'`
    ac_dir=`(dirname "$ac_dest") 2>/dev/null ||
  $as_expr X"$ac_dest" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
!          X"$ac_dest" : 'X\(//\)[^/]' \| \
!          X"$ac_dest" : 'X\(//\)$' \| \
!          X"$ac_dest" : 'X\(/\)' \| \
!          .     : '\(.\)' 2>/dev/null ||
  echo X"$ac_dest" |
      sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
    	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
    	  /^X\(\/\/\)$/{ s//\1/; q; }
    	  /^X\(\/\).*/{ s//\1/; q; }
    	  s/.*/./; q'`
    ac_builddir=.
  
  if test "$ac_dir" != .; then
--- 11305,11345 ----
    ac_source=`echo "$ac_file" | sed 's,[^:]*:,,'`
    ac_dir=`(dirname "$ac_dest") 2>/dev/null ||
  $as_expr X"$ac_dest" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
! 	 X"$ac_dest" : 'X\(//\)[^/]' \| \
! 	 X"$ac_dest" : 'X\(//\)$' \| \
! 	 X"$ac_dest" : 'X\(/\)' \| \
! 	 .     : '\(.\)' 2>/dev/null ||
  echo X"$ac_dest" |
      sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
    	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
    	  /^X\(\/\/\)$/{ s//\1/; q; }
    	  /^X\(\/\).*/{ s//\1/; q; }
    	  s/.*/./; q'`
+   { if $as_mkdir_p; then
+     mkdir -p "$ac_dir"
+   else
+     as_dir="$ac_dir"
+     as_dirs=
+     while test ! -d "$as_dir"; do
+       as_dirs="$as_dir $as_dirs"
+       as_dir=`(dirname "$as_dir") 2>/dev/null ||
+ $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+ 	 X"$as_dir" : 'X\(//\)[^/]' \| \
+ 	 X"$as_dir" : 'X\(//\)$' \| \
+ 	 X"$as_dir" : 'X\(/\)' \| \
+ 	 .     : '\(.\)' 2>/dev/null ||
+ echo X"$as_dir" |
+     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
+   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
+   	  /^X\(\/\/\)$/{ s//\1/; q; }
+   	  /^X\(\/\).*/{ s//\1/; q; }
+   	  s/.*/./; q'`
+     done
+     test ! -n "$as_dirs" || mkdir $as_dirs
+   fi || { { echo "$as_me:$LINENO: error: cannot create directory \"$ac_dir\"" >&5
+ echo "$as_me: error: cannot create directory \"$ac_dir\"" >&2;}
+    { (exit 1); exit 1; }; }; }
+ 
    ac_builddir=.
  
  if test "$ac_dir" != .; then
***************
*** 10857,10868 ****
      ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
      ac_top_srcdir=$ac_top_builddir$srcdir ;;
  esac
! # Don't blindly perform a `cd "$ac_dir"/$ac_foo && pwd` since $ac_foo can be
! # absolute.
! ac_abs_builddir=`cd "$ac_dir" && cd $ac_builddir && pwd`
! ac_abs_top_builddir=`cd "$ac_dir" && cd ${ac_top_builddir}. && pwd`
! ac_abs_srcdir=`cd "$ac_dir" && cd $ac_srcdir && pwd`
! ac_abs_top_srcdir=`cd "$ac_dir" && cd $ac_top_srcdir && pwd`
  
  
    { echo "$as_me:$LINENO: executing $ac_dest commands" >&5
--- 11365,11409 ----
      ac_srcdir=$ac_top_builddir$srcdir$ac_dir_suffix
      ac_top_srcdir=$ac_top_builddir$srcdir ;;
  esac
! 
! # Do not use `cd foo && pwd` to compute absolute paths, because
! # the directories may not exist.
! case `pwd` in
! .) ac_abs_builddir="$ac_dir";;
! *)
!   case "$ac_dir" in
!   .) ac_abs_builddir=`pwd`;;
!   [\\/]* | ?:[\\/]* ) ac_abs_builddir="$ac_dir";;
!   *) ac_abs_builddir=`pwd`/"$ac_dir";;
!   esac;;
! esac
! case $ac_abs_builddir in
! .) ac_abs_top_builddir=${ac_top_builddir}.;;
! *)
!   case ${ac_top_builddir}. in
!   .) ac_abs_top_builddir=$ac_abs_builddir;;
!   [\\/]* | ?:[\\/]* ) ac_abs_top_builddir=${ac_top_builddir}.;;
!   *) ac_abs_top_builddir=$ac_abs_builddir/${ac_top_builddir}.;;
!   esac;;
! esac
! case $ac_abs_builddir in
! .) ac_abs_srcdir=$ac_srcdir;;
! *)
!   case $ac_srcdir in
!   .) ac_abs_srcdir=$ac_abs_builddir;;
!   [\\/]* | ?:[\\/]* ) ac_abs_srcdir=$ac_srcdir;;
!   *) ac_abs_srcdir=$ac_abs_builddir/$ac_srcdir;;
!   esac;;
! esac
! case $ac_abs_builddir in
! .) ac_abs_top_srcdir=$ac_top_srcdir;;
! *)
!   case $ac_top_srcdir in
!   .) ac_abs_top_srcdir=$ac_abs_builddir;;
!   [\\/]* | ?:[\\/]* ) ac_abs_top_srcdir=$ac_top_srcdir;;
!   *) ac_abs_top_srcdir=$ac_abs_builddir/$ac_top_srcdir;;
!   esac;;
! esac
  
  
    { echo "$as_me:$LINENO: executing $ac_dest commands" >&5
***************
*** 10880,10889 ****
    if grep '^#.*generated by automake' $mf > /dev/null 2>&1; then
      dirpart=`(dirname "$mf") 2>/dev/null ||
  $as_expr X"$mf" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
!          X"$mf" : 'X\(//\)[^/]' \| \
!          X"$mf" : 'X\(//\)$' \| \
!          X"$mf" : 'X\(/\)' \| \
!          .     : '\(.\)' 2>/dev/null ||
  echo X"$mf" |
      sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
    	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
--- 11421,11430 ----
    if grep '^#.*generated by automake' $mf > /dev/null 2>&1; then
      dirpart=`(dirname "$mf") 2>/dev/null ||
  $as_expr X"$mf" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
! 	 X"$mf" : 'X\(//\)[^/]' \| \
! 	 X"$mf" : 'X\(//\)$' \| \
! 	 X"$mf" : 'X\(/\)' \| \
! 	 .     : '\(.\)' 2>/dev/null ||
  echo X"$mf" |
      sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
    	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
***************
*** 10893,10928 ****
    else
      continue
    fi
!   grep '^DEP_FILES *= *[^ #]' < "$mf" > /dev/null || continue
!   # Extract the definition of DEP_FILES from the Makefile without
!   # running `make'.
!   DEPDIR=`sed -n -e '/^DEPDIR = / s///p' < "$mf"`
    test -z "$DEPDIR" && continue
    # When using ansi2knr, U may be empty or an underscore; expand it
!   U=`sed -n -e '/^U = / s///p' < "$mf"`
!   test -d "$dirpart/$DEPDIR" || mkdir "$dirpart/$DEPDIR"
!   # We invoke sed twice because it is the simplest approach to
!   # changing $(DEPDIR) to its actual value in the expansion.
!   for file in `sed -n -e '
!     /^DEP_FILES = .*\\\\$/ {
!       s/^DEP_FILES = //
!       :loop
! 	s/\\\\$//
! 	p
! 	n
! 	/\\\\$/ b loop
!       p
!     }
!     /^DEP_FILES = / s/^DEP_FILES = //p' < "$mf" | \
         sed -e 's/\$(DEPDIR)/'"$DEPDIR"'/g' -e 's/\$U/'"$U"'/g'`; do
      # Make sure the directory exists.
      test -f "$dirpart/$file" && continue
      fdir=`(dirname "$file") 2>/dev/null ||
  $as_expr X"$file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
!          X"$file" : 'X\(//\)[^/]' \| \
!          X"$file" : 'X\(//\)$' \| \
!          X"$file" : 'X\(/\)' \| \
!          .     : '\(.\)' 2>/dev/null ||
  echo X"$file" |
      sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
    	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
--- 11434,11463 ----
    else
      continue
    fi
!   # Extract the definition of DEPDIR, am__include, and am__quote
!   # from the Makefile without running `make'.
!   DEPDIR=`sed -n 's/^DEPDIR = //p' < "$mf"`
    test -z "$DEPDIR" && continue
+   am__include=`sed -n 's/^am__include = //p' < "$mf"`
+   test -z "am__include" && continue
+   am__quote=`sed -n 's/^am__quote = //p' < "$mf"`
    # When using ansi2knr, U may be empty or an underscore; expand it
!   U=`sed -n 's/^U = //p' < "$mf"`
!   # Find all dependency output files, they are included files with
!   # $(DEPDIR) in their names.  We invoke sed twice because it is the
!   # simplest approach to changing $(DEPDIR) to its actual value in the
!   # expansion.
!   for file in `sed -n "
!     s/^$am__include $am__quote\(.*(DEPDIR).*\)$am__quote"'$/\1/p' <"$mf" | \
         sed -e 's/\$(DEPDIR)/'"$DEPDIR"'/g' -e 's/\$U/'"$U"'/g'`; do
      # Make sure the directory exists.
      test -f "$dirpart/$file" && continue
      fdir=`(dirname "$file") 2>/dev/null ||
  $as_expr X"$file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
! 	 X"$file" : 'X\(//\)[^/]' \| \
! 	 X"$file" : 'X\(//\)$' \| \
! 	 X"$file" : 'X\(/\)' \| \
! 	 .     : '\(.\)' 2>/dev/null ||
  echo X"$file" |
      sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
    	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
***************
*** 10938,10947 ****
        as_dirs="$as_dir $as_dirs"
        as_dir=`(dirname "$as_dir") 2>/dev/null ||
  $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
!          X"$as_dir" : 'X\(//\)[^/]' \| \
!          X"$as_dir" : 'X\(//\)$' \| \
!          X"$as_dir" : 'X\(/\)' \| \
!          .     : '\(.\)' 2>/dev/null ||
  echo X"$as_dir" |
      sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
    	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
--- 11473,11482 ----
        as_dirs="$as_dir $as_dirs"
        as_dir=`(dirname "$as_dir") 2>/dev/null ||
  $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
! 	 X"$as_dir" : 'X\(//\)[^/]' \| \
! 	 X"$as_dir" : 'X\(//\)$' \| \
! 	 X"$as_dir" : 'X\(/\)' \| \
! 	 .     : '\(.\)' 2>/dev/null ||
  echo X"$as_dir" |
      sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
    	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
diff -crN ./xcursor/install-sh /users6/vanderms/sb/gnome_21264bis/src/./xcursor/install-sh
*** ./xcursor/install-sh	Wed May 21 19:18:16 2003
--- /users6/vanderms/sb/gnome_21264bis/src/./xcursor/install-sh	Tue Jan 17 10:49:17 2006
***************
*** 56,62 ****
  
  while [ x"$1" != x ]; do
      case $1 in
! 	-c) instcmd=$cpprog
  	    shift
  	    continue;;
  
--- 56,62 ----
  
  while [ x"$1" != x ]; do
      case $1 in
! 	-c) instcmd="$cpprog"
  	    shift
  	    continue;;
  
***************
*** 79,85 ****
  	    shift
  	    continue;;
  
! 	-s) stripcmd=$stripprog
  	    shift
  	    continue;;
  
--- 79,85 ----
  	    shift
  	    continue;;
  
! 	-s) stripcmd="$stripprog"
  	    shift
  	    continue;;
  
***************
*** 106,237 ****
  
  if [ x"$src" = x ]
  then
! 	echo "$0: no input file specified" >&2
  	exit 1
  else
! 	:
  fi
  
  if [ x"$dir_arg" != x ]; then
  	dst=$src
  	src=""
! 
! 	if [ -d "$dst" ]; then
  		instcmd=:
  		chmodcmd=""
  	else
! 		instcmd=$mkdirprog
  	fi
  else
  
  # Waiting for this to be detected by the "$instcmd $src $dsttmp" command
! # might cause directories to be created, which would be especially bad
  # if $src (and thus $dsttmp) contains '*'.
  
! 	if [ -f "$src" ] || [ -d "$src" ]
  	then
! 		:
  	else
! 		echo "$0: $src does not exist" >&2
  		exit 1
  	fi
! 
  	if [ x"$dst" = x ]
  	then
! 		echo "$0: no destination specified" >&2
  		exit 1
  	else
! 		:
  	fi
  
  # If destination is a directory, append the input filename; if your system
  # does not like double slashes in filenames, you may need to add some logic
  
! 	if [ -d "$dst" ]
  	then
! 		dst=$dst/`basename "$src"`
  	else
! 		:
  	fi
  fi
  
  ## this sed command emulates the dirname command
! dstdir=`echo "$dst" | sed -e 's,[^/]*$,,;s,/$,,;s,^$,.,'`
  
  # Make sure that the destination directory exists.
  #  this part is taken from Noah Friedman's mkinstalldirs script
  
  # Skip lots of stat calls in the usual case.
  if [ ! -d "$dstdir" ]; then
! defaultIFS='
! 	'
! IFS="${IFS-$defaultIFS}"
  
! oIFS=$IFS
  # Some sh's can't handle IFS=/ for some reason.
  IFS='%'
! set - `echo "$dstdir" | sed -e 's@/@%@g' -e 's@^%@/@'`
! IFS=$oIFS
  
  pathcomp=''
  
  while [ $# -ne 0 ] ; do
! 	pathcomp=$pathcomp$1
  	shift
  
! 	if [ ! -d "$pathcomp" ] ;
          then
! 		$mkdirprog "$pathcomp"
  	else
! 		:
  	fi
  
! 	pathcomp=$pathcomp/
  done
  fi
  
  if [ x"$dir_arg" != x ]
  then
! 	$doit $instcmd "$dst" &&
  
! 	if [ x"$chowncmd" != x ]; then $doit $chowncmd "$dst"; else : ; fi &&
! 	if [ x"$chgrpcmd" != x ]; then $doit $chgrpcmd "$dst"; else : ; fi &&
! 	if [ x"$stripcmd" != x ]; then $doit $stripcmd "$dst"; else : ; fi &&
! 	if [ x"$chmodcmd" != x ]; then $doit $chmodcmd "$dst"; else : ; fi
  else
  
  # If we're going to rename the final executable, determine the name now.
  
! 	if [ x"$transformarg" = x ]
  	then
! 		dstfile=`basename "$dst"`
  	else
! 		dstfile=`basename "$dst" $transformbasename |
  			sed $transformarg`$transformbasename
  	fi
  
  # don't allow the sed command to completely eliminate the filename
  
! 	if [ x"$dstfile" = x ]
  	then
! 		dstfile=`basename "$dst"`
  	else
! 		:
  	fi
  
! # Make a couple of temp file names in the proper directory.
  
  	dsttmp=$dstdir/#inst.$$#
- 	rmtmp=$dstdir/#rm.$$#
- 
- # Trap to clean up temp files at exit.
- 
- 	trap 'status=$?; rm -f "$dsttmp" "$rmtmp" && exit $status' 0
- 	trap '(exit $?); exit' 1 2 13 15
  
  # Move or copy the file name to the temp name
  
! 	$doit $instcmd "$src" "$dsttmp" &&
  
  # and set any options; do chmod last to preserve setuid bits
  
--- 106,233 ----
  
  if [ x"$src" = x ]
  then
! 	echo "install:	no input file specified"
  	exit 1
  else
! 	true
  fi
  
  if [ x"$dir_arg" != x ]; then
  	dst=$src
  	src=""
! 	
! 	if [ -d $dst ]; then
  		instcmd=:
  		chmodcmd=""
  	else
! 		instcmd=mkdir
  	fi
  else
  
  # Waiting for this to be detected by the "$instcmd $src $dsttmp" command
! # might cause directories to be created, which would be especially bad 
  # if $src (and thus $dsttmp) contains '*'.
  
! 	if [ -f $src -o -d $src ]
  	then
! 		true
  	else
! 		echo "install:  $src does not exist"
  		exit 1
  	fi
! 	
  	if [ x"$dst" = x ]
  	then
! 		echo "install:	no destination specified"
  		exit 1
  	else
! 		true
  	fi
  
  # If destination is a directory, append the input filename; if your system
  # does not like double slashes in filenames, you may need to add some logic
  
! 	if [ -d $dst ]
  	then
! 		dst="$dst"/`basename $src`
  	else
! 		true
  	fi
  fi
  
  ## this sed command emulates the dirname command
! dstdir=`echo $dst | sed -e 's,[^/]*$,,;s,/$,,;s,^$,.,'`
  
  # Make sure that the destination directory exists.
  #  this part is taken from Noah Friedman's mkinstalldirs script
  
  # Skip lots of stat calls in the usual case.
  if [ ! -d "$dstdir" ]; then
! defaultIFS='	
! '
! IFS="${IFS-${defaultIFS}}"
  
! oIFS="${IFS}"
  # Some sh's can't handle IFS=/ for some reason.
  IFS='%'
! set - `echo ${dstdir} | sed -e 's@/@%@g' -e 's@^%@/@'`
! IFS="${oIFS}"
  
  pathcomp=''
  
  while [ $# -ne 0 ] ; do
! 	pathcomp="${pathcomp}${1}"
  	shift
  
! 	if [ ! -d "${pathcomp}" ] ;
          then
! 		$mkdirprog "${pathcomp}"
  	else
! 		true
  	fi
  
! 	pathcomp="${pathcomp}/"
  done
  fi
  
  if [ x"$dir_arg" != x ]
  then
! 	$doit $instcmd $dst &&
  
! 	if [ x"$chowncmd" != x ]; then $doit $chowncmd $dst; else true ; fi &&
! 	if [ x"$chgrpcmd" != x ]; then $doit $chgrpcmd $dst; else true ; fi &&
! 	if [ x"$stripcmd" != x ]; then $doit $stripcmd $dst || true; else true ; fi &&
! 	if [ x"$chmodcmd" != x ]; then $doit $chmodcmd $dst; else true ; fi
  else
  
  # If we're going to rename the final executable, determine the name now.
  
! 	if [ x"$transformarg" = x ] 
  	then
! 		dstfile=`basename $dst`
  	else
! 		dstfile=`basename $dst $transformbasename | 
  			sed $transformarg`$transformbasename
  	fi
  
  # don't allow the sed command to completely eliminate the filename
  
! 	if [ x"$dstfile" = x ] 
  	then
! 		dstfile=`basename $dst`
  	else
! 		true
  	fi
  
! # Make a temp file name in the proper directory.
  
  	dsttmp=$dstdir/#inst.$$#
  
  # Move or copy the file name to the temp name
  
! 	$doit $instcmd $src $dsttmp &&
! 
! 	trap "rm -f ${dsttmp}" 0 &&
  
  # and set any options; do chmod last to preserve setuid bits
  
***************
*** 239,276 ****
  # ignore errors from any of these, just make sure not to ignore
  # errors from the above "$doit $instcmd $src $dsttmp" command.
  
! 	if [ x"$chowncmd" != x ]; then $doit $chowncmd "$dsttmp"; else :;fi &&
! 	if [ x"$chgrpcmd" != x ]; then $doit $chgrpcmd "$dsttmp"; else :;fi &&
! 	if [ x"$stripcmd" != x ]; then $doit $stripcmd "$dsttmp"; else :;fi &&
! 	if [ x"$chmodcmd" != x ]; then $doit $chmodcmd "$dsttmp"; else :;fi &&
! 
! # Now remove or move aside any old file at destination location.  We try this
! # two ways since rm can't unlink itself on some systems and the destination
! # file might be busy for other reasons.  In this case, the final cleanup
! # might fail but the new file should still install successfully.
! 
! {
! 	if [ -f "$dstdir/$dstfile" ]
! 	then
! 		$doit $rmcmd -f "$dstdir/$dstfile" 2>/dev/null ||
! 		$doit $mvcmd -f "$dstdir/$dstfile" "$rmtmp" 2>/dev/null ||
! 		{
! 		  echo "$0: cannot unlink or rename $dstdir/$dstfile" >&2
! 		  (exit 1); exit
! 		}
! 	else
! 		:
! 	fi
! } &&
  
  # Now rename the file to the real destination.
  
! 	$doit $mvcmd "$dsttmp" "$dstdir/$dstfile"
  
  fi &&
  
- # The final little trick to "correctly" pass the exit status to the exit trap.
  
! {
! 	(exit 0); exit
! }
--- 235,251 ----
  # ignore errors from any of these, just make sure not to ignore
  # errors from the above "$doit $instcmd $src $dsttmp" command.
  
! 	if [ x"$chowncmd" != x ]; then $doit $chowncmd $dsttmp; else true;fi &&
! 	if [ x"$chgrpcmd" != x ]; then $doit $chgrpcmd $dsttmp; else true;fi &&
! 	if [ x"$stripcmd" != x ]; then $doit $stripcmd $dsttmp || true; else true;fi &&
! 	if [ x"$chmodcmd" != x ]; then $doit $chmodcmd $dsttmp; else true;fi &&
  
  # Now rename the file to the real destination.
  
! 	$doit $rmcmd -f $dstdir/$dstfile &&
! 	$doit $mvcmd $dsttmp $dstdir/$dstfile 
  
  fi &&
  
  
! exit 0
diff -crN ./xcursor/ltmain.sh /users6/vanderms/sb/gnome_21264bis/src/./xcursor/ltmain.sh
*** ./xcursor/ltmain.sh	Wed May 21 19:18:12 2003
--- /users6/vanderms/sb/gnome_21264bis/src/./xcursor/ltmain.sh	Tue Jan 17 10:48:24 2006
***************
*** 1,7 ****
  # ltmain.sh - Provide generalized library-building support services.
  # NOTE: Changing this file will not affect anything until you rerun configure.
  #
! # Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2003
  # Free Software Foundation, Inc.
  # Originally by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996
  #
--- 1,7 ----
  # ltmain.sh - Provide generalized library-building support services.
  # NOTE: Changing this file will not affect anything until you rerun configure.
  #
! # Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001
  # Free Software Foundation, Inc.
  # Originally by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996
  #
***************
*** 49,62 ****
  fi
  
  # The name of this program.
! progname=`$echo "$0" | ${SED} 's%^.*/%%'`
  modename="$progname"
  
  # Constants.
  PROGRAM=ltmain.sh
  PACKAGE=libtool
! VERSION=1.5
! TIMESTAMP=" (1.1220 2003/04/05 19:32:58)"
  
  default_mode=
  help="Try \`$progname --help' for more information."
--- 49,62 ----
  fi
  
  # The name of this program.
! progname=`$echo "$0" | sed 's%^.*/%%'`
  modename="$progname"
  
  # Constants.
  PROGRAM=ltmain.sh
  PACKAGE=libtool
! VERSION=1.4.2
! TIMESTAMP=" (1.922.2.54 2001/09/11 03:33:37)"
  
  default_mode=
  help="Try \`$progname --help' for more information."
***************
*** 67,85 ****
  
  # Sed substitution that helps us do robust quoting.  It backslashifies
  # metacharacters that are still active within double-quoted strings.
! Xsed="${SED}"' -e 1s/^X//'
  sed_quote_subst='s/\([\\`\\"$\\\\]\)/\\\1/g'
! # test EBCDIC or ASCII
! case `echo A|od -x` in
!  *[Cc]1*) # EBCDIC based system
!   SP2NL="tr '\100' '\n'"
!   NL2SP="tr '\r\n' '\100\100'"
!   ;;
!  *) # Assume ASCII based system
!   SP2NL="tr '\040' '\012'"
!   NL2SP="tr '\015\012' '\040\040'"
!   ;;
! esac
  
  # NLS nuisances.
  # Only set LANG and LC_ALL to C if already set.
--- 67,76 ----
  
  # Sed substitution that helps us do robust quoting.  It backslashifies
  # metacharacters that are still active within double-quoted strings.
! Xsed='sed -e 1s/^X//'
  sed_quote_subst='s/\([\\`\\"$\\\\]\)/\\\1/g'
! SP2NL='tr \040 \012'
! NL2SP='tr \015\012 \040\040'
  
  # NLS nuisances.
  # Only set LANG and LC_ALL to C if already set.
***************
*** 97,104 ****
  : ${IFS=" 	"}
  
  if test "$build_libtool_libs" != yes && test "$build_old_libs" != yes; then
!   $echo "$modename: not configured to build any kind of library" 1>&2
!   $echo "Fatal configuration error.  See the $PACKAGE docs for more information." 1>&2
    exit 1
  fi
  
--- 88,95 ----
  : ${IFS=" 	"}
  
  if test "$build_libtool_libs" != yes && test "$build_old_libs" != yes; then
!   echo "$modename: not configured to build any kind of library" 1>&2
!   echo "Fatal configuration error.  See the $PACKAGE docs for more information." 1>&2
    exit 1
  fi
  
***************
*** 114,164 ****
  lo2o="s/\\.lo\$/.${objext}/"
  o2lo="s/\\.${objext}\$/.lo/"
  
- #####################################
- # Shell function definitions:
- # This seems to be the best place for them
- 
- # Need a lot of goo to handle *both* DLLs and import libs
- # Has to be a shell function in order to 'eat' the argument
- # that is supplied when $file_magic_command is called.
- win32_libid () {
-   win32_libid_type="unknown"
-   win32_fileres=`file -L $1 2>/dev/null`
-   case $win32_fileres in
-   *ar\ archive\ import\ library*) # definitely import
-     win32_libid_type="x86 archive import"
-     ;;
-   *ar\ archive*) # could be an import, or static
-     if eval $OBJDUMP -f $1 | $SED -e '10q' 2>/dev/null | \
-       grep -E 'file format pe-i386(.*architecture: i386)?' >/dev/null ; then
-       win32_nmres=`eval $NM -f posix -A $1 | \
- 	sed -n -e '1,100{/ I /{x;/import/!{s/^/import/;h;p;};x;};}'`
-       if test "X$win32_nmres" = "Ximport" ; then
-         win32_libid_type="x86 archive import"
-       else
-         win32_libid_type="x86 archive static"
-       fi
-     fi
-     ;;
-   *DLL*) 
-     win32_libid_type="x86 DLL"
-     ;;
-   *executable*) # but shell scripts are "executable" too...
-     case $win32_fileres in
-     *MS\ Windows\ PE\ Intel*)
-       win32_libid_type="x86 DLL"
-       ;;
-     esac
-     ;;
-   esac
-   $echo $win32_libid_type
- }
- 
- # End of Shell function definitions
- #####################################
- 
  # Parse our command line options once, thoroughly.
! while test "$#" -gt 0
  do
    arg="$1"
    shift
--- 105,112 ----
  lo2o="s/\\.lo\$/.${objext}/"
  o2lo="s/\\.${objext}\$/.lo/"
  
  # Parse our command line options once, thoroughly.
! while test $# -gt 0
  do
    arg="$1"
    shift
***************
*** 174,206 ****
      execute_dlfiles)
        execute_dlfiles="$execute_dlfiles $arg"
        ;;
-     tag)
-       tagname="$arg"
- 
-       # Check whether tagname contains only valid characters
-       case $tagname in
-       *[!-_A-Za-z0-9,/]*)
- 	$echo "$progname: invalid tag name: $tagname" 1>&2
- 	exit 1
- 	;;
-       esac
- 
-       case $tagname in
-       CC)
- 	# Don't test for the "default" C tag, as we know, it's there, but
- 	# not specially marked.
- 	;;
-       *)
- 	if grep "^# ### BEGIN LIBTOOL TAG CONFIG: $tagname$" < "$0" > /dev/null; then
- 	  taglist="$taglist $tagname"
- 	  # Evaluate the configuration.
- 	  eval "`${SED} -n -e '/^# ### BEGIN LIBTOOL TAG CONFIG: '$tagname'$/,/^# ### END LIBTOOL TAG CONFIG: '$tagname'$/p' < $0`"
- 	else
- 	  $echo "$progname: ignoring unknown tag $tagname" 1>&2
- 	fi
- 	;;
-       esac
-       ;;
      *)
        eval "$prev=\$arg"
        ;;
--- 122,127 ----
***************
*** 218,242 ****
      ;;
  
    --version)
!     $echo "$PROGRAM (GNU $PACKAGE) $VERSION$TIMESTAMP"
!     $echo
!     $echo "Copyright (C) 2003  Free Software Foundation, Inc."
!     $echo "This is free software; see the source for copying conditions.  There is NO"
!     $echo "warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
      exit 0
      ;;
  
    --config)
!     ${SED} -e '1,/^# ### BEGIN LIBTOOL CONFIG/d' -e '/^# ### END LIBTOOL CONFIG/,$d' $0
!     # Now print the configurations for the tags.
!     for tagname in $taglist; do
!       ${SED} -n -e "/^# ### BEGIN LIBTOOL TAG CONFIG: $tagname$/,/^# ### END LIBTOOL TAG CONFIG: $tagname$/p" < "$0"
!     done
      exit 0
      ;;
  
    --debug)
!     $echo "$progname: enabling shell trace mode"
      set -x
      ;;
  
--- 139,155 ----
      ;;
  
    --version)
!     echo "$PROGRAM (GNU $PACKAGE) $VERSION$TIMESTAMP"
      exit 0
      ;;
  
    --config)
!     sed -e '1,/^# ### BEGIN LIBTOOL CONFIG/d' -e '/^# ### END LIBTOOL CONFIG/,$d' $0
      exit 0
      ;;
  
    --debug)
!     echo "$progname: enabling shell trace mode"
      set -x
      ;;
  
***************
*** 245,260 ****
      ;;
  
    --features)
!     $echo "host: $host"
      if test "$build_libtool_libs" = yes; then
!       $echo "enable shared libraries"
      else
!       $echo "disable shared libraries"
      fi
      if test "$build_old_libs" = yes; then
!       $echo "enable static libraries"
      else
!       $echo "disable static libraries"
      fi
      exit 0
      ;;
--- 158,173 ----
      ;;
  
    --features)
!     echo "host: $host"
      if test "$build_libtool_libs" = yes; then
!       echo "enable shared libraries"
      else
!       echo "disable shared libraries"
      fi
      if test "$build_old_libs" = yes; then
!       echo "enable static libraries"
      else
!       echo "disable static libraries"
      fi
      exit 0
      ;;
***************
*** 264,282 ****
    --mode) prevopt="--mode" prev=mode ;;
    --mode=*) mode="$optarg" ;;
  
-   --preserve-dup-deps) duplicate_deps="yes" ;;
- 
    --quiet | --silent)
      show=:
      ;;
  
-   --tag) prevopt="--tag" prev=tag ;;
-   --tag=*)
-     set tag "$optarg" ${1+"$@"}
-     shift
-     prev=tag
-     ;;
- 
    -dlopen)
      prevopt="-dlopen"
      prev=execute_dlfiles
--- 177,186 ----
***************
*** 310,319 ****
  
    # Infer the operation mode.
    if test -z "$mode"; then
-     $echo "*** Warning: inferring the mode of operation is deprecated." 1>&2
-     $echo "*** Future versions of Libtool will require -mode=MODE be specified." 1>&2
      case $nonopt in
!     *cc | cc* | *++ | gcc* | *-gcc* | g++* | xlc*)
        mode=link
        for arg
        do
--- 214,221 ----
  
    # Infer the operation mode.
    if test -z "$mode"; then
      case $nonopt in
!     *cc | *++ | gcc* | *-gcc*)
        mode=link
        for arg
        do
***************
*** 368,494 ****
      modename="$modename: compile"
      # Get the compilation command and the source file.
      base_compile=
!     srcfile="$nonopt"  #  always keep a non-empty value in "srcfile"
      suppress_output=
-     arg_mode=normal
-     libobj=
  
      for arg
      do
!       case "$arg_mode" in
!       arg  )
! 	# do not "continue".  Instead, add this to base_compile
! 	lastarg="$arg"
! 	arg_mode=normal
! 	;;
  
!       target )
! 	libobj="$arg"
! 	arg_mode=normal
  	continue
  	;;
  
!       normal )
! 	# Accept any command-line options.
! 	case $arg in
! 	-o)
! 	  if test -n "$libobj" ; then
! 	    $echo "$modename: you cannot specify \`-o' more than once" 1>&2
! 	    exit 1
! 	  fi
! 	  arg_mode=target
! 	  continue
! 	  ;;
  
! 	-static)
! 	  build_old_libs=yes
! 	  continue
! 	  ;;
  
! 	-prefer-pic)
! 	  pic_mode=yes
! 	  continue
! 	  ;;
  
! 	-prefer-non-pic)
! 	  pic_mode=no
! 	  continue
! 	  ;;
  
! 	-Xcompiler)
! 	  arg_mode=arg  #  the next one goes into the "base_compile" arg list
! 	  continue      #  The current "srcfile" will either be retained or
! 	  ;;            #  replaced later.  I would guess that would be a bug.
! 
! 	-Wc,*)
! 	  args=`$echo "X$arg" | $Xsed -e "s/^-Wc,//"`
! 	  lastarg=
! 	  save_ifs="$IFS"; IFS=','
! 	  for arg in $args; do
! 	    IFS="$save_ifs"
  
! 	    # Double-quote args containing other shell metacharacters.
! 	    # Many Bourne shells cannot handle close brackets correctly
! 	    # in scan sets, so we specify it separately.
! 	    case $arg in
! 	      *[\[\~\#\^\&\*\(\)\{\}\|\;\<\>\?\'\ \	]*|*]*|"")
! 	      arg="\"$arg\""
! 	      ;;
! 	    esac
! 	    lastarg="$lastarg $arg"
! 	  done
  	  IFS="$save_ifs"
- 	  lastarg=`$echo "X$lastarg" | $Xsed -e "s/^ //"`
  
! 	  # Add the arguments to base_compile.
  	  base_compile="$base_compile $lastarg"
! 	  continue
! 	  ;;
  
! 	* )
! 	  # Accept the current argument as the source file.
! 	  # The previous "srcfile" becomes the current argument.
! 	  #
! 	  lastarg="$srcfile"
! 	  srcfile="$arg"
! 	  ;;
! 	esac  #  case $arg
  	;;
!       esac    #  case $arg_mode
  
        # Aesthetically quote the previous argument.
        lastarg=`$echo "X$lastarg" | $Xsed -e "$sed_quote_subst"`
  
-       case $lastarg in
        # Double-quote args containing other shell metacharacters.
        # Many Bourne shells cannot handle close brackets correctly
        # in scan sets, so we specify it separately.
        *[\[\~\#\^\&\*\(\)\{\}\|\;\<\>\?\'\ \	]*|*]*|"")
  	lastarg="\"$lastarg\""
  	;;
        esac
  
!       base_compile="$base_compile $lastarg"
!     done # for arg
  
!     case $arg_mode in
!     arg)
!       $echo "$modename: you must specify an argument for -Xcompile"
!       exit 1
        ;;
!     target)
!       $echo "$modename: you must specify a target with \`-o'" 1>&2
!       exit 1
        ;;
      *)
!       # Get the name of the library object.
!       [ -z "$libobj" ] && libobj=`$echo "X$srcfile" | $Xsed -e 's%^.*/%%'`
        ;;
      esac
  
      # Recognize several different file suffixes.
      # If the user specifies -o file.o, it is replaced with file.lo
!     xform='[cCFSifmso]'
      case $libobj in
      *.ada) xform=ada ;;
      *.adb) xform=adb ;;
--- 270,427 ----
      modename="$modename: compile"
      # Get the compilation command and the source file.
      base_compile=
!     prev=
!     lastarg=
!     srcfile="$nonopt"
      suppress_output=
  
+     user_target=no
      for arg
      do
!       case $prev in
!       "") ;;
!       xcompiler)
! 	# Aesthetically quote the previous argument.
! 	prev=
! 	lastarg=`$echo "X$arg" | $Xsed -e "$sed_quote_subst"`
  
! 	case $arg in
! 	# Double-quote args containing other shell metacharacters.
! 	# Many Bourne shells cannot handle close brackets correctly
! 	# in scan sets, so we specify it separately.
! 	*[\[\~\#\^\&\*\(\)\{\}\|\;\<\>\?\'\ \	]*|*]*|"")
! 	  arg="\"$arg\""
! 	  ;;
! 	esac
! 
! 	# Add the previous argument to base_compile.
! 	if test -z "$base_compile"; then
! 	  base_compile="$lastarg"
! 	else
! 	  base_compile="$base_compile $lastarg"
! 	fi
  	continue
  	;;
+       esac
  
!       # Accept any command-line options.
!       case $arg in
!       -o)
! 	if test "$user_target" != "no"; then
! 	  $echo "$modename: you cannot specify \`-o' more than once" 1>&2
! 	  exit 1
! 	fi
! 	user_target=next
! 	;;
  
!       -static)
! 	build_old_libs=yes
! 	continue
! 	;;
  
!       -prefer-pic)
! 	pic_mode=yes
! 	continue
! 	;;
  
!       -prefer-non-pic)
! 	pic_mode=no
! 	continue
! 	;;
  
!       -Xcompiler)
! 	prev=xcompiler
! 	continue
! 	;;
  
!       -Wc,*)
! 	args=`$echo "X$arg" | $Xsed -e "s/^-Wc,//"`
! 	lastarg=
! 	save_ifs="$IFS"; IFS=','
! 	for arg in $args; do
  	  IFS="$save_ifs"
  
! 	  # Double-quote args containing other shell metacharacters.
! 	  # Many Bourne shells cannot handle close brackets correctly
! 	  # in scan sets, so we specify it separately.
! 	  case $arg in
! 	    *[\[\~\#\^\&\*\(\)\{\}\|\;\<\>\?\'\ \	]*|*]*|"")
! 	    arg="\"$arg\""
! 	    ;;
! 	  esac
! 	  lastarg="$lastarg $arg"
! 	done
! 	IFS="$save_ifs"
! 	lastarg=`$echo "X$lastarg" | $Xsed -e "s/^ //"`
! 
! 	# Add the arguments to base_compile.
! 	if test -z "$base_compile"; then
! 	  base_compile="$lastarg"
! 	else
  	  base_compile="$base_compile $lastarg"
! 	fi
! 	continue
! 	;;
!       esac
  
!       case $user_target in
!       next)
! 	# The next one is the -o target name
! 	user_target=yes
! 	continue
! 	;;
!       yes)
! 	# We got the output file
! 	user_target=set
! 	libobj="$arg"
! 	continue
  	;;
!       esac
! 
!       # Accept the current argument as the source file.
!       lastarg="$srcfile"
!       srcfile="$arg"
  
        # Aesthetically quote the previous argument.
+ 
+       # Backslashify any backslashes, double quotes, and dollar signs.
+       # These are the only characters that are still specially
+       # interpreted inside of double-quoted scrings.
        lastarg=`$echo "X$lastarg" | $Xsed -e "$sed_quote_subst"`
  
        # Double-quote args containing other shell metacharacters.
        # Many Bourne shells cannot handle close brackets correctly
        # in scan sets, so we specify it separately.
+       case $lastarg in
        *[\[\~\#\^\&\*\(\)\{\}\|\;\<\>\?\'\ \	]*|*]*|"")
  	lastarg="\"$lastarg\""
  	;;
        esac
  
!       # Add the previous argument to base_compile.
!       if test -z "$base_compile"; then
! 	base_compile="$lastarg"
!       else
! 	base_compile="$base_compile $lastarg"
!       fi
!     done
  
!     case $user_target in
!     set)
        ;;
!     no)
!       # Get the name of the library object.
!       libobj=`$echo "X$srcfile" | $Xsed -e 's%^.*/%%'`
        ;;
      *)
!       $echo "$modename: you must specify a target with \`-o'" 1>&2
!       exit 1
        ;;
      esac
  
      # Recognize several different file suffixes.
      # If the user specifies -o file.o, it is replaced with file.lo
!     xform='[cCFSfmso]'
      case $libobj in
      *.ada) xform=ada ;;
      *.adb) xform=adb ;;
***************
*** 496,508 ****
      *.asm) xform=asm ;;
      *.c++) xform=c++ ;;
      *.cc) xform=cc ;;
-     *.ii) xform=ii ;;
-     *.class) xform=class ;;
      *.cpp) xform=cpp ;;
      *.cxx) xform=cxx ;;
      *.f90) xform=f90 ;;
      *.for) xform=for ;;
-     *.java) xform=java ;;
      esac
  
      libobj=`$echo "X$libobj" | $Xsed -e "s/\.$xform$/.lo/"`
--- 429,438 ----
***************
*** 515,570 ****
        ;;
      esac
  
-     # Infer tagged configuration to use if any are available and
-     # if one wasn't chosen via the "--tag" command line option.
-     # Only attempt this if the compiler in the base compile
-     # command doesn't match the default compiler.
-     if test -n "$available_tags" && test -z "$tagname"; then
-       case $base_compile in
-       # Blanks in the command may have been stripped by the calling shell,
-       # but not from the CC environment variable when configure was run.
-       " $CC "* | "$CC "* | " `$echo $CC` "* | "`$echo $CC` "*) ;;
-       # Blanks at the start of $base_compile will cause this to fail
-       # if we don't check for them as well.
-       *)
- 	for z in $available_tags; do
- 	  if grep "^# ### BEGIN LIBTOOL TAG CONFIG: $z$" < "$0" > /dev/null; then
- 	    # Evaluate the configuration.
- 	    eval "`${SED} -n -e '/^# ### BEGIN LIBTOOL TAG CONFIG: '$z'$/,/^# ### END LIBTOOL TAG CONFIG: '$z'$/p' < $0`"
- 	    case "$base_compile " in
- 	    "$CC "* | " $CC "* | "`$echo $CC` "* | " `$echo $CC` "*)
- 	      # The compiler in the base compile command matches
- 	      # the one in the tagged configuration.
- 	      # Assume this is the tagged configuration we want.
- 	      tagname=$z
- 	      break
- 	      ;;
- 	    esac
- 	  fi
- 	done
- 	# If $tagname still isn't set, then no tagged configuration
- 	# was found and let the user know that the "--tag" command
- 	# line option must be used.
- 	if test -z "$tagname"; then
- 	  $echo "$modename: unable to infer tagged configuration"
- 	  $echo "$modename: specify a tag with \`--tag'" 1>&2
- 	  exit 1
- #        else
- #          $echo "$modename: using $tagname tagged configuration"
- 	fi
- 	;;
-       esac
-     fi
- 
-     objname=`$echo "X$obj" | $Xsed -e 's%^.*/%%'`
-     xdir=`$echo "X$obj" | $Xsed -e 's%/[^/]*$%%'`
-     if test "X$xdir" = "X$obj"; then
-       xdir=
-     else
-       xdir=$xdir/
-     fi
-     lobj=${xdir}$objdir/$objname
- 
      if test -z "$base_compile"; then
        $echo "$modename: you must specify a compilation command" 1>&2
        $echo "$help" 1>&2
--- 445,450 ----
***************
*** 573,581 ****
  
      # Delete any leftover library objects.
      if test "$build_old_libs" = yes; then
!       removelist="$obj $lobj $libobj ${libobj}T"
      else
!       removelist="$lobj $libobj ${libobj}T"
      fi
  
      $run $rm $removelist
--- 453,461 ----
  
      # Delete any leftover library objects.
      if test "$build_old_libs" = yes; then
!       removelist="$obj $libobj"
      else
!       removelist="$libobj"
      fi
  
      $run $rm $removelist
***************
*** 587,593 ****
        pic_mode=default
        ;;
      esac
!     if test "$pic_mode" = no && test "$deplibs_check_method" != pass_all; then
        # non-PIC code in shared libraries is not supported
        pic_mode=default
      fi
--- 467,473 ----
        pic_mode=default
        ;;
      esac
!     if test $pic_mode = no && test "$deplibs_check_method" != pass_all; then
        # non-PIC code in shared libraries is not supported
        pic_mode=default
      fi
***************
*** 600,606 ****
        removelist="$removelist $output_obj $lockfile"
        trap "$run $rm $removelist; exit 1" 1 2 15
      else
-       output_obj=
        need_locks=no
        lockfile=
      fi
--- 480,485 ----
***************
*** 614,620 ****
        done
      elif test "$need_locks" = warn; then
        if test -f "$lockfile"; then
! 	$echo "\
  *** ERROR, $lockfile exists and contains:
  `cat $lockfile 2>/dev/null`
  
--- 493,499 ----
        done
      elif test "$need_locks" = warn; then
        if test -f "$lockfile"; then
! 	echo "\
  *** ERROR, $lockfile exists and contains:
  `cat $lockfile 2>/dev/null`
  
***************
*** 628,692 ****
  	$run $rm $removelist
  	exit 1
        fi
!       $echo $srcfile > "$lockfile"
      fi
  
      if test -n "$fix_srcfile_path"; then
        eval srcfile=\"$fix_srcfile_path\"
      fi
  
-     $run $rm "$libobj" "${libobj}T"
- 
-     # Create a libtool object file (analogous to a ".la" file),
-     # but don't create it if we're doing a dry run.
-     test -z "$run" && cat > ${libobj}T <<EOF
- # $libobj - a libtool object file
- # Generated by $PROGRAM - GNU $PACKAGE $VERSION$TIMESTAMP
- #
- # Please DO NOT delete this file!
- # It is necessary for linking the library.
- 
- # Name of the PIC object.
- EOF
- 
      # Only build a PIC object if we are building libtool libraries.
      if test "$build_libtool_libs" = yes; then
        # Without this assignment, base_compile gets emptied.
        fbsd_hideous_sh_bug=$base_compile
  
        if test "$pic_mode" != no; then
! 	command="$base_compile $srcfile $pic_flag"
        else
  	# Don't build PIC code
  	command="$base_compile $srcfile"
        fi
! 
!       if test ! -d "${xdir}$objdir"; then
! 	$show "$mkdir ${xdir}$objdir"
! 	$run $mkdir ${xdir}$objdir
! 	status=$?
! 	if test "$status" -ne 0 && test ! -d "${xdir}$objdir"; then
! 	  exit $status
  	fi
!       fi
  
!       if test -z "$output_obj"; then
! 	# Place PIC objects in $objdir
! 	command="$command -o $lobj"
        fi
! 
!       $run $rm "$lobj" "$output_obj"
! 
!       $show "$command"
!       if $run eval "$command"; then :
        else
! 	test -n "$output_obj" && $run $rm $removelist
! 	exit 1
        fi
  
        if test "$need_locks" = warn &&
! 	 test "X`cat $lockfile 2>/dev/null`" != "X$srcfile"; then
! 	$echo "\
  *** ERROR, $lockfile contains:
  `cat $lockfile 2>/dev/null`
  
--- 507,596 ----
  	$run $rm $removelist
  	exit 1
        fi
!       echo $srcfile > "$lockfile"
      fi
  
      if test -n "$fix_srcfile_path"; then
        eval srcfile=\"$fix_srcfile_path\"
      fi
  
      # Only build a PIC object if we are building libtool libraries.
      if test "$build_libtool_libs" = yes; then
        # Without this assignment, base_compile gets emptied.
        fbsd_hideous_sh_bug=$base_compile
  
        if test "$pic_mode" != no; then
! 	# All platforms use -DPIC, to notify preprocessed assembler code.
! 	command="$base_compile $srcfile $pic_flag -DPIC"
        else
  	# Don't build PIC code
  	command="$base_compile $srcfile"
        fi
! # sandie
!       if test "$compil32_64" = yes; then
! 	command32="$command -q32 -o $libobj.32"
! 	command64="$command -q64 -o $libobj.64"
!       fi
! # fin sandie
!       if test "$build_old_libs" = yes; then
! 	lo_libobj="$libobj"
! 	dir=`$echo "X$libobj" | $Xsed -e 's%/[^/]*$%%'`
! 	if test "X$dir" = "X$libobj"; then
! 	  dir="$objdir"
! 	else
! 	  dir="$dir/$objdir"
  	fi
! 	libobj="$dir/"`$echo "X$libobj" | $Xsed -e 's%^.*/%%'`
  
! 	if test -d "$dir"; then
! 	  $show "$rm $libobj"
! 	  $run $rm $libobj
! 	else
! 	  $show "$mkdir $dir"
! 	  $run $mkdir $dir
! 	  status=$?
! 	  if test $status -ne 0 && test ! -d $dir; then
! 	    exit $status
! 	  fi
! 	fi
        fi
!       if test "$compiler_o_lo" = yes; then
! 	output_obj="$libobj"
! 	command="$command -o $output_obj"
!       elif test "$compiler_c_o" = yes; then
! 	output_obj="$obj"
! 	command="$command -o $output_obj"
!       fi
! 
! #sandie
!       if test "$compil32_64" = yes; then
! 	$run $rm "$libobj.32"
!         $run $rm "$libobj.64"
! 	$show "$command32"
!         if $run eval "$command32"; then :
!         else
! 	  test -n "$libobj.32" && $run $rm $removelist
! 	  exit 1
!         fi
! 	$show "$command64"
!         if $run eval "$command64"; then :
!         else
! 	  test -n "$libobj.64" && $run $rm $removelist
! 	  exit 1
!         fi
        else
!         $run $rm "$output_obj"
!         $show "$command"
!         if $run eval "$command"; then :
!         else
! 	  test -n "$output_obj" && $run $rm $removelist
! 	  exit 1
!         fi
        fi
  
        if test "$need_locks" = warn &&
! 	 test x"`cat $lockfile 2>/dev/null`" != x"$srcfile"; then
! 	echo "\
  *** ERROR, $lockfile contains:
  `cat $lockfile 2>/dev/null`
  
***************
*** 705,735 ****
        fi
  
        # Just move the object if needed, then go on to compile the next one
!       if test -n "$output_obj" && test "X$output_obj" != "X$lobj"; then
! 	$show "$mv $output_obj $lobj"
! 	if $run $mv $output_obj $lobj; then :
  	else
  	  error=$?
  	  $run $rm $removelist
  	  exit $error
  	fi
-       fi
  
!       # Append the name of the PIC object to the libtool object file.
!       test -z "$run" && cat >> ${libobj}T <<EOF
! pic_object='$objdir/$objname'
! 
! EOF
  
        # Allow error messages only from the first compilation.
        suppress_output=' >/dev/null 2>&1'
-     else
-       # No PIC object so indicate it doesn't exist in the libtool
-       # object file.
-       test -z "$run" && cat >> ${libobj}T <<EOF
- pic_object=none
- 
- EOF
      fi
  
      # Only build a position-dependent object if we build old libraries.
--- 609,722 ----
        fi
  
        # Just move the object if needed, then go on to compile the next one
!       if test x"$output_obj" != x"$libobj"; then
! #sandie
! 	if test "$compil32_64" = yes; then
! 	if test ! -d 32; then
! 	  $show "$mkdir 32"
! 	  $run $mkdir 32
! 	fi
! 	if test ! -d 64; then
! 	  $show "$mkdir 64"
!           $run $mkdir 64
! 	fi
! 	  $show "$mv $libobj.32 32/$libobj"
! 	  if $run $mv $libobj.32 32/$libobj; then :
! 	    else
! 	    error=$?
! 	    $run $rm $removelist
! 	    exit $error
! 	  fi
! 	  $show "$mv $libobj.64 64/$libobj"
!   	  if $run $mv $libobj.64 64/$libobj; then :
!   	    else
!   	    error=$?
!   	    $run $rm $removelist
!   	    exit $error
!   	  fi
! 	else
! #fin sandie
! 	  $show "$mv $output_obj $libobj"
! 	  if $run $mv $output_obj $libobj; then :
! 	  else
! 	    error=$?
! 	    $run $rm $removelist
! 	    exit $error
! 	  fi
! 	fi
!       fi
! 
!       # If we have no pic_flag, then copy the object into place and finish.
!       if (test -z "$pic_flag" || test "$pic_mode" != default) &&
! 	 test "$build_old_libs" = yes; then
! 	# Rename the .lo from within objdir to obj
! 	if test -f $obj; then
! 	  $show $rm $obj
! 	  $run $rm $obj
! 	fi
! 
! 	$show "$mv $libobj $obj"
! 	if $run $mv $libobj $obj; then :
  	else
  	  error=$?
  	  $run $rm $removelist
  	  exit $error
  	fi
  
! 	xdir=`$echo "X$obj" | $Xsed -e 's%/[^/]*$%%'`
! 	if test "X$xdir" = "X$obj"; then
! 	  xdir="."
! 	else
! 	  xdir="$xdir"
! 	fi
! 	baseobj=`$echo "X$obj" | $Xsed -e "s%.*/%%"`
! 	libobj=`$echo "X$baseobj" | $Xsed -e "$o2lo"`
! 	# Now arrange that obj and lo_libobj become the same file
! #sandie
! 	if test "$compil32_64" = yes; then
! 	  $show "(cd $xdir && $LN_S 32/$baseobj 32/$libobj)"
! 	  if $run eval '(cd $xdir && $LN_S 32/$baseobj 32/$libobj)'; then
! 	    # Unlock the critical section if it was locked
! 	    if test "$need_locks" != no; then
! 	      $run $rm "$lockfile"
! 	    fi
! 	    exit 0
! 	  else
! 	    error=$?
! 	    $run $rm $removelist
! 	    exit $error
! 	  fi
! 	  $show "(cd $xdir && $LN_S 64/$baseobj 64/$libobj)"
! 	  if $run eval '(cd $xdir && $LN_S 64/$baseobj 64/$libobj)'; then
! 	    # Unlock the critical section if it was locked
! 	    if test "$need_locks" != no; then
! 	      $run $rm "$lockfile"
! 	    fi
! 	    exit 0
! 	  else
! 	    error=$?
! 	    $run $rm $removelist
! 	    exit $error
! 	  fi
! #fin sandie
! 	else
! 	  $show "(cd $xdir && $LN_S $baseobj $libobj)"
! 	  if $run eval '(cd $xdir && $LN_S $baseobj $libobj)'; then
! 	    # Unlock the critical section if it was locked
! 	    if test "$need_locks" != no; then
! 	      $run $rm "$lockfile"
! 	    fi
! 	    exit 0
! 	  else
! 	    error=$?
! 	    $run $rm $removelist
! 	    exit $error
! 	  fi
! 	fi #sandie
!       fi
  
        # Allow error messages only from the first compilation.
        suppress_output=' >/dev/null 2>&1'
      fi
  
      # Only build a position-dependent object if we build old libraries.
***************
*** 738,752 ****
  	# Don't build PIC code
  	command="$base_compile $srcfile"
        else
! 	command="$base_compile $srcfile $pic_flag"
        fi
        if test "$compiler_c_o" = yes; then
  	command="$command -o $obj"
        fi
  
        # Suppress compiler output if we already did a PIC compilation.
        command="$command$suppress_output"
!       $run $rm "$obj" "$output_obj"
        $show "$command"
        if $run eval "$command"; then :
        else
--- 725,741 ----
  	# Don't build PIC code
  	command="$base_compile $srcfile"
        else
! 	# All platforms use -DPIC, to notify preprocessed assembler code.
! 	command="$base_compile $srcfile $pic_flag -DPIC"
        fi
        if test "$compiler_c_o" = yes; then
  	command="$command -o $obj"
+ 	output_obj="$obj"
        fi
  
        # Suppress compiler output if we already did a PIC compilation.
        command="$command$suppress_output"
!       $run $rm "$output_obj"
        $show "$command"
        if $run eval "$command"; then :
        else
***************
*** 755,762 ****
        fi
  
        if test "$need_locks" = warn &&
! 	 test "X`cat $lockfile 2>/dev/null`" != "X$srcfile"; then
! 	$echo "\
  *** ERROR, $lockfile contains:
  `cat $lockfile 2>/dev/null`
  
--- 744,751 ----
        fi
  
        if test "$need_locks" = warn &&
! 	 test x"`cat $lockfile 2>/dev/null`" != x"$srcfile"; then
! 	echo "\
  *** ERROR, $lockfile contains:
  `cat $lockfile 2>/dev/null`
  
***************
*** 775,781 ****
        fi
  
        # Just move the object if needed
!       if test -n "$output_obj" && test "X$output_obj" != "X$obj"; then
  	$show "$mv $output_obj $obj"
  	if $run $mv $output_obj $obj; then :
  	else
--- 764,770 ----
        fi
  
        # Just move the object if needed
!       if test x"$output_obj" != x"$obj"; then
  	$show "$mv $output_obj $obj"
  	if $run $mv $output_obj $obj; then :
  	else
***************
*** 785,809 ****
  	fi
        fi
  
!       # Append the name of the non-PIC object the libtool object file.
!       # Only append if the libtool object file exists.
!       test -z "$run" && cat >> ${libobj}T <<EOF
! # Name of the non-PIC object.
! non_pic_object='$objname'
! 
! EOF
!     else
!       # Append the name of the non-PIC object the libtool object file.
!       # Only append if the libtool object file exists.
!       test -z "$run" && cat >> ${libobj}T <<EOF
! # Name of the non-PIC object.
! non_pic_object=none
! 
! EOF
      fi
  
-     $run $mv "${libobj}T" "${libobj}"
- 
      # Unlock the critical section if it was locked
      if test "$need_locks" != no; then
        $run $rm "$lockfile"
--- 774,796 ----
  	fi
        fi
  
!       # Create an invalid libtool object if no PIC, so that we do not
!       # accidentally link it into a program.
!       if test "$build_libtool_libs" != yes; then
! 	$show "echo timestamp > $libobj"
! 	$run eval "echo timestamp > \$libobj" || exit $?
!       else
! 	# Move the .lo from within objdir
! 	$show "$mv $libobj $lo_libobj"
! 	if $run $mv $libobj $lo_libobj; then :
! 	else
! 	  error=$?
! 	  $run $rm $removelist
! 	  exit $error
! 	fi
!       fi
      fi
  
      # Unlock the critical section if it was locked
      if test "$need_locks" != no; then
        $run $rm "$lockfile"
***************
*** 820,826 ****
        # It is impossible to link a dll without this setting, and
        # we shouldn't force the makefile maintainer to figure out
        # which system we are compiling for in order to pass an extra
!       # flag for every libtool invocation.
        # allow_undefined=no
  
        # FIXME: Unfortunately, there are problems with the above when trying
--- 807,813 ----
        # It is impossible to link a dll without this setting, and
        # we shouldn't force the makefile maintainer to figure out
        # which system we are compiling for in order to pass an extra
!       # flag for every libtool invokation.
        # allow_undefined=no
  
        # FIXME: Unfortunately, there are problems with the above when trying
***************
*** 835,841 ****
        ;;
      esac
      libtool_args="$nonopt"
-     base_compile="$nonopt"
      compile_command="$nonopt"
      finalize_command="$nonopt"
  
--- 822,827 ----
***************
*** 851,857 ****
      linker_flags=
      dllsearchpath=
      lib_search_path=`pwd`
-     inst_prefix_dir=
  
      avoid_version=no
      dlfiles=
--- 837,842 ----
***************
*** 866,872 ****
      module=no
      no_install=no
      objs=
-     non_pic_objects=
      prefer_static_libs=no
      preload=no
      prev=
--- 851,856 ----
***************
*** 878,884 ****
      temp_rpath=
      thread_safe=no
      vinfo=
-     vinfo_number=no
  
      # We need to know -static, to get the right output filenames.
      for arg
--- 862,867 ----
***************
*** 909,917 ****
      test -n "$old_archive_from_new_cmds" && build_old_libs=yes
  
      # Go through the arguments, transforming them on the way.
!     while test "$#" -gt 0; do
        arg="$1"
-       base_compile="$base_compile $arg"
        shift
        case $arg in
        *[\[\~\#\^\&\*\(\)\{\}\|\;\<\>\?\'\ \	]*|*]*|"")
--- 892,899 ----
      test -n "$old_archive_from_new_cmds" && build_old_libs=yes
  
      # Go through the arguments, transforming them on the way.
!     while test $# -gt 0; do
        arg="$1"
        shift
        case $arg in
        *[\[\~\#\^\&\*\(\)\{\}\|\;\<\>\?\'\ \	]*|*]*|"")
***************
*** 985,1107 ****
  	  prev=
  	  continue
  	  ;;
- 	inst_prefix)
- 	  inst_prefix_dir="$arg"
- 	  prev=
- 	  continue
- 	  ;;
  	release)
  	  release="-$arg"
  	  prev=
  	  continue
  	  ;;
- 	objectlist)
- 	  if test -f "$arg"; then
- 	    save_arg=$arg
- 	    moreargs=
- 	    for fil in `cat $save_arg`
- 	    do
- #	      moreargs="$moreargs $fil"
- 	      arg=$fil
- 	      # A libtool-controlled object.
- 
- 	      # Check to see that this really is a libtool object.
- 	      if (${SED} -e '2q' $arg | grep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
- 		pic_object=
- 		non_pic_object=
- 
- 		# Read the .lo file
- 		# If there is no directory component, then add one.
- 		case $arg in
- 		*/* | *\\*) . $arg ;;
- 		*) . ./$arg ;;
- 		esac
- 
- 		if test -z "$pic_object" || \
- 		   test -z "$non_pic_object" ||
- 		   test "$pic_object" = none && \
- 		   test "$non_pic_object" = none; then
- 		  $echo "$modename: cannot find name of object for \`$arg'" 1>&2
- 		  exit 1
- 		fi
- 
- 		# Extract subdirectory from the argument.
- 		xdir=`$echo "X$arg" | $Xsed -e 's%/[^/]*$%%'`
- 		if test "X$xdir" = "X$arg"; then
- 		  xdir=
- 		else
- 		  xdir="$xdir/"
- 		fi
- 
- 		if test "$pic_object" != none; then
- 		  # Prepend the subdirectory the object is found in.
- 		  pic_object="$xdir$pic_object"
- 
- 		  if test "$prev" = dlfiles; then
- 		    if test "$build_libtool_libs" = yes && test "$dlopen_support" = yes; then
- 		      dlfiles="$dlfiles $pic_object"
- 		      prev=
- 		      continue
- 		    else
- 		      # If libtool objects are unsupported, then we need to preload.
- 		      prev=dlprefiles
- 		    fi
- 		  fi
- 
- 		  # CHECK ME:  I think I busted this.  -Ossama
- 		  if test "$prev" = dlprefiles; then
- 		    # Preload the old-style object.
- 		    dlprefiles="$dlprefiles $pic_object"
- 		    prev=
- 		  fi
- 
- 		  # A PIC object.
- 		  libobjs="$libobjs $pic_object"
- 		  arg="$pic_object"
- 		fi
- 
- 		# Non-PIC object.
- 		if test "$non_pic_object" != none; then
- 		  # Prepend the subdirectory the object is found in.
- 		  non_pic_object="$xdir$non_pic_object"
- 
- 		  # A standard non-PIC object
- 		  non_pic_objects="$non_pic_objects $non_pic_object"
- 		  if test -z "$pic_object" || test "$pic_object" = none ; then
- 		    arg="$non_pic_object"
- 		  fi
- 		fi
- 	      else
- 		# Only an error if not doing a dry-run.
- 		if test -z "$run"; then
- 		  $echo "$modename: \`$arg' is not a valid libtool object" 1>&2
- 		  exit 1
- 		else
- 		  # Dry-run case.
- 
- 		  # Extract subdirectory from the argument.
- 		  xdir=`$echo "X$arg" | $Xsed -e 's%/[^/]*$%%'`
- 		  if test "X$xdir" = "X$arg"; then
- 		    xdir=
- 		  else
- 		    xdir="$xdir/"
- 		  fi
- 
- 		  pic_object=`$echo "X${xdir}${objdir}/${arg}" | $Xsed -e "$lo2o"`
- 		  non_pic_object=`$echo "X${xdir}${arg}" | $Xsed -e "$lo2o"`
- 		  libobjs="$libobjs $pic_object"
- 		  non_pic_objects="$non_pic_objects $non_pic_object"
- 		fi
- 	      fi
- 	    done
- 	  else
- 	    $echo "$modename: link input file \`$save_arg' does not exist"
- 	    exit 1
- 	  fi
- 	  arg=$save_arg
- 	  prev=
- 	  continue
- 	  ;;
  	rpath | xrpath)
  	  # We need an absolute path.
  	  case $arg in
--- 967,977 ----
***************
*** 1140,1160 ****
  	  finalize_command="$finalize_command $wl$qarg"
  	  continue
  	  ;;
- 	xcclinker)
- 	  linker_flags="$linker_flags $qarg"
- 	  compiler_flags="$compiler_flags $qarg"
- 	  prev=
- 	  compile_command="$compile_command $qarg"
- 	  finalize_command="$finalize_command $qarg"
- 	  continue
- 	  ;;
  	*)
  	  eval "$prev=\"\$arg\""
  	  prev=
  	  continue
  	  ;;
  	esac
!       fi # test -n "$prev"
  
        prevarg="$arg"
  
--- 1010,1022 ----
  	  finalize_command="$finalize_command $wl$qarg"
  	  continue
  	  ;;
  	*)
  	  eval "$prev=\"\$arg\""
  	  prev=
  	  continue
  	  ;;
  	esac
!       fi # test -n $prev
  
        prevarg="$arg"
  
***************
*** 1190,1195 ****
--- 1052,1065 ----
  
        -export-dynamic)
  	export_dynamic=yes
+ 	case $host in
+ 	*aix*)
+ 	  # add the -bexpall linker option
+ 	  export_dynamic_flag_spec='-bexpall'
+ 	  ;;
+ 	*)
+ 	  ;;
+ 	esac
  	continue
  	;;
  
***************
*** 1206,1221 ****
  	continue
  	;;
  
-       -inst-prefix-dir)
- 	prev=inst_prefix
- 	continue
- 	;;
- 
        # The native IRIX linker understands -LANG:*, -LIST:* and -LNO:*
        # so, if we see these flags be careful not to treat them like -L
        -L[A-Z][A-Z]*:*)
  	case $with_gcc/$host in
! 	no/*-*-irix* | /*-*-irix*)
  	  compile_command="$compile_command $arg"
  	  finalize_command="$finalize_command $arg"
  	  ;;
--- 1076,1086 ----
  	continue
  	;;
  
        # The native IRIX linker understands -LANG:*, -LIST:* and -LNO:*
        # so, if we see these flags be careful not to treat them like -L
        -L[A-Z][A-Z]*:*)
  	case $with_gcc/$host in
! 	no/*-*-irix*)
  	  compile_command="$compile_command $arg"
  	  finalize_command="$finalize_command $arg"
  	  ;;
***************
*** 1266,1287 ****
  	    # These systems don't actually have a C library (as such)
  	    test "X$arg" = "X-lc" && continue
  	    ;;
! 	  *-*-openbsd* | *-*-freebsd*)
  	    # Do not include libc due to us having libc/libc_r.
  	    test "X$arg" = "X-lc" && continue
  	    ;;
! 	  *-*-rhapsody* | *-*-darwin1.[012])
! 	    # Rhapsody C and math libraries are in the System framework
! 	    deplibs="$deplibs -framework System"
  	    continue
  	  esac
- 	elif test "X$arg" = "X-lc_r"; then
- 	 case $host in
- 	 *-*-openbsd* | *-*-freebsd*)
- 	   # Do not include libc_r directly, use -pthread flag.
- 	   continue
- 	   ;;
- 	 esac
  	fi
  	deplibs="$deplibs $arg"
  	continue
--- 1131,1148 ----
  	    # These systems don't actually have a C library (as such)
  	    test "X$arg" = "X-lc" && continue
  	    ;;
! 	  *-*-openbsd*)
  	    # Do not include libc due to us having libc/libc_r.
  	    test "X$arg" = "X-lc" && continue
  	    ;;
! 	  esac
! 	 elif test "X$arg" = "X-lc_r"; then
! 	  case $host in
! 	  *-*-openbsd*)
! 	    # Do not include libc_r directly, use -pthread flag.
  	    continue
+ 	    ;;
  	  esac
  	fi
  	deplibs="$deplibs $arg"
  	continue
***************
*** 1292,1325 ****
  	continue
  	;;
  
-       # gcc -m* arguments should be passed to the linker via $compiler_flags
-       # in order to pass architecture information to the linker
-       # (e.g. 32 vs 64-bit).  This may also be accomplished via -Wl,-mfoo
-       # but this is not reliable with gcc because gcc may use -mfoo to
-       # select a different linker, different libraries, etc, while
-       # -Wl,-mfoo simply passes -mfoo to the linker.
-       -m*)
- 	# Unknown arguments in both finalize_command and compile_command need
- 	# to be aesthetically quoted because they are evaled later.
- 	arg=`$echo "X$arg" | $Xsed -e "$sed_quote_subst"`
- 	case $arg in
- 	*[\[\~\#\^\&\*\(\)\{\}\|\;\<\>\?\'\ \	]*|*]*|"")
- 	  arg="\"$arg\""
- 	  ;;
- 	esac
-         compile_command="$compile_command $arg"
-         finalize_command="$finalize_command $arg"
-         if test "$with_gcc" = "yes" ; then
-           compiler_flags="$compiler_flags $arg"
-         fi
-         continue
-         ;;
- 
-       -shrext)
- 	prev=shrext
- 	continue
- 	;;
- 
        -no-fast-install)
  	fast_install=no
  	continue
--- 1153,1158 ----
***************
*** 1344,1354 ****
  	continue
  	;;
  
-       -objectlist)
- 	prev=objectlist
- 	continue
- 	;;
- 
        -o) prev=output ;;
  
        -release)
--- 1177,1182 ----
***************
*** 1401,1411 ****
  	prev=vinfo
  	continue
  	;;
-       -version-number)
- 	prev=vinfo
- 	vinfo_number=yes
- 	continue
- 	;;
  
        -Wc,*)
  	args=`$echo "X$arg" | $Xsed -e "$sed_quote_subst" -e 's/^-Wc,//'`
--- 1229,1234 ----
***************
*** 1454,1464 ****
  	continue
  	;;
  
-       -XCClinker)
- 	prev=xcclinker
- 	continue
- 	;;
- 
        # Some other compiler flag.
        -* | +*)
  	# Unknown arguments in both finalize_command and compile_command need
--- 1277,1282 ----
***************
*** 1471,1571 ****
  	esac
  	;;
  
!       *.$objext)
! 	# A standard object.
! 	objs="$objs $arg"
! 	;;
! 
!       *.lo)
! 	# A libtool-controlled object.
! 
! 	# Check to see that this really is a libtool object.
! 	if (${SED} -e '2q' $arg | grep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
! 	  pic_object=
! 	  non_pic_object=
! 
! 	  # Read the .lo file
! 	  # If there is no directory component, then add one.
! 	  case $arg in
! 	  */* | *\\*) . $arg ;;
! 	  *) . ./$arg ;;
! 	  esac
! 
! 	  if test -z "$pic_object" || \
! 	     test -z "$non_pic_object" ||
! 	     test "$pic_object" = none && \
! 	     test "$non_pic_object" = none; then
! 	    $echo "$modename: cannot find name of object for \`$arg'" 1>&2
! 	    exit 1
! 	  fi
! 
! 	  # Extract subdirectory from the argument.
! 	  xdir=`$echo "X$arg" | $Xsed -e 's%/[^/]*$%%'`
! 	  if test "X$xdir" = "X$arg"; then
! 	    xdir=
!  	  else
! 	    xdir="$xdir/"
! 	  fi
! 
! 	  if test "$pic_object" != none; then
! 	    # Prepend the subdirectory the object is found in.
! 	    pic_object="$xdir$pic_object"
! 
! 	    if test "$prev" = dlfiles; then
! 	      if test "$build_libtool_libs" = yes && test "$dlopen_support" = yes; then
! 		dlfiles="$dlfiles $pic_object"
! 		prev=
! 		continue
! 	      else
! 		# If libtool objects are unsupported, then we need to preload.
! 		prev=dlprefiles
! 	      fi
! 	    fi
! 
! 	    # CHECK ME:  I think I busted this.  -Ossama
! 	    if test "$prev" = dlprefiles; then
! 	      # Preload the old-style object.
! 	      dlprefiles="$dlprefiles $pic_object"
! 	      prev=
! 	    fi
! 
! 	    # A PIC object.
! 	    libobjs="$libobjs $pic_object"
! 	    arg="$pic_object"
  	  fi
  
! 	  # Non-PIC object.
! 	  if test "$non_pic_object" != none; then
! 	    # Prepend the subdirectory the object is found in.
! 	    non_pic_object="$xdir$non_pic_object"
! 
! 	    # A standard non-PIC object
! 	    non_pic_objects="$non_pic_objects $non_pic_object"
! 	    if test -z "$pic_object" || test "$pic_object" = none ; then
! 	      arg="$non_pic_object"
! 	    fi
! 	  fi
  	else
! 	  # Only an error if not doing a dry-run.
! 	  if test -z "$run"; then
! 	    $echo "$modename: \`$arg' is not a valid libtool object" 1>&2
! 	    exit 1
! 	  else
! 	    # Dry-run case.
! 
! 	    # Extract subdirectory from the argument.
! 	    xdir=`$echo "X$arg" | $Xsed -e 's%/[^/]*$%%'`
! 	    if test "X$xdir" = "X$arg"; then
! 	      xdir=
! 	    else
! 	      xdir="$xdir/"
! 	    fi
! 
! 	    pic_object=`$echo "X${xdir}${objdir}/${arg}" | $Xsed -e "$lo2o"`
! 	    non_pic_object=`$echo "X${xdir}${arg}" | $Xsed -e "$lo2o"`
! 	    libobjs="$libobjs $pic_object"
! 	    non_pic_objects="$non_pic_objects $non_pic_object"
  	  fi
  	fi
  	;;
  
--- 1289,1323 ----
  	esac
  	;;
  
!       *.lo | *.$objext)
! 	# A library or standard object.
! 	if test "$prev" = dlfiles; then
! 	  # This file was specified with -dlopen.
! 	  if test "$build_libtool_libs" = yes && test "$dlopen_support" = yes; then
! 	    dlfiles="$dlfiles $arg"
! 	    prev=
! 	    continue
! 	  else
! 	    # If libtool objects are unsupported, then we need to preload.
! 	    prev=dlprefiles
  	  fi
+ 	fi
  
! 	if test "$prev" = dlprefiles; then
! 	  # Preload the old-style object.
! 	  dlprefiles="$dlprefiles "`$echo "X$arg" | $Xsed -e "$lo2o"`
! 	  prev=
  	else
! 	  case $arg in
! 	  *.lo)
! 	  if test "$compil32_64" = yes; then
! 	    libobjs32="$libobjs32 32/$arg"
! 	    libobjs64="$libobjs64 64/$arg"
  	  fi
+ 	  libobjs="$libobjs $arg"
+ 	  ;;
+ 	  *) objs="$objs $arg" ;;
+ 	  esac
  	fi
  	;;
  
***************
*** 1619,1675 ****
        exit 1
      fi
  
-     # Infer tagged configuration to use if any are available and
-     # if one wasn't chosen via the "--tag" command line option.
-     # Only attempt this if the compiler in the base link
-     # command doesn't match the default compiler.
-     if test -n "$available_tags" && test -z "$tagname"; then
-       case $base_compile in
-       # Blanks in the command may have been stripped by the calling shell,
-       # but not from the CC environment variable when configure was run.
-       "$CC "* | " $CC "* | "`$echo $CC` "* | " `$echo $CC` "*) ;;
-       # Blanks at the start of $base_compile will cause this to fail
-       # if we don't check for them as well.
-       *)
- 	for z in $available_tags; do
- 	  if grep "^# ### BEGIN LIBTOOL TAG CONFIG: $z$" < "$0" > /dev/null; then
- 	    # Evaluate the configuration.
- 	    eval "`${SED} -n -e '/^# ### BEGIN LIBTOOL TAG CONFIG: '$z'$/,/^# ### END LIBTOOL TAG CONFIG: '$z'$/p' < $0`"
- 	    case $base_compile in
- 	    "$CC "* | " $CC "* | "`$echo $CC` "* | " `$echo $CC` "*)
- 	      # The compiler in $compile_command matches
- 	      # the one in the tagged configuration.
- 	      # Assume this is the tagged configuration we want.
- 	      tagname=$z
- 	      break
- 	      ;;
- 	    esac
- 	  fi
- 	done
- 	# If $tagname still isn't set, then no tagged configuration
- 	# was found and let the user know that the "--tag" command
- 	# line option must be used.
- 	if test -z "$tagname"; then
- 	  $echo "$modename: unable to infer tagged configuration"
- 	  $echo "$modename: specify a tag with \`--tag'" 1>&2
- 	  exit 1
- #       else
- #         $echo "$modename: using $tagname tagged configuration"
- 	fi
- 	;;
-       esac
-     fi
- 
      if test "$export_dynamic" = yes && test -n "$export_dynamic_flag_spec"; then
        eval arg=\"$export_dynamic_flag_spec\"
        compile_command="$compile_command $arg"
        finalize_command="$finalize_command $arg"
      fi
  
-     oldlibs=
      # calculate the name of the file, without its directory
      outputname=`$echo "X$output" | $Xsed -e 's%^.*/%%'`
      libobjs_save="$libobjs"
  
      if test -n "$shlibpath_var"; then
        # get the directories listed in $shlibpath_var
--- 1371,1389 ----
        exit 1
      fi
  
      if test "$export_dynamic" = yes && test -n "$export_dynamic_flag_spec"; then
        eval arg=\"$export_dynamic_flag_spec\"
        compile_command="$compile_command $arg"
        finalize_command="$finalize_command $arg"
      fi
  
      # calculate the name of the file, without its directory
      outputname=`$echo "X$output" | $Xsed -e 's%^.*/%%'`
      libobjs_save="$libobjs"
+     if test "$compil32_64" = yes; then
+       libobjs_save32="$libobjs32"
+       libobjs_save64="$libobjs64"
+     fi
  
      if test -n "$shlibpath_var"; then
        # get the directories listed in $shlibpath_var
***************
*** 1687,1700 ****
        output_objdir="$output_objdir/$objdir"
      fi
      # Create the object directory.
!     if test ! -d "$output_objdir"; then
        $show "$mkdir $output_objdir"
        $run $mkdir $output_objdir
        status=$?
!       if test "$status" -ne 0 && test ! -d "$output_objdir"; then
  	exit $status
        fi
      fi
  
      # Determine the type of output
      case $output in
--- 1401,1432 ----
        output_objdir="$output_objdir/$objdir"
      fi
      # Create the object directory.
!     if test ! -d $output_objdir; then
        $show "$mkdir $output_objdir"
        $run $mkdir $output_objdir
        status=$?
!       if test $status -ne 0 && test ! -d $output_objdir; then
  	exit $status
        fi
      fi
+     if test "$compil32_64" = yes; then
+       if test ! -d $output_objdir/32; then
+         $show "$mkdir $output_objdir/32"
+         $run $mkdir $output_objdir/32
+         status=$?
+         if test $status -ne 0 && test ! -d $output_objdir/32; then
+ 	  exit $status
+         fi
+       fi
+       if test ! -d $output_objdir/64; then
+         $show "$mkdir $output_objdir/64"
+         $run $mkdir $output_objdir/64
+         status=$?
+         if test $status -ne 0 && test ! -d $output_objdir/64; then
+ 	  exit $status
+         fi
+       fi
+     fi
  
      # Determine the type of output
      case $output in
***************
*** 1709,1755 ****
      *) linkmode=prog ;; # Anything else should be a program.
      esac
  
-     case $host in
-     *cygwin* | *mingw* | *pw32*)
-       # don't eliminate duplcations in $postdeps and $predeps
-       duplicate_compiler_generated_deps=yes
-       ;;
-     *)
-       duplicate_compiler_generated_deps=$duplicate_deps
-       ;;
-     esac
      specialdeplibs=
- 
      libs=
      # Find all interdependent deplibs by searching for libraries
      # that are linked more than once (e.g. -la -lb -la)
      for deplib in $deplibs; do
!       if test "X$duplicate_deps" = "Xyes" ; then
! 	case "$libs " in
! 	*" $deplib "*) specialdeplibs="$specialdeplibs $deplib" ;;
! 	esac
!       fi
        libs="$libs $deplib"
      done
- 
-     if test "$linkmode" = lib; then
-       libs="$predeps $libs $compiler_lib_search_path $postdeps"
- 
-       # Compute libraries that are listed more than once in $predeps
-       # $postdeps and mark them as special (i.e., whose duplicates are
-       # not to be eliminated).
-       pre_post_deps=
-       if test "X$duplicate_compiler_generated_deps" = "Xyes" ; then
- 	for pre_post_dep in $predeps $postdeps; do
- 	  case "$pre_post_deps " in
- 	  *" $pre_post_dep "*) specialdeplibs="$specialdeplibs $pre_post_deps" ;;
- 	  esac
- 	  pre_post_deps="$pre_post_deps $pre_post_dep"
- 	done
-       fi
-       pre_post_deps=
-     fi
- 
      deplibs=
      newdependency_libs=
      newlib_search_path=
--- 1441,1456 ----
      *) linkmode=prog ;; # Anything else should be a program.
      esac
  
      specialdeplibs=
      libs=
      # Find all interdependent deplibs by searching for libraries
      # that are linked more than once (e.g. -la -lb -la)
      for deplib in $deplibs; do
!       case "$libs " in
!       *" $deplib "*) specialdeplibs="$specialdeplibs $deplib" ;;
!       esac
        libs="$libs $deplib"
      done
      deplibs=
      newdependency_libs=
      newlib_search_path=
***************
*** 1781,1813 ****
  	;;
      esac
      for pass in $passes; do
!       if test "$linkmode,$pass" = "lib,link" ||
! 	 test "$linkmode,$pass" = "prog,scan"; then
! 	libs="$deplibs"
! 	deplibs=
!       fi
!       if test "$linkmode" = prog; then
  	case $pass in
! 	dlopen) libs="$dlfiles" ;;
  	dlpreopen) libs="$dlprefiles" ;;
  	link) libs="$deplibs %DEPLIBS% $dependency_libs" ;;
  	esac
        fi
-       if test "$pass" = dlopen; then
- 	# Collect dlpreopened libraries
- 	save_deplibs="$deplibs"
- 	deplibs=
-       fi
        for deplib in $libs; do
  	lib=
  	found=no
  	case $deplib in
  	-l*)
! 	  if test "$linkmode" != lib && test "$linkmode" != prog; then
! 	    $echo "$modename: warning: \`-l' is ignored for archives/objects" 1>&2
  	    continue
  	  fi
! 	  if test "$pass" = conv; then
  	    deplibs="$deplib $deplibs"
  	    continue
  	  fi
--- 1482,1509 ----
  	;;
      esac
      for pass in $passes; do
!       if test $linkmode = prog; then
! 	# Determine which files to process
  	case $pass in
! 	dlopen)
! 	  libs="$dlfiles"
! 	  save_deplibs="$deplibs" # Collect dlpreopened libraries
! 	  deplibs=
! 	  ;;
  	dlpreopen) libs="$dlprefiles" ;;
  	link) libs="$deplibs %DEPLIBS% $dependency_libs" ;;
  	esac
        fi
        for deplib in $libs; do
  	lib=
  	found=no
  	case $deplib in
  	-l*)
! 	  if test $linkmode = oldlib && test $linkmode = obj; then
! 	    $echo "$modename: warning: \`-l' is ignored for archives/objects: $deplib" 1>&2
  	    continue
  	  fi
! 	  if test $pass = conv; then
  	    deplibs="$deplib $deplibs"
  	    continue
  	  fi
***************
*** 1827,1887 ****
  	      finalize_deplibs="$deplib $finalize_deplibs"
  	    else
  	      deplibs="$deplib $deplibs"
! 	      test "$linkmode" = lib && newdependency_libs="$deplib $newdependency_libs"
  	    fi
  	    continue
- 	  else # deplib is a libtool library
- 	    # If $allow_libtool_libs_with_static_runtimes && $deplib is a stdlib,
- 	    # We need to do some special things here, and not later.
- 	    if test "X$allow_libtool_libs_with_static_runtimes" = "Xyes" ; then
- 	      case " $predeps $postdeps " in
- 	      *" $deplib "*)
- 		if (${SED} -e '2q' $lib |
-                     grep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
- 		  library_names=
- 		  old_library=
- 		  case $lib in
- 		  */* | *\\*) . $lib ;;
- 		  *) . ./$lib ;;
- 		  esac
- 		  for l in $old_library $library_names; do
- 		    ll="$l"
- 		  done
- 		  if test "X$ll" = "X$old_library" ; then # only static version available
- 		    found=no
- 		    ladir=`$echo "X$lib" | $Xsed -e 's%/[^/]*$%%'`
- 		    test "X$ladir" = "X$lib" && ladir="."
- 		    lib=$ladir/$old_library
- 		    if test "$linkmode,$pass" = "prog,link"; then
- 		      compile_deplibs="$deplib $compile_deplibs"
- 		      finalize_deplibs="$deplib $finalize_deplibs"
- 		    else
- 		      deplibs="$deplib $deplibs"
- 		      test "$linkmode" = lib && newdependency_libs="$deplib $newdependency_libs"
- 		    fi
- 		    continue
- 		  fi
- 		fi
- 	        ;;
- 	      *) ;;
- 	      esac
- 	    fi
  	  fi
  	  ;; # -l
  	-L*)
  	  case $linkmode in
  	  lib)
  	    deplibs="$deplib $deplibs"
! 	    test "$pass" = conv && continue
  	    newdependency_libs="$deplib $newdependency_libs"
  	    newlib_search_path="$newlib_search_path "`$echo "X$deplib" | $Xsed -e 's/^-L//'`
  	    ;;
  	  prog)
! 	    if test "$pass" = conv; then
  	      deplibs="$deplib $deplibs"
  	      continue
  	    fi
! 	    if test "$pass" = scan; then
  	      deplibs="$deplib $deplibs"
  	      newlib_search_path="$newlib_search_path "`$echo "X$deplib" | $Xsed -e 's/^-L//'`
  	    else
--- 1523,1547 ----
  	      finalize_deplibs="$deplib $finalize_deplibs"
  	    else
  	      deplibs="$deplib $deplibs"
! 	      test $linkmode = lib && newdependency_libs="$deplib $newdependency_libs"
  	    fi
  	    continue
  	  fi
  	  ;; # -l
  	-L*)
  	  case $linkmode in
  	  lib)
  	    deplibs="$deplib $deplibs"
! 	    test $pass = conv && continue
  	    newdependency_libs="$deplib $newdependency_libs"
  	    newlib_search_path="$newlib_search_path "`$echo "X$deplib" | $Xsed -e 's/^-L//'`
  	    ;;
  	  prog)
! 	    if test $pass = conv; then
  	      deplibs="$deplib $deplibs"
  	      continue
  	    fi
! 	    if test $pass = scan; then
  	      deplibs="$deplib $deplibs"
  	      newlib_search_path="$newlib_search_path "`$echo "X$deplib" | $Xsed -e 's/^-L//'`
  	    else
***************
*** 1890,1902 ****
  	    fi
  	    ;;
  	  *)
! 	    $echo "$modename: warning: \`-L' is ignored for archives/objects" 1>&2
  	    ;;
  	  esac # linkmode
  	  continue
  	  ;; # -L
  	-R*)
! 	  if test "$pass" = link; then
  	    dir=`$echo "X$deplib" | $Xsed -e 's/^-R//'`
  	    # Make sure the xrpath contains only unique directories.
  	    case "$xrpath " in
--- 1550,1562 ----
  	    fi
  	    ;;
  	  *)
! 	    $echo "$modename: warning: \`-L' is ignored for archives/objects: $deplib" 1>&2
  	    ;;
  	  esac # linkmode
  	  continue
  	  ;; # -L
  	-R*)
! 	  if test $pass = link; then
  	    dir=`$echo "X$deplib" | $Xsed -e 's/^-R//'`
  	    # Make sure the xrpath contains only unique directories.
  	    case "$xrpath " in
***************
*** 1909,1938 ****
  	  ;;
  	*.la) lib="$deplib" ;;
  	*.$libext)
! 	  if test "$pass" = conv; then
  	    deplibs="$deplib $deplibs"
  	    continue
  	  fi
  	  case $linkmode in
  	  lib)
  	    if test "$deplibs_check_method" != pass_all; then
! 	      $echo
! 	      $echo "*** Warning: Trying to link with static lib archive $deplib."
! 	      $echo "*** I have the capability to make that library automatically link in when"
! 	      $echo "*** you link to this library.  But I can only do this if you have a"
! 	      $echo "*** shared version of the library, which you do not appear to have"
! 	      $echo "*** because the file extensions .$libext of this argument makes me believe"
! 	      $echo "*** that it is just a static archive that I should not used here."
  	    else
! 	      $echo
! 	      $echo "*** Warning: Linking the shared library $output against the"
! 	      $echo "*** static library $deplib is not portable!"
  	      deplibs="$deplib $deplibs"
  	    fi
  	    continue
  	    ;;
  	  prog)
! 	    if test "$pass" != link; then
  	      deplibs="$deplib $deplibs"
  	    else
  	      compile_deplibs="$deplib $compile_deplibs"
--- 1569,1596 ----
  	  ;;
  	*.la) lib="$deplib" ;;
  	*.$libext)
! 	  if test $pass = conv; then
  	    deplibs="$deplib $deplibs"
  	    continue
  	  fi
  	  case $linkmode in
  	  lib)
  	    if test "$deplibs_check_method" != pass_all; then
! 	      echo
! 	      echo "*** Warning: This library needs some functionality provided by $deplib."
! 	      echo "*** I have the capability to make that library automatically link in when"
! 	      echo "*** you link to this library.  But I can only do this if you have a"
! 	      echo "*** shared version of the library, which you do not appear to have."
  	    else
! 	      echo
! 	      echo "*** Warning: Linking the shared library $output against the"
! 	      echo "*** static library $deplib is not portable!"
  	      deplibs="$deplib $deplibs"
  	    fi
  	    continue
  	    ;;
  	  prog)
! 	    if test $pass != link; then
  	      deplibs="$deplib $deplibs"
  	    else
  	      compile_deplibs="$deplib $compile_deplibs"
***************
*** 1943,1960 ****
  	  esac # linkmode
  	  ;; # *.$libext
  	*.lo | *.$objext)
! 	  if test "$pass" = conv; then
! 	    deplibs="$deplib $deplibs"
! 	  elif test "$linkmode" = prog; then
! 	    if test "$pass" = dlpreopen || test "$dlopen_support" != yes || test "$build_libtool_libs" = no; then
! 	      # If there is no dlopen support or we're linking statically,
! 	      # we need to preload.
! 	      newdlprefiles="$newdlprefiles $deplib"
! 	      compile_deplibs="$deplib $compile_deplibs"
! 	      finalize_deplibs="$deplib $finalize_deplibs"
! 	    else
! 	      newdlfiles="$newdlfiles $deplib"
! 	    fi
  	  fi
  	  continue
  	  ;;
--- 1601,1614 ----
  	  esac # linkmode
  	  ;; # *.$libext
  	*.lo | *.$objext)
! 	  if test $pass = dlpreopen || test "$dlopen_support" != yes || test "$build_libtool_libs" = no; then
! 	    # If there is no dlopen support or we're linking statically,
! 	    # we need to preload.
! 	    newdlprefiles="$newdlprefiles $deplib"
! 	    compile_deplibs="$deplib $compile_deplibs"
! 	    finalize_deplibs="$deplib $finalize_deplibs"
! 	  else
! 	    newdlfiles="$newdlfiles $deplib"
  	  fi
  	  continue
  	  ;;
***************
*** 1963,1976 ****
  	  continue
  	  ;;
  	esac # case $deplib
! 	if test "$found" = yes || test -f "$lib"; then :
  	else
  	  $echo "$modename: cannot find the library \`$lib'" 1>&2
  	  exit 1
  	fi
  
  	# Check to see that this really is a libtool archive.
! 	if (${SED} -e '2q' $lib | grep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then :
  	else
  	  $echo "$modename: \`$lib' is not a valid libtool archive" 1>&2
  	  exit 1
--- 1617,1630 ----
  	  continue
  	  ;;
  	esac # case $deplib
! 	if test $found = yes || test -f "$lib"; then :
  	else
  	  $echo "$modename: cannot find the library \`$lib'" 1>&2
  	  exit 1
  	fi
  
  	# Check to see that this really is a libtool archive.
! 	if (sed -e '2q' $lib | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then :
  	else
  	  $echo "$modename: \`$lib' is not a valid libtool archive" 1>&2
  	  exit 1
***************
*** 1986,1994 ****
  	library_names=
  	old_library=
  	# If the library was installed with an old release of libtool,
! 	# it will not redefine variables installed, or shouldnotlink
  	installed=yes
- 	shouldnotlink=no
  
  	# Read the .la file
  	case $lib in
--- 1640,1647 ----
  	library_names=
  	old_library=
  	# If the library was installed with an old release of libtool,
! 	# it will not redefine variable installed.
  	installed=yes
  
  	# Read the .la file
  	case $lib in
***************
*** 1998,2009 ****
  
  	if test "$linkmode,$pass" = "lib,link" ||
  	   test "$linkmode,$pass" = "prog,scan" ||
! 	   { test "$linkmode" != prog && test "$linkmode" != lib; }; then
  	  test -n "$dlopen" && dlfiles="$dlfiles $dlopen"
  	  test -n "$dlpreopen" && dlprefiles="$dlprefiles $dlpreopen"
  	fi
  
! 	if test "$pass" = conv; then
  	  # Only check for convenience libraries
  	  deplibs="$lib $deplibs"
  	  if test -z "$libdir"; then
--- 1651,1663 ----
  
  	if test "$linkmode,$pass" = "lib,link" ||
  	   test "$linkmode,$pass" = "prog,scan" ||
! 	   { test $linkmode = oldlib && test $linkmode = obj; }; then
! 	   # Add dl[pre]opened files of deplib
  	  test -n "$dlopen" && dlfiles="$dlfiles $dlopen"
  	  test -n "$dlpreopen" && dlprefiles="$dlprefiles $dlpreopen"
  	fi
  
! 	if test $pass = conv; then
  	  # Only check for convenience libraries
  	  deplibs="$lib $deplibs"
  	  if test -z "$libdir"; then
***************
*** 2017,2037 ****
  	    tmp_libs=
  	    for deplib in $dependency_libs; do
  	      deplibs="$deplib $deplibs"
!               if test "X$duplicate_deps" = "Xyes" ; then
! 	        case "$tmp_libs " in
! 	        *" $deplib "*) specialdeplibs="$specialdeplibs $deplib" ;;
! 	        esac
!               fi
  	      tmp_libs="$tmp_libs $deplib"
  	    done
! 	  elif test "$linkmode" != prog && test "$linkmode" != lib; then
  	    $echo "$modename: \`$lib' is not a convenience library" 1>&2
  	    exit 1
  	  fi
  	  continue
  	fi # $pass = conv
  
-     
  	# Get the name of the library we link against.
  	linklib=
  	for l in $old_library $library_names; do
--- 1671,1688 ----
  	    tmp_libs=
  	    for deplib in $dependency_libs; do
  	      deplibs="$deplib $deplibs"
! 	      case "$tmp_libs " in
! 	      *" $deplib "*) specialdeplibs="$specialdeplibs $deplib" ;;
! 	      esac
  	      tmp_libs="$tmp_libs $deplib"
  	    done
! 	  elif test $linkmode != prog && test $linkmode != lib; then
  	    $echo "$modename: \`$lib' is not a convenience library" 1>&2
  	    exit 1
  	  fi
  	  continue
  	fi # $pass = conv
  
  	# Get the name of the library we link against.
  	linklib=
  	for l in $old_library $library_names; do
***************
*** 2043,2059 ****
  	fi
  
  	# This library was specified with -dlopen.
! 	if test "$pass" = dlopen; then
  	  if test -z "$libdir"; then
  	    $echo "$modename: cannot -dlopen a convenience library: \`$lib'" 1>&2
  	    exit 1
  	  fi
  	  if test -z "$dlname" || test "$dlopen_support" != yes || test "$build_libtool_libs" = no; then
  	    # If there is no dlname, no dlopen support or we're linking
! 	    # statically, we need to preload.  We also need to preload any
! 	    # dependent libraries so libltdl's deplib preloader doesn't
! 	    # bomb out in the load deplibs phase.
! 	    dlprefiles="$dlprefiles $lib $dependency_libs"
  	  else
  	    newdlfiles="$newdlfiles $lib"
  	  fi
--- 1694,1708 ----
  	fi
  
  	# This library was specified with -dlopen.
! 	if test $pass = dlopen; then
  	  if test -z "$libdir"; then
  	    $echo "$modename: cannot -dlopen a convenience library: \`$lib'" 1>&2
  	    exit 1
  	  fi
  	  if test -z "$dlname" || test "$dlopen_support" != yes || test "$build_libtool_libs" = no; then
  	    # If there is no dlname, no dlopen support or we're linking
! 	    # statically, we need to preload.
! 	    dlprefiles="$dlprefiles $lib"
  	  else
  	    newdlfiles="$newdlfiles $lib"
  	  fi
***************
*** 2094,2100 ****
  	name=`$echo "X$laname" | $Xsed -e 's/\.la$//' -e 's/^lib//'`
  
  	# This library was specified with -dlpreopen.
! 	if test "$pass" = dlpreopen; then
  	  if test -z "$libdir"; then
  	    $echo "$modename: cannot -dlpreopen a convenience library: \`$lib'" 1>&2
  	    exit 1
--- 1743,1749 ----
  	name=`$echo "X$laname" | $Xsed -e 's/\.la$//' -e 's/^lib//'`
  
  	# This library was specified with -dlpreopen.
! 	if test $pass = dlpreopen; then
  	  if test -z "$libdir"; then
  	    $echo "$modename: cannot -dlpreopen a convenience library: \`$lib'" 1>&2
  	    exit 1
***************
*** 2113,2131 ****
  
  	if test -z "$libdir"; then
  	  # Link the convenience library
! 	  if test "$linkmode" = lib; then
  	    deplibs="$dir/$old_library $deplibs"
  	  elif test "$linkmode,$pass" = "prog,link"; then
  	    compile_deplibs="$dir/$old_library $compile_deplibs"
  	    finalize_deplibs="$dir/$old_library $finalize_deplibs"
  	  else
! 	    deplibs="$lib $deplibs" # used for prog,scan pass
  	  fi
  	  continue
  	fi
  
!     
! 	if test "$linkmode" = prog && test "$pass" != link; then
  	  newlib_search_path="$newlib_search_path $ladir"
  	  deplibs="$lib $deplibs"
  
--- 1762,1779 ----
  
  	if test -z "$libdir"; then
  	  # Link the convenience library
! 	  if test $linkmode = lib; then
  	    deplibs="$dir/$old_library $deplibs"
  	  elif test "$linkmode,$pass" = "prog,link"; then
  	    compile_deplibs="$dir/$old_library $compile_deplibs"
  	    finalize_deplibs="$dir/$old_library $finalize_deplibs"
  	  else
! 	    deplibs="$lib $deplibs"
  	  fi
  	  continue
  	fi
  
! 	if test $linkmode = prog && test $pass != link; then
  	  newlib_search_path="$newlib_search_path $ladir"
  	  deplibs="$lib $deplibs"
  
***************
*** 2141,2176 ****
  	    -L*) newlib_search_path="$newlib_search_path "`$echo "X$deplib" | $Xsed -e 's/^-L//'`;; ### testsuite: skip nested quoting test
  	    esac
  	    # Need to link against all dependency_libs?
! 	    if test "$linkalldeplibs" = yes; then
  	      deplibs="$deplib $deplibs"
  	    else
  	      # Need to hardcode shared library paths
  	      # or/and link against static libraries
  	      newdependency_libs="$deplib $newdependency_libs"
  	    fi
! 	    if test "X$duplicate_deps" = "Xyes" ; then
! 	      case "$tmp_libs " in
! 	      *" $deplib "*) specialdeplibs="$specialdeplibs $deplib" ;;
! 	      esac
! 	    fi
  	    tmp_libs="$tmp_libs $deplib"
  	  done # for deplib
  	  continue
  	fi # $linkmode = prog...
  
! 	if test "$linkmode,$pass" = "prog,link"; then
! 	  if test -n "$library_names" &&
! 	     { test "$prefer_static_libs" = no || test -z "$old_library"; }; then
! 	    # We need to hardcode the library path
! 	    if test -n "$shlibpath_var"; then
! 	      # Make sure the rpath contains only unique directories.
! 	      case "$temp_rpath " in
! 	      *" $dir "*) ;;
! 	      *" $absdir "*) ;;
! 	      *) temp_rpath="$temp_rpath $dir" ;;
! 	      esac
! 	    fi
  
  	    # Hardcode the library path.
  	    # Skip directories that are in the system default run-time
  	    # search path.
--- 1789,1816 ----
  	    -L*) newlib_search_path="$newlib_search_path "`$echo "X$deplib" | $Xsed -e 's/^-L//'`;; ### testsuite: skip nested quoting test
  	    esac
  	    # Need to link against all dependency_libs?
! 	    if test $linkalldeplibs = yes; then
  	      deplibs="$deplib $deplibs"
  	    else
  	      # Need to hardcode shared library paths
  	      # or/and link against static libraries
  	      newdependency_libs="$deplib $newdependency_libs"
  	    fi
! 	    case "$tmp_libs " in
! 	    *" $deplib "*) specialdeplibs="$specialdeplibs $deplib" ;;
! 	    esac
  	    tmp_libs="$tmp_libs $deplib"
  	  done # for deplib
  	  continue
  	fi # $linkmode = prog...
  
! 	link_static=no # Whether the deplib will be linked statically
! 	if test -n "$library_names" &&
! 	   { test "$prefer_static_libs" = no || test -z "$old_library"; }; then
! 	  # Link against this shared library
  
+ 	  if test "$linkmode,$pass" = "prog,link" ||
+ 	   { test $linkmode = lib && test $hardcode_into_libs = yes; }; then
  	    # Hardcode the library path.
  	    # Skip directories that are in the system default run-time
  	    # search path.
***************
*** 2192,2197 ****
--- 1832,1848 ----
  	      esac
  	      ;;
  	    esac
+ 	    if test $linkmode = prog; then
+ 	      # We need to hardcode the library path
+ 	      if test -n "$shlibpath_var"; then
+ 		# Make sure the rpath contains only unique directories.
+ 		case "$temp_rpath " in
+ 		*" $dir "*) ;;
+ 		*" $absdir "*) ;;
+ 		*) temp_rpath="$temp_rpath $dir" ;;
+ 		esac
+ 	      fi
+ 	    fi
  	  fi # $linkmode,$pass = prog,link...
  
  	  if test "$alldeplibs" = yes &&
***************
*** 2201,2251 ****
  	    # We only need to search for static libraries
  	    continue
  	  fi
- 	fi
  
- 	link_static=no # Whether the deplib will be linked statically
- 	if test -n "$library_names" &&
- 	   { test "$prefer_static_libs" = no || test -z "$old_library"; }; then
  	  if test "$installed" = no; then
  	    notinst_deplibs="$notinst_deplibs $lib"
  	    need_relink=yes
  	  fi
- 	  # This is a shared library
- 	
-       # Warn about portability, can't link against -module's on some systems (darwin)
-       if test "$shouldnotlink" = yes && test "$pass" = link ; then
- 	    $echo
- 	    if test "$linkmode" = prog; then
- 	      $echo "*** Warning: Linking the executable $output against the loadable module"
- 	    else
- 	      $echo "*** Warning: Linking the shared library $output against the loadable module"
- 	    fi
- 	    $echo "*** $linklib is not portable!"    
-       fi	  
- 	  if test "$linkmode" = lib &&
- 	     test "$hardcode_into_libs" = yes; then
- 	    # Hardcode the library path.
- 	    # Skip directories that are in the system default run-time
- 	    # search path.
- 	    case " $sys_lib_dlsearch_path " in
- 	    *" $absdir "*) ;;
- 	    *)
- 	      case "$compile_rpath " in
- 	      *" $absdir "*) ;;
- 	      *) compile_rpath="$compile_rpath $absdir"
- 	      esac
- 	      ;;
- 	    esac
- 	    case " $sys_lib_dlsearch_path " in
- 	    *" $libdir "*) ;;
- 	    *)
- 	      case "$finalize_rpath " in
- 	      *" $libdir "*) ;;
- 	      *) finalize_rpath="$finalize_rpath $libdir"
- 	      esac
- 	      ;;
- 	    esac
- 	  fi
  
  	  if test -n "$old_archive_from_expsyms_cmds"; then
  	    # figure out the soname
--- 1852,1862 ----
***************
*** 2259,2265 ****
  	    elif test -n "$soname_spec"; then
  	      # bleh windows
  	      case $host in
! 	      *cygwin* | mingw*)
  		major=`expr $current - $age`
  		versuffix="-$major"
  		;;
--- 1870,1876 ----
  	    elif test -n "$soname_spec"; then
  	      # bleh windows
  	      case $host in
! 	      *cygwin*)
  		major=`expr $current - $age`
  		versuffix="-$major"
  		;;
***************
*** 2271,2278 ****
  
  	    # Make a new name for the extract_expsyms_cmds to use
  	    soroot="$soname"
! 	    soname=`$echo $soroot | ${SED} -e 's/^.*\///'`
! 	    newlib="libimp-`$echo $soname | ${SED} 's/^lib//;s/\.dll$//'`.a"
  
  	    # If the library has no export list, then create one now
  	    if test -f "$output_objdir/$soname-def"; then :
--- 1882,1889 ----
  
  	    # Make a new name for the extract_expsyms_cmds to use
  	    soroot="$soname"
! 	    soname=`echo $soroot | sed -e 's/^.*\///'`
! 	    newlib="libimp-`echo $soname | sed 's/^lib//;s/\.dll$//'`.a"
  
  	    # If the library has no export list, then create one now
  	    if test -f "$output_objdir/$soname-def"; then :
***************
*** 2303,2311 ****
  	    # make sure the library variables are pointing to the new library
  	    dir=$output_objdir
  	    linklib=$newlib
! 	  fi # test -n "$old_archive_from_expsyms_cmds"
  
! 	  if test "$linkmode" = prog || test "$mode" != relink; then
  	    add_shlibpath=
  	    add_dir=
  	    add=
--- 1914,1922 ----
  	    # make sure the library variables are pointing to the new library
  	    dir=$output_objdir
  	    linklib=$newlib
! 	  fi # test -n $old_archive_from_expsyms_cmds
  
! 	  if test $linkmode = prog || test "$mode" != relink; then
  	    add_shlibpath=
  	    add_dir=
  	    add=
***************
*** 2314,2335 ****
  	    immediate | unsupported)
  	      if test "$hardcode_direct" = no; then
  		add="$dir/$linklib"
- 		case $host in
- 		  *-*-sco3.2v5* ) add_dir="-L$dir" ;;
- 		  *-*-darwin* )
- 		    # if the lib is a module then we can not link against it, someone
- 		    # is ignoring the new warnings I added
- 		    if /usr/bin/file -L $add 2> /dev/null | grep "bundle" >/dev/null ; then
- 		      $echo "** Warning, lib $linklib is a module, not a shared library"
- 		      if test -z "$old_library" ; then
- 		        $echo
- 		        $echo "** And there doesn't seem to be a static archive available"
- 		        $echo "** The link will probably fail, sorry"
- 		      else
- 		        add="$dir/$old_library"
- 		      fi 
- 		    fi
- 		esac
  	      elif test "$hardcode_minus_L" = no; then
  		case $host in
  		*-*-sunos*) add_shlibpath="$dir" ;;
--- 1925,1930 ----
***************
*** 2348,2361 ****
  		add="$dir/$linklib"
  	      elif test "$hardcode_minus_L" = yes; then
  		add_dir="-L$dir"
- 		# Try looking first in the location we're being installed to.
- 		if test -n "$inst_prefix_dir"; then
- 		  case "$libdir" in
- 		    [\\/]*)
- 		      add_dir="-L$inst_prefix_dir$libdir $add_dir"
- 		      ;;
- 		  esac
- 		fi
  		add="-l$name"
  	      elif test "$hardcode_shlibpath_var" = yes; then
  		add_shlibpath="$dir"
--- 1943,1948 ----
***************
*** 2378,2384 ****
  	      *) compile_shlibpath="$compile_shlibpath$add_shlibpath:" ;;
  	      esac
  	    fi
! 	    if test "$linkmode" = prog; then
  	      test -n "$add_dir" && compile_deplibs="$add_dir $compile_deplibs"
  	      test -n "$add" && compile_deplibs="$add $compile_deplibs"
  	    else
--- 1965,1971 ----
  	      *) compile_shlibpath="$compile_shlibpath$add_shlibpath:" ;;
  	      esac
  	    fi
! 	    if test $linkmode = prog; then
  	      test -n "$add_dir" && compile_deplibs="$add_dir $compile_deplibs"
  	      test -n "$add" && compile_deplibs="$add $compile_deplibs"
  	    else
***************
*** 2395,2401 ****
  	    fi
  	  fi
  
! 	  if test "$linkmode" = prog || test "$mode" = relink; then
  	    add_shlibpath=
  	    add_dir=
  	    add=
--- 1982,1988 ----
  	    fi
  	  fi
  
! 	  if test $linkmode = prog || test "$mode" = relink; then
  	    add_shlibpath=
  	    add_dir=
  	    add=
***************
*** 2411,2437 ****
  	      *) finalize_shlibpath="$finalize_shlibpath$libdir:" ;;
  	      esac
  	      add="-l$name"
- 	    elif test "$hardcode_automatic" = yes; then
- 	      if test -n "$inst_prefix_dir" && test -f "$inst_prefix_dir$libdir/$linklib" ; then
- 	        add="$inst_prefix_dir$libdir/$linklib"
- 	      else
- 	        add="$libdir/$linklib"
- 	      fi
  	    else
  	      # We cannot seem to hardcode it, guess we'll fake it.
  	      add_dir="-L$libdir"
- 	      # Try looking first in the location we're being installed to.
- 	      if test -n "$inst_prefix_dir"; then
- 		case "$libdir" in
- 		  [\\/]*)
- 		    add_dir="-L$inst_prefix_dir$libdir $add_dir"
- 		    ;;
- 		esac
- 	      fi
  	      add="-l$name"
  	    fi
  
! 	    if test "$linkmode" = prog; then
  	      test -n "$add_dir" && finalize_deplibs="$add_dir $finalize_deplibs"
  	      test -n "$add" && finalize_deplibs="$add $finalize_deplibs"
  	    else
--- 1998,2010 ----
  	      *) finalize_shlibpath="$finalize_shlibpath$libdir:" ;;
  	      esac
  	      add="-l$name"
  	    else
  	      # We cannot seem to hardcode it, guess we'll fake it.
  	      add_dir="-L$libdir"
  	      add="-l$name"
  	    fi
  
! 	    if test $linkmode = prog; then
  	      test -n "$add_dir" && finalize_deplibs="$add_dir $finalize_deplibs"
  	      test -n "$add" && finalize_deplibs="$add $finalize_deplibs"
  	    else
***************
*** 2439,2445 ****
  	      test -n "$add" && deplibs="$add $deplibs"
  	    fi
  	  fi
! 	elif test "$linkmode" = prog; then
  	  # Here we assume that one of hardcode_direct or hardcode_minus_L
  	  # is not unsupported.  This is valid on all known static and
  	  # shared platforms.
--- 2012,2027 ----
  	      test -n "$add" && deplibs="$add $deplibs"
  	    fi
  	  fi
! 	elif test $linkmode = prog; then
! 	  if test "$alldeplibs" = yes &&
! 	     { test "$deplibs_check_method" = pass_all ||
! 	       { test "$build_libtool_libs" = yes &&
! 		 test -n "$library_names"; }; }; then
! 	    # We only need to search for static libraries
! 	    continue
! 	  fi
! 
! 	  # Try to link the static library
  	  # Here we assume that one of hardcode_direct or hardcode_minus_L
  	  # is not unsupported.  This is valid on all known static and
  	  # shared platforms.
***************
*** 2459,2479 ****
  
  	    # Just print a warning and add the library to dependency_libs so
  	    # that the program can be linked against the static library.
! 	    $echo
! 	    $echo "*** Warning: This system can not link to static lib archive $lib."
! 	    $echo "*** I have the capability to make that library automatically link in when"
! 	    $echo "*** you link to this library.  But I can only do this if you have a"
! 	    $echo "*** shared version of the library, which you do not appear to have."
  	    if test "$module" = yes; then
! 	      $echo "*** But as you try to build a module library, libtool will still create "
! 	      $echo "*** a static module, that should work as long as the dlopening application"
! 	      $echo "*** is linked with the -dlopen flag to resolve symbols at runtime."
  	      if test -z "$global_symbol_pipe"; then
! 		$echo
! 		$echo "*** However, this would only work if libtool was able to extract symbol"
! 		$echo "*** lists from a program, using \`nm' or equivalent, but libtool could"
! 		$echo "*** not find such a program.  So, this module is probably useless."
! 		$echo "*** \`nm' from GNU binutils and a full rebuild may help."
  	      fi
  	      if test "$build_old_libs" = no; then
  		build_libtool_libs=module
--- 2041,2060 ----
  
  	    # Just print a warning and add the library to dependency_libs so
  	    # that the program can be linked against the static library.
! 	    echo
! 	    echo "*** Warning: This library needs some functionality provided by $lib."
! 	    echo "*** I have the capability to make that library automatically link in when"
! 	    echo "*** you link to this library.  But I can only do this if you have a"
! 	    echo "*** shared version of the library, which you do not appear to have."
  	    if test "$module" = yes; then
! 	      echo "*** Therefore, libtool will create a static module, that should work "
! 	      echo "*** as long as the dlopening application is linked with the -dlopen flag."
  	      if test -z "$global_symbol_pipe"; then
! 		echo
! 		echo "*** However, this would only work if libtool was able to extract symbol"
! 		echo "*** lists from a program, using \`nm' or equivalent, but libtool could"
! 		echo "*** not find such a program.  So, this module is probably useless."
! 		echo "*** \`nm' from GNU binutils and a full rebuild may help."
  	      fi
  	      if test "$build_old_libs" = no; then
  		build_libtool_libs=module
***************
*** 2490,2499 ****
  	  fi
  	fi # link shared/static library?
  
! 	if test "$linkmode" = lib; then
  	  if test -n "$dependency_libs" &&
! 	     { test "$hardcode_into_libs" != yes || test "$build_old_libs" = yes ||
! 	       test "$link_static" = yes; }; then
  	    # Extract -R from dependency_libs
  	    temp_deplibs=
  	    for libdir in $dependency_libs; do
--- 2071,2080 ----
  	  fi
  	fi # link shared/static library?
  
! 	if test $linkmode = lib; then
  	  if test -n "$dependency_libs" &&
! 	     { test $hardcode_into_libs != yes || test $build_old_libs = yes ||
! 	       test $link_static = yes; }; then
  	    # Extract -R from dependency_libs
  	    temp_deplibs=
  	    for libdir in $dependency_libs; do
***************
*** 2516,2530 ****
  	  tmp_libs=
  	  for deplib in $dependency_libs; do
  	    newdependency_libs="$deplib $newdependency_libs"
! 	    if test "X$duplicate_deps" = "Xyes" ; then
! 	      case "$tmp_libs " in
! 	      *" $deplib "*) specialdeplibs="$specialdeplibs $deplib" ;;
! 	      esac
! 	    fi
  	    tmp_libs="$tmp_libs $deplib"
  	  done
  
! 	  if test "$link_all_deplibs" != no; then
  	    # Add the search paths of all dependency libraries
  	    for deplib in $dependency_libs; do
  	      case $deplib in
--- 2097,2109 ----
  	  tmp_libs=
  	  for deplib in $dependency_libs; do
  	    newdependency_libs="$deplib $newdependency_libs"
! 	    case "$tmp_libs " in
! 	    *" $deplib "*) specialdeplibs="$specialdeplibs $deplib" ;;
! 	    esac
  	    tmp_libs="$tmp_libs $deplib"
  	  done
  
! 	  if test $link_all_deplibs != no; then
  	    # Add the search paths of all dependency libraries
  	    for deplib in $dependency_libs; do
  	      case $deplib in
***************
*** 2544,2552 ****
  		  ;;
  		esac
  		if grep "^installed=no" $deplib > /dev/null; then
! 		  path="$absdir/$objdir"
  		else
! 		  eval libdir=`${SED} -n -e 's/^libdir=\(.*\)$/\1/p' $deplib`
  		  if test -z "$libdir"; then
  		    $echo "$modename: \`$deplib' is not a valid libtool archive" 1>&2
  		    exit 1
--- 2123,2131 ----
  		  ;;
  		esac
  		if grep "^installed=no" $deplib > /dev/null; then
! 		  path="-L$absdir/$objdir"
  		else
! 		  eval libdir=`sed -n -e 's/^libdir=\(.*\)$/\1/p' $deplib`
  		  if test -z "$libdir"; then
  		    $echo "$modename: \`$deplib' is not a valid libtool archive" 1>&2
  		    exit 1
***************
*** 2554,2606 ****
  		  if test "$absdir" != "$libdir"; then
  		    $echo "$modename: warning: \`$deplib' seems to be moved" 1>&2
  		  fi
! 		  path="$absdir"
  		fi
- 		depdepl=
- 		case $host in
- 		*-*-darwin*)
- 		  # we do not want to link against static libs, but need to link against shared
- 		  eval deplibrary_names=`${SED} -n -e 's/^library_names=\(.*\)$/\1/p' $deplib`
- 		  if test -n "$deplibrary_names" ; then
- 		    for tmp in $deplibrary_names ; do
- 		      depdepl=$tmp
- 		    done
- 		    if test -f "$path/$depdepl" ; then
- 		      depdepl="$path/$depdepl"
- 		   fi
- 		    newlib_search_path="$newlib_search_path $path"
- 		    path=""
- 		  fi
- 		  ;;
- 		*)
- 		path="-L$path"
- 		;;
- 		esac 
- 		
- 		;;
- 		  -l*)
- 		case $host in
- 		*-*-darwin*)
- 		 # Again, we only want to link against shared libraries
- 		 eval tmp_libs=`$echo "X$deplib" | $Xsed -e "s,^\-l,,"`
- 		 for tmp in $newlib_search_path ; do
- 		     if test -f "$tmp/lib$tmp_libs.dylib" ; then
- 		       eval depdepl="$tmp/lib$tmp_libs.dylib"
- 		       break
- 		     fi  
-          done
-          path=""
- 		  ;;
- 		*) continue ;;
- 		esac  		  
  		;;
  	      *) continue ;;
  	      esac
  	      case " $deplibs " in
- 	      *" $depdepl "*) ;;
- 	      *) deplibs="$deplibs $depdepl" ;;
- 	      esac	      
- 	      case " $deplibs " in
  	      *" $path "*) ;;
  	      *) deplibs="$deplibs $path" ;;
  	      esac
--- 2133,2144 ----
  		  if test "$absdir" != "$libdir"; then
  		    $echo "$modename: warning: \`$deplib' seems to be moved" 1>&2
  		  fi
! 		  path="-L$absdir"
  		fi
  		;;
  	      *) continue ;;
  	      esac
  	      case " $deplibs " in
  	      *" $path "*) ;;
  	      *) deplibs="$deplibs $path" ;;
  	      esac
***************
*** 2608,2622 ****
  	  fi # link_all_deplibs != no
  	fi # linkmode = lib
        done # for deplib in $libs
!       dependency_libs="$newdependency_libs"
!       if test "$pass" = dlpreopen; then
  	# Link the dlpreopened libraries before other libraries
  	for deplib in $save_deplibs; do
  	  deplibs="$deplib $deplibs"
  	done
        fi
!       if test "$pass" != dlopen; then
! 	if test "$pass" != conv; then
  	  # Make sure lib_search_path contains only unique directories.
  	  lib_search_path=
  	  for dir in $newlib_search_path; do
--- 2146,2160 ----
  	  fi # link_all_deplibs != no
  	fi # linkmode = lib
        done # for deplib in $libs
!       if test $pass = dlpreopen; then
  	# Link the dlpreopened libraries before other libraries
  	for deplib in $save_deplibs; do
  	  deplibs="$deplib $deplibs"
  	done
        fi
!       if test $pass != dlopen; then
! 	test $pass != scan && dependency_libs="$newdependency_libs"
! 	if test $pass != conv; then
  	  # Make sure lib_search_path contains only unique directories.
  	  lib_search_path=
  	  for dir in $newlib_search_path; do
***************
*** 2638,2667 ****
  	  eval tmp_libs=\"\$$var\"
  	  new_libs=
  	  for deplib in $tmp_libs; do
- 	    # FIXME: Pedantically, this is the right thing to do, so
- 	    #        that some nasty dependency loop isn't accidentally
- 	    #        broken:
- 	    #new_libs="$deplib $new_libs"
- 	    # Pragmatically, this seems to cause very few problems in
- 	    # practice:
  	    case $deplib in
  	    -L*) new_libs="$deplib $new_libs" ;;
- 	    -R*) ;;
  	    *)
- 	      # And here is the reason: when a library appears more
- 	      # than once as an explicit dependence of a library, or
- 	      # is implicitly linked in more than once by the
- 	      # compiler, it is considered special, and multiple
- 	      # occurrences thereof are not removed.  Compare this
- 	      # with having the same library being listed as a
- 	      # dependency of multiple other libraries: in this case,
- 	      # we know (pedantically, we assume) the library does not
- 	      # need to be listed more than once, so we keep only the
- 	      # last copy.  This is not always right, but it is rare
- 	      # enough that we require users that really mean to play
- 	      # such unportable linking tricks to link the library
- 	      # using -Wl,-lname, so that libtool does not consider it
- 	      # for duplicate removal.
  	      case " $specialdeplibs " in
  	      *" $deplib "*) new_libs="$deplib $new_libs" ;;
  	      *)
--- 2176,2184 ----
***************
*** 2689,2719 ****
  	  eval $var=\"$tmp_libs\"
  	done # for var
        fi
!       # Last step: remove runtime libs from dependency_libs (they stay in deplibs)
!       tmp_libs=
!       for i in $dependency_libs ; do
! 	case " $predeps $postdeps $compiler_lib_search_path " in
! 	*" $i "*)
! 	  i=""
! 	  ;;
! 	esac
! 	if test -n "$i" ; then
! 	  tmp_libs="$tmp_libs $i"
! 	fi
!       done
!       dependency_libs=$tmp_libs
      done # for pass
!     if test "$linkmode" = prog; then
        dlfiles="$newdlfiles"
        dlprefiles="$newdlprefiles"
      fi
  
      case $linkmode in
      oldlib)
-       if test -n "$deplibs"; then
- 	$echo "$modename: warning: \`-l' and \`-L' are ignored for archives" 1>&2
-       fi
- 
        if test -n "$dlfiles$dlprefiles" || test "$dlself" != no; then
  	$echo "$modename: warning: \`-dlopen' is ignored for archives" 1>&2
        fi
--- 2206,2224 ----
  	  eval $var=\"$tmp_libs\"
  	done # for var
        fi
!       if test "$pass" = "conv" &&
!        { test "$linkmode" = "lib" || test "$linkmode" = "prog"; }; then
! 	libs="$deplibs" # reset libs
! 	deplibs=
!       fi
      done # for pass
!     if test $linkmode = prog; then
        dlfiles="$newdlfiles"
        dlprefiles="$newdlprefiles"
      fi
  
      case $linkmode in
      oldlib)
        if test -n "$dlfiles$dlprefiles" || test "$dlself" != no; then
  	$echo "$modename: warning: \`-dlopen' is ignored for archives" 1>&2
        fi
***************
*** 2727,2733 ****
        fi
  
        if test -n "$vinfo"; then
! 	$echo "$modename: warning: \`-version-info/-version-number' is ignored for archives" 1>&2
        fi
  
        if test -n "$release"; then
--- 2232,2238 ----
        fi
  
        if test -n "$vinfo"; then
! 	$echo "$modename: warning: \`-version-info' is ignored for archives" 1>&2
        fi
  
        if test -n "$release"; then
***************
*** 2749,2755 ****
        case $outputname in
        lib*)
  	name=`$echo "X$outputname" | $Xsed -e 's/\.la$//' -e 's/^lib//'`
- 	eval shared_ext=\"$shrext\"
  	eval libname=\"$libname_spec\"
  	;;
        *)
--- 2254,2259 ----
***************
*** 2761,2767 ****
  	if test "$need_lib_prefix" != no; then
  	  # Add the "lib" prefix for modules if required
  	  name=`$echo "X$outputname" | $Xsed -e 's/\.la$//'`
- 	  eval shared_ext=\"$shrext\"
  	  eval libname=\"$libname_spec\"
  	else
  	  libname=`$echo "X$outputname" | $Xsed -e 's/\.la$//'`
--- 2265,2270 ----
***************
*** 2774,2782 ****
  	  $echo "$modename: cannot build libtool library \`$output' from non-libtool objects on this host:$objs" 2>&1
  	  exit 1
  	else
! 	  $echo
! 	  $echo "*** Warning: Linking the shared library $output against the non-libtool"
! 	  $echo "*** objects $objs is not portable!"
  	  libobjs="$libobjs $objs"
  	fi
        fi
--- 2277,2285 ----
  	  $echo "$modename: cannot build libtool library \`$output' from non-libtool objects on this host:$objs" 2>&1
  	  exit 1
  	else
! 	  echo
! 	  echo "*** Warning: Linking the shared library $output against the non-libtool"
! 	  echo "*** objects $objs is not portable!"
  	  libobjs="$libobjs $objs"
  	fi
        fi
***************
*** 2786,2792 ****
        fi
  
        set dummy $rpath
!       if test "$#" -gt 2; then
  	$echo "$modename: warning: ignoring multiple \`-rpath's for a libtool library" 1>&2
        fi
        install_libdir="$2"
--- 2289,2295 ----
        fi
  
        set dummy $rpath
!       if test $# -gt 2; then
  	$echo "$modename: warning: ignoring multiple \`-rpath's for a libtool library" 1>&2
        fi
        install_libdir="$2"
***************
*** 2795,2810 ****
        if test -z "$rpath"; then
  	if test "$build_libtool_libs" = yes; then
  	  # Building a libtool convenience library.
! 	  # Some compilers have problems with a `.al' extension so
! 	  # convenience libraries should have the same extension an
! 	  # archive normally would.
  	  oldlibs="$output_objdir/$libname.$libext $oldlibs"
  	  build_libtool_libs=convenience
  	  build_old_libs=yes
  	fi
  
  	if test -n "$vinfo"; then
! 	  $echo "$modename: warning: \`-version-info/-version-number' is ignored for convenience libraries" 1>&2
  	fi
  
  	if test -n "$release"; then
--- 2298,2311 ----
        if test -z "$rpath"; then
  	if test "$build_libtool_libs" = yes; then
  	  # Building a libtool convenience library.
! 	  libext=al
  	  oldlibs="$output_objdir/$libname.$libext $oldlibs"
  	  build_libtool_libs=convenience
  	  build_old_libs=yes
  	fi
  
  	if test -n "$vinfo"; then
! 	  $echo "$modename: warning: \`-version-info' is ignored for convenience libraries" 1>&2
  	fi
  
  	if test -n "$release"; then
***************
*** 2823,2872 ****
  	  exit 1
  	fi
  
! 	# convert absolute version numbers to libtool ages
! 	# this retains compatibility with .la files and attempts
! 	# to make the code below a bit more comprehensible
! 	
! 	case $vinfo_number in
! 	yes)
! 	  number_major="$2"
! 	  number_minor="$3"
! 	  number_revision="$4"
! 	  #
! 	  # There are really only two kinds -- those that
! 	  # use the current revision as the major version
! 	  # and those that subtract age and use age as
! 	  # a minor version.  But, then there is irix
! 	  # which has an extra 1 added just for fun
! 	  #
! 	  case $version_type in
! 	  darwin|linux|osf|windows)
! 	    current=`expr $number_major + $number_minor`
! 	    age="$number_minor"
! 	    revision="$number_revision"
! 	    ;;
! 	  freebsd-aout|freebsd-elf|sunos)
! 	    current="$number_major"
! 	    revision="$number_minor"
! 	    age="0"
! 	    ;;
! 	  irix|nonstopux)
! 	    current=`expr $number_major + $number_minor - 1`
! 	    age="$number_minor"
! 	    revision="$number_minor"
! 	    ;;
! 	  esac
! 	  ;;
! 	no)
! 	  current="$2"
! 	  revision="$3"
! 	  age="$4"
! 	  ;;
! 	esac
  
  	# Check that each of the things are valid numbers.
  	case $current in
! 	0 | [1-9] | [1-9][0-9] | [1-9][0-9][0-9]) ;;
  	*)
  	  $echo "$modename: CURRENT \`$current' is not a nonnegative integer" 1>&2
  	  $echo "$modename: \`$vinfo' is not valid version information" 1>&2
--- 2324,2336 ----
  	  exit 1
  	fi
  
! 	current="$2"
! 	revision="$3"
! 	age="$4"
  
  	# Check that each of the things are valid numbers.
  	case $current in
! 	0 | [1-9] | [1-9][0-9] | [1-9][0-9][0-9] | [1-9][0-9][0-9][0-9]) ;;
  	*)
  	  $echo "$modename: CURRENT \`$current' is not a nonnegative integer" 1>&2
  	  $echo "$modename: \`$vinfo' is not valid version information" 1>&2
***************
*** 2875,2881 ****
  	esac
  
  	case $revision in
! 	0 | [1-9] | [1-9][0-9] | [1-9][0-9][0-9]) ;;
  	*)
  	  $echo "$modename: REVISION \`$revision' is not a nonnegative integer" 1>&2
  	  $echo "$modename: \`$vinfo' is not valid version information" 1>&2
--- 2339,2345 ----
  	esac
  
  	case $revision in
! 	0 | [1-9] | [1-9][0-9] | [1-9][0-9][0-9] | [1-9][0-9][0-9][0-9]) ;;
  	*)
  	  $echo "$modename: REVISION \`$revision' is not a nonnegative integer" 1>&2
  	  $echo "$modename: \`$vinfo' is not valid version information" 1>&2
***************
*** 2884,2890 ****
  	esac
  
  	case $age in
! 	0 | [1-9] | [1-9][0-9] | [1-9][0-9][0-9]) ;;
  	*)
  	  $echo "$modename: AGE \`$age' is not a nonnegative integer" 1>&2
  	  $echo "$modename: \`$vinfo' is not valid version information" 1>&2
--- 2348,2354 ----
  	esac
  
  	case $age in
! 	0 | [1-9] | [1-9][0-9] | [1-9][0-9][0-9] | [1-9][0-9][0-9][0-9]) ;;
  	*)
  	  $echo "$modename: AGE \`$age' is not a nonnegative integer" 1>&2
  	  $echo "$modename: \`$vinfo' is not valid version information" 1>&2
***************
*** 2892,2898 ****
  	  ;;
  	esac
  
! 	if test "$age" -gt "$current"; then
  	  $echo "$modename: AGE \`$age' is greater than the current interface number \`$current'" 1>&2
  	  $echo "$modename: \`$vinfo' is not valid version information" 1>&2
  	  exit 1
--- 2356,2362 ----
  	  ;;
  	esac
  
! 	if test $age -gt $current; then
  	  $echo "$modename: AGE \`$age' is greater than the current interface number \`$current'" 1>&2
  	  $echo "$modename: \`$vinfo' is not valid version information" 1>&2
  	  exit 1
***************
*** 2925,2945 ****
  	  versuffix=".$current";
  	  ;;
  
! 	irix | nonstopux)
  	  major=`expr $current - $age + 1`
! 
! 	  case $version_type in
! 	    nonstopux) verstring_prefix=nonstopux ;;
! 	    *)         verstring_prefix=sgi ;;
! 	  esac
! 	  verstring="$verstring_prefix$major.$revision"
  
  	  # Add in all the interfaces that we are compatible with.
  	  loop=$revision
! 	  while test "$loop" -ne 0; do
  	    iface=`expr $revision - $loop`
  	    loop=`expr $loop - 1`
! 	    verstring="$verstring_prefix$major.$iface:$verstring"
  	  done
  
  	  # Before this point, $major must not contain `.'.
--- 2389,2404 ----
  	  versuffix=".$current";
  	  ;;
  
! 	irix)
  	  major=`expr $current - $age + 1`
! 	  verstring="sgi$major.$revision"
  
  	  # Add in all the interfaces that we are compatible with.
  	  loop=$revision
! 	  while test $loop != 0; do
  	    iface=`expr $revision - $loop`
  	    loop=`expr $loop - 1`
! 	    verstring="sgi$major.$iface:$verstring"
  	  done
  
  	  # Before this point, $major must not contain `.'.
***************
*** 2953,2965 ****
  	  ;;
  
  	osf)
! 	  major=.`expr $current - $age`
  	  versuffix=".$current.$age.$revision"
  	  verstring="$current.$age.$revision"
  
  	  # Add in all the interfaces that we are compatible with.
  	  loop=$age
! 	  while test "$loop" -ne 0; do
  	    iface=`expr $current - $loop`
  	    loop=`expr $loop - 1`
  	    verstring="$verstring:${iface}.0"
--- 2412,2424 ----
  	  ;;
  
  	osf)
! 	  major=`expr $current - $age`
  	  versuffix=".$current.$age.$revision"
  	  verstring="$current.$age.$revision"
  
  	  # Add in all the interfaces that we are compatible with.
  	  loop=$age
! 	  while test $loop != 0; do
  	    iface=`expr $current - $loop`
  	    loop=`expr $loop - 1`
  	    verstring="$verstring:${iface}.0"
***************
*** 2983,2989 ****
  
  	*)
  	  $echo "$modename: unknown library version type \`$version_type'" 1>&2
! 	  $echo "Fatal configuration error.  See the $PACKAGE docs for more information." 1>&2
  	  exit 1
  	  ;;
  	esac
--- 2442,2448 ----
  
  	*)
  	  $echo "$modename: unknown library version type \`$version_type'" 1>&2
! 	  echo "Fatal configuration error.  See the $PACKAGE docs for more information." 1>&2
  	  exit 1
  	  ;;
  	esac
***************
*** 2991,3001 ****
  	# Clear the version info if we defaulted, and they specified a release.
  	if test -z "$vinfo" && test -n "$release"; then
  	  major=
  	  case $version_type in
  	  darwin)
  	    # we can't check for "0.0" in archive_cmds due to quoting
  	    # problems, so we reset it completely
! 	    verstring=
  	    ;;
  	  *)
  	    verstring="0.0"
--- 2450,2461 ----
  	# Clear the version info if we defaulted, and they specified a release.
  	if test -z "$vinfo" && test -n "$release"; then
  	  major=
+ 	  verstring="0.0"
  	  case $version_type in
  	  darwin)
  	    # we can't check for "0.0" in archive_cmds due to quoting
  	    # problems, so we reset it completely
! 	    verstring=""
  	    ;;
  	  *)
  	    verstring="0.0"
***************
*** 3029,3051 ****
        fi
  
        if test "$mode" != relink; then
! 	# Remove our outputs, but don't remove object files since they
! 	# may have been created when compiling PIC objects.
! 	removelist=
! 	tempremovelist=`$echo "$output_objdir/*"`
! 	for p in $tempremovelist; do
! 	  case $p in
! 	    *.$objext)
! 	       ;;
! 	    $output_objdir/$outputname | $output_objdir/$libname.* | $output_objdir/${libname}${release}.*)
! 	       removelist="$removelist $p"
! 	       ;;
! 	    *) ;;
! 	  esac
! 	done
! 	if test -n "$removelist"; then
! 	  $show "${rm}r $removelist"
! 	  $run ${rm}r $removelist
  	fi
        fi
  
--- 2489,2503 ----
        fi
  
        if test "$mode" != relink; then
! 	# Remove our outputs.
! 	if test "$compil32_64" = yes; then
! 	  $show "${rm}r $output_objdir/32/$outputname $output_objdir/32/$libname.* $output_objdir/32/${libname}${release}.*"
! 	  $run ${rm}r $output_objdir/32/$outputname $output_objdir/32/$libname.* $output_objdir/32/${libname}${release}.*
! 	  $show "${rm}r $output_objdir/64/$outputname $output_objdir/64/$libname.* $output_objdir/64/${libname}${release}.*"
! 	  $run ${rm}r $output_objdir/64/$outputname $output_objdir/64/$libname.* $output_objdir/64/${libname}${release}.*
! 	else
! 	  $show "${rm}r $output_objdir/$outputname $output_objdir/$libname.* $output_objdir/${libname}${release}.*"
! 	  $run ${rm}r $output_objdir/$outputname $output_objdir/$libname.* $output_objdir/${libname}${release}.*
  	fi
        fi
  
***************
*** 3059,3067 ****
  
        # Eliminate all temporary directories.
        for path in $notinst_path; do
! 	lib_search_path=`$echo "$lib_search_path " | ${SED} -e 's% $path % %g'`
! 	deplibs=`$echo "$deplibs " | ${SED} -e 's% -L$path % %g'`
! 	dependency_libs=`$echo "$dependency_libs " | ${SED} -e 's% -L$path % %g'`
        done
  
        if test -n "$xrpath"; then
--- 2511,2519 ----
  
        # Eliminate all temporary directories.
        for path in $notinst_path; do
! 	lib_search_path=`echo "$lib_search_path " | sed -e 's% $path % %g'`
! 	deplibs=`echo "$deplibs " | sed -e 's% -L$path % %g'`
! 	dependency_libs=`echo "$dependency_libs " | sed -e 's% -L$path % %g'`
        done
  
        if test -n "$xrpath"; then
***************
*** 3074,3080 ****
  	  *) finalize_rpath="$finalize_rpath $libdir" ;;
  	  esac
  	done
! 	if test "$hardcode_into_libs" != yes || test "$build_old_libs" = yes; then
  	  dependency_libs="$temp_xrpath $dependency_libs"
  	fi
        fi
--- 2526,2532 ----
  	  *) finalize_rpath="$finalize_rpath $libdir" ;;
  	  esac
  	done
! 	if test $hardcode_into_libs != yes || test $build_old_libs = yes; then
  	  dependency_libs="$temp_xrpath $dependency_libs"
  	fi
        fi
***************
*** 3112,3124 ****
  	  *-*-netbsd*)
  	    # Don't link with libc until the a.out ld.so is fixed.
  	    ;;
! 	  *-*-openbsd* | *-*-freebsd*)
  	    # Do not include libc due to us having libc/libc_r.
- 	    test "X$arg" = "X-lc" && continue
  	    ;;
!  	  *)
  	    # Add libc to deplibs on all other systems if necessary.
! 	    if test "$build_libtool_need_lc" = "yes"; then
  	      deplibs="$deplibs -lc"
  	    fi
  	    ;;
--- 2564,2575 ----
  	  *-*-netbsd*)
  	    # Don't link with libc until the a.out ld.so is fixed.
  	    ;;
! 	  *-*-openbsd*)
  	    # Do not include libc due to us having libc/libc_r.
  	    ;;
! 	  *)
  	    # Add libc to deplibs on all other systems if necessary.
! 	    if test $build_libtool_need_lc = "yes"; then
  	      deplibs="$deplibs -lc"
  	    fi
  	    ;;
***************
*** 3145,3151 ****
  	  # This might be a little naive.  We might want to check
  	  # whether the library exists or not.  But this is on
  	  # osf3 & osf4 and I'm not really sure... Just
! 	  # implementing what was already the behavior.
  	  newdeplibs=$deplibs
  	  ;;
  	test_compile)
--- 2596,2602 ----
  	  # This might be a little naive.  We might want to check
  	  # whether the library exists or not.  But this is on
  	  # osf3 & osf4 and I'm not really sure... Just
! 	  # implementing what was already the behaviour.
  	  newdeplibs=$deplibs
  	  ;;
  	test_compile)
***************
*** 3153,3245 ****
  	  # limits. Maybe even breaks it.  We compile a program, linking it
  	  # against the deplibs as a proxy for the library.  Then we can check
  	  # whether they linked in statically or dynamically with ldd.
! 	  $rm conftest.c
! 	  cat > conftest.c <<EOF
! 	  int main() { return 0; }
! EOF
! 	  $rm conftest
! 	  $LTCC -o conftest conftest.c $deplibs
! 	  if test "$?" -eq 0 ; then
! 	    ldd_output=`ldd conftest`
! 	    for i in $deplibs; do
! 	      name="`expr $i : '-l\(.*\)'`"
! 	      # If $name is empty we are operating on a -L argument.
!               if test "$name" != "" && test "$name" -ne "0"; then
! 		if test "X$allow_libtool_libs_with_static_runtimes" = "Xyes" ; then
! 		  case " $predeps $postdeps " in
! 		  *" $i "*)
! 		    newdeplibs="$newdeplibs $i"
! 		    i=""
! 		    ;;
! 		  esac
! 	        fi
! 		if test -n "$i" ; then
! 		  libname=`eval \\$echo \"$libname_spec\"`
! 		  deplib_matches=`eval \\$echo \"$library_names_spec\"`
! 		  set dummy $deplib_matches
! 		  deplib_match=$2
! 		  if test `expr "$ldd_output" : ".*$deplib_match"` -ne 0 ; then
! 		    newdeplibs="$newdeplibs $i"
! 		  else
! 		    droppeddeps=yes
! 		    $echo
! 		    $echo "*** Warning: dynamic linker does not accept needed library $i."
! 		    $echo "*** I have the capability to make that library automatically link in when"
! 		    $echo "*** you link to this library.  But I can only do this if you have a"
! 		    $echo "*** shared version of the library, which I believe you do not have"
! 		    $echo "*** because a test_compile did reveal that the linker did not use it for"
! 		    $echo "*** its dynamic dependency list that programs get resolved with at runtime."
! 		  fi
  		fi
  	      else
  		newdeplibs="$newdeplibs $i"
  	      fi
  	    done
  	  else
! 	    # Error occurred in the first compile.  Let's try to salvage
! 	    # the situation: Compile a separate program for each library.
  	    for i in $deplibs; do
  	      name="`expr $i : '-l\(.*\)'`"
! 	      # If $name is empty we are operating on a -L argument.
!               if test "$name" != "" && test "$name" != "0"; then
  		$rm conftest
! 		$LTCC -o conftest conftest.c $i
  		# Did it work?
! 		if test "$?" -eq 0 ; then
  		  ldd_output=`ldd conftest`
! 		  if test "X$allow_libtool_libs_with_static_runtimes" = "Xyes" ; then
! 		    case " $predeps $postdeps " in
! 		    *" $i "*)
! 		      newdeplibs="$newdeplibs $i"
! 		      i=""
! 		      ;;
! 		    esac
! 		  fi
! 		  if test -n "$i" ; then
! 		    libname=`eval \\$echo \"$libname_spec\"`
! 		    deplib_matches=`eval \\$echo \"$library_names_spec\"`
! 		    set dummy $deplib_matches
! 		    deplib_match=$2
! 		    if test `expr "$ldd_output" : ".*$deplib_match"` -ne 0 ; then
! 		      newdeplibs="$newdeplibs $i"
! 		    else
! 		      droppeddeps=yes
! 		      $echo
! 		      $echo "*** Warning: dynamic linker does not accept needed library $i."
! 		      $echo "*** I have the capability to make that library automatically link in when"
! 		      $echo "*** you link to this library.  But I can only do this if you have a"
! 		      $echo "*** shared version of the library, which you do not appear to have"
! 		      $echo "*** because a test_compile did reveal that the linker did not use this one"
! 		      $echo "*** as a dynamic dependency that programs can get resolved with at runtime."
! 		    fi
  		  fi
  		else
  		  droppeddeps=yes
! 		  $echo
! 		  $echo "*** Warning!  Library $i is needed by this library but I was not able to"
! 		  $echo "***  make it link in!  You will probably need to install it or some"
! 		  $echo "*** library that it depends on before this library will be fully"
! 		  $echo "*** functional.  Installing it before continuing would be even better."
  		fi
  	      else
  		newdeplibs="$newdeplibs $i"
--- 2604,2672 ----
  	  # limits. Maybe even breaks it.  We compile a program, linking it
  	  # against the deplibs as a proxy for the library.  Then we can check
  	  # whether they linked in statically or dynamically with ldd.
! 	  $rm conftest.c
! 	  cat > conftest.c <<EOF
! 	  int main() { return 0; }
! EOF
! 	  $rm conftest
! 	  $CC -o conftest conftest.c $deplibs
! 	  if test $? -eq 0 ; then
! 	    ldd_output=`ldd conftest`
! 	    for i in $deplibs; do
! 	      name="`expr $i : '-l\(.*\)'`"
! 	      # If $name is empty we are operating on a -L argument.
! 	      if test -n "$name" && test "$name" != "0"; then
! 		libname=`eval \\$echo \"$libname_spec\"`
! 		deplib_matches=`eval \\$echo \"$library_names_spec\"`
! 		set dummy $deplib_matches
! 		deplib_match=$2
! 		if test `expr "$ldd_output" : ".*$deplib_match"` -ne 0 ; then
! 		  newdeplibs="$newdeplibs $i"
! 		else
! 		  droppeddeps=yes
! 		  echo
! 		  echo "*** Warning: This library needs some functionality provided by $i."
! 		  echo "*** I have the capability to make that library automatically link in when"
! 		  echo "*** you link to this library.  But I can only do this if you have a"
! 		  echo "*** shared version of the library, which you do not appear to have."
  		fi
  	      else
  		newdeplibs="$newdeplibs $i"
  	      fi
  	    done
  	  else
! 	    # Error occured in the first compile.  Let's try to salvage the situation:
! 	    # Compile a seperate program for each library.
  	    for i in $deplibs; do
  	      name="`expr $i : '-l\(.*\)'`"
! 	     # If $name is empty we are operating on a -L argument.
! 	      if test -n "$name" && test "$name" != "0"; then
  		$rm conftest
! 		$CC -o conftest conftest.c $i
  		# Did it work?
! 		if test $? -eq 0 ; then
  		  ldd_output=`ldd conftest`
! 		  libname=`eval \\$echo \"$libname_spec\"`
! 		  deplib_matches=`eval \\$echo \"$library_names_spec\"`
! 		  set dummy $deplib_matches
! 		  deplib_match=$2
! 		  if test `expr "$ldd_output" : ".*$deplib_match"` -ne 0 ; then
! 		    newdeplibs="$newdeplibs $i"
! 		  else
! 		    droppeddeps=yes
! 		    echo
! 		    echo "*** Warning: This library needs some functionality provided by $i."
! 		    echo "*** I have the capability to make that library automatically link in when"
! 		    echo "*** you link to this library.  But I can only do this if you have a"
! 		    echo "*** shared version of the library, which you do not appear to have."
  		  fi
  		else
  		  droppeddeps=yes
! 		  echo
! 		  echo "*** Warning!  Library $i is needed by this library but I was not able to"
! 		  echo "***  make it link in!  You will probably need to install it or some"
! 		  echo "*** library that it depends on before this library will be fully"
! 		  echo "*** functional.  Installing it before continuing would be even better."
  		fi
  	      else
  		newdeplibs="$newdeplibs $i"
***************
*** 3253,3272 ****
  	  for a_deplib in $deplibs; do
  	    name="`expr $a_deplib : '-l\(.*\)'`"
  	    # If $name is empty we are operating on a -L argument.
!             if test "$name" != "" && test  "$name" != "0"; then
! 	      if test "X$allow_libtool_libs_with_static_runtimes" = "Xyes" ; then
! 		case " $predeps $postdeps " in
! 		*" $a_deplib "*)
! 		  newdeplibs="$newdeplibs $a_deplib"
! 		  a_deplib=""
! 		  ;;
! 		esac
! 	      fi
! 	      if test -n "$a_deplib" ; then
! 		libname=`eval \\$echo \"$libname_spec\"`
! 		for i in $lib_search_path $sys_lib_search_path $shlib_search_path; do
! 		  potential_libs=`ls $i/$libname[.-]* 2>/dev/null`
! 		  for potent_lib in $potential_libs; do
  		      # Follow soft links.
  		      if ls -lLd "$potent_lib" 2>/dev/null \
  			 | grep " -> " >/dev/null; then
--- 2680,2690 ----
  	  for a_deplib in $deplibs; do
  	    name="`expr $a_deplib : '-l\(.*\)'`"
  	    # If $name is empty we are operating on a -L argument.
! 	    if test -n "$name" && test "$name" != "0"; then
! 	      libname=`eval \\$echo \"$libname_spec\"`
! 	      for i in $lib_search_path $sys_lib_search_path $shlib_search_path; do
! 		    potential_libs=`ls $i/$libname[.-]* 2>/dev/null`
! 		    for potent_lib in $potential_libs; do
  		      # Follow soft links.
  		      if ls -lLd "$potent_lib" 2>/dev/null \
  			 | grep " -> " >/dev/null; then
***************
*** 3279,3314 ****
  		      # but so what?
  		      potlib="$potent_lib"
  		      while test -h "$potlib" 2>/dev/null; do
! 			potliblink=`ls -ld $potlib | ${SED} 's/.* -> //'`
  			case $potliblink in
  			[\\/]* | [A-Za-z]:[\\/]*) potlib="$potliblink";;
  			*) potlib=`$echo "X$potlib" | $Xsed -e 's,[^/]*$,,'`"$potliblink";;
  			esac
  		      done
  		      if eval $file_magic_cmd \"\$potlib\" 2>/dev/null \
! 			 | ${SED} 10q \
! 			 | $EGREP "$file_magic_regex" > /dev/null; then
  			newdeplibs="$newdeplibs $a_deplib"
  			a_deplib=""
  			break 2
  		      fi
! 		  done
! 		done
! 	      fi
  	      if test -n "$a_deplib" ; then
  		droppeddeps=yes
! 		$echo
! 		$echo "*** Warning: linker path does not have real file for library $a_deplib."
! 		$echo "*** I have the capability to make that library automatically link in when"
! 		$echo "*** you link to this library.  But I can only do this if you have a"
! 		$echo "*** shared version of the library, which you do not appear to have"
! 		$echo "*** because I did check the linker path looking for a file starting"
! 		if test -z "$potlib" ; then
! 		  $echo "*** with $libname but no candidates were found. (...for file magic test)"
! 		else
! 		  $echo "*** with $libname and none of the candidates passed a file format test"
! 		  $echo "*** using a file magic. Last file checked: $potlib"
! 		fi
  	      fi
  	    else
  	      # Add a -L argument.
--- 2697,2724 ----
  		      # but so what?
  		      potlib="$potent_lib"
  		      while test -h "$potlib" 2>/dev/null; do
! 			potliblink=`ls -ld $potlib | sed 's/.* -> //'`
  			case $potliblink in
  			[\\/]* | [A-Za-z]:[\\/]*) potlib="$potliblink";;
  			*) potlib=`$echo "X$potlib" | $Xsed -e 's,[^/]*$,,'`"$potliblink";;
  			esac
  		      done
  		      if eval $file_magic_cmd \"\$potlib\" 2>/dev/null \
! 			 | sed 10q \
! 			 | egrep "$file_magic_regex" > /dev/null; then
  			newdeplibs="$newdeplibs $a_deplib"
  			a_deplib=""
  			break 2
  		      fi
! 		    done
! 	      done
  	      if test -n "$a_deplib" ; then
  		droppeddeps=yes
! 		echo
! 		echo "*** Warning: This library needs some functionality provided by $a_deplib."
! 		echo "*** I have the capability to make that library automatically link in when"
! 		echo "*** you link to this library.  But I can only do this if you have a"
! 		echo "*** shared version of the library, which you do not appear to have."
  	      fi
  	    else
  	      # Add a -L argument.
***************
*** 3323,3366 ****
  	    name="`expr $a_deplib : '-l\(.*\)'`"
  	    # If $name is empty we are operating on a -L argument.
  	    if test -n "$name" && test "$name" != "0"; then
! 	      if test "X$allow_libtool_libs_with_static_runtimes" = "Xyes" ; then
! 		case " $predeps $postdeps " in
! 		*" $a_deplib "*)
! 		  newdeplibs="$newdeplibs $a_deplib"
! 		  a_deplib=""
! 		  ;;
! 		esac
! 	      fi
! 	      if test -n "$a_deplib" ; then
! 		libname=`eval \\$echo \"$libname_spec\"`
! 		for i in $lib_search_path $sys_lib_search_path $shlib_search_path; do
! 		  potential_libs=`ls $i/$libname[.-]* 2>/dev/null`
! 		  for potent_lib in $potential_libs; do
! 		    potlib="$potent_lib" # see symlink-check above in file_magic test
! 		    if eval $echo \"$potent_lib\" 2>/dev/null \
! 		        | ${SED} 10q \
! 		        | $EGREP "$match_pattern_regex" > /dev/null; then
! 		      newdeplibs="$newdeplibs $a_deplib"
! 		      a_deplib=""
! 		      break 2
! 		    fi
! 		  done
  		done
! 	      fi
  	      if test -n "$a_deplib" ; then
  		droppeddeps=yes
! 		$echo
! 		$echo "*** Warning: linker path does not have real file for library $a_deplib."
! 		$echo "*** I have the capability to make that library automatically link in when"
! 		$echo "*** you link to this library.  But I can only do this if you have a"
! 		$echo "*** shared version of the library, which you do not appear to have"
! 		$echo "*** because I did check the linker path looking for a file starting"
! 		if test -z "$potlib" ; then
! 		  $echo "*** with $libname but no candidates were found. (...for regex pattern test)"
! 		else
! 		  $echo "*** with $libname and none of the candidates passed a file format test"
! 		  $echo "*** using a regex pattern. Last file checked: $potlib"
! 		fi
  	      fi
  	    else
  	      # Add a -L argument.
--- 2733,2758 ----
  	    name="`expr $a_deplib : '-l\(.*\)'`"
  	    # If $name is empty we are operating on a -L argument.
  	    if test -n "$name" && test "$name" != "0"; then
! 	      libname=`eval \\$echo \"$libname_spec\"`
! 	      for i in $lib_search_path $sys_lib_search_path $shlib_search_path; do
! 		potential_libs=`ls $i/$libname[.-]* 2>/dev/null`
! 		for potent_lib in $potential_libs; do
! 		  if eval echo \"$potent_lib\" 2>/dev/null \
! 		      | sed 10q \
! 		      | egrep "$match_pattern_regex" > /dev/null; then
! 		    newdeplibs="$newdeplibs $a_deplib"
! 		    a_deplib=""
! 		    break 2
! 		  fi
  		done
! 	      done
  	      if test -n "$a_deplib" ; then
  		droppeddeps=yes
! 		echo
! 		echo "*** Warning: This library needs some functionality provided by $a_deplib."
! 		echo "*** I have the capability to make that library automatically link in when"
! 		echo "*** you link to this library.  But I can only do this if you have a"
! 		echo "*** shared version of the library, which you do not appear to have."
  	      fi
  	    else
  	      # Add a -L argument.
***************
*** 3370,3392 ****
  	  ;;
  	none | unknown | *)
  	  newdeplibs=""
! 	  tmp_deplibs=`$echo "X $deplibs" | $Xsed -e 's/ -lc$//' \
! 	    -e 's/ -[LR][^ ]*//g'`
! 	  if test "X$allow_libtool_libs_with_static_runtimes" = "Xyes" ; then
! 	    for i in $predeps $postdeps ; do
! 	      # can't use Xsed below, because $i might contain '/'
! 	      tmp_deplibs=`$echo "X $tmp_deplibs" | ${SED} -e "1s,^X,," -e "s,$i,,"`
! 	    done
! 	  fi
! 	  if $echo "X $tmp_deplibs" | $Xsed -e 's/[ 	]//g' \
! 	    | grep . >/dev/null; then
! 	    $echo
  	    if test "X$deplibs_check_method" = "Xnone"; then
! 	      $echo "*** Warning: inter-library dependencies are not supported in this platform."
  	    else
! 	      $echo "*** Warning: inter-library dependencies are not known to be supported."
  	    fi
! 	    $echo "*** All declared inter-library dependencies are being dropped."
  	    droppeddeps=yes
  	  fi
  	  ;;
--- 2762,2777 ----
  	  ;;
  	none | unknown | *)
  	  newdeplibs=""
! 	  if $echo "X $deplibs" | $Xsed -e 's/ -lc$//' \
! 	       -e 's/ -[LR][^ ]*//g' -e 's/[ 	]//g' |
! 	     grep . >/dev/null; then
! 	    echo
  	    if test "X$deplibs_check_method" = "Xnone"; then
! 	      echo "*** Warning: inter-library dependencies are not supported in this platform."
  	    else
! 	      echo "*** Warning: inter-library dependencies are not known to be supported."
  	    fi
! 	    echo "*** All declared inter-library dependencies are being dropped."
  	    droppeddeps=yes
  	  fi
  	  ;;
***************
*** 3406,3422 ****
  
  	if test "$droppeddeps" = yes; then
  	  if test "$module" = yes; then
! 	    $echo
! 	    $echo "*** Warning: libtool could not satisfy all declared inter-library"
! 	    $echo "*** dependencies of module $libname.  Therefore, libtool will create"
! 	    $echo "*** a static module, that should work as long as the dlopening"
! 	    $echo "*** application is linked with the -dlopen flag."
  	    if test -z "$global_symbol_pipe"; then
! 	      $echo
! 	      $echo "*** However, this would only work if libtool was able to extract symbol"
! 	      $echo "*** lists from a program, using \`nm' or equivalent, but libtool could"
! 	      $echo "*** not find such a program.  So, this module is probably useless."
! 	      $echo "*** \`nm' from GNU binutils and a full rebuild may help."
  	    fi
  	    if test "$build_old_libs" = no; then
  	      oldlibs="$output_objdir/$libname.$libext"
--- 2791,2807 ----
  
  	if test "$droppeddeps" = yes; then
  	  if test "$module" = yes; then
! 	    echo
! 	    echo "*** Warning: libtool could not satisfy all declared inter-library"
! 	    echo "*** dependencies of module $libname.  Therefore, libtool will create"
! 	    echo "*** a static module, that should work as long as the dlopening"
! 	    echo "*** application is linked with the -dlopen flag."
  	    if test -z "$global_symbol_pipe"; then
! 	      echo
! 	      echo "*** However, this would only work if libtool was able to extract symbol"
! 	      echo "*** lists from a program, using \`nm' or equivalent, but libtool could"
! 	      echo "*** not find such a program.  So, this module is probably useless."
! 	      echo "*** \`nm' from GNU binutils and a full rebuild may help."
  	    fi
  	    if test "$build_old_libs" = no; then
  	      oldlibs="$output_objdir/$libname.$libext"
***************
*** 3426,3441 ****
  	      build_libtool_libs=no
  	    fi
  	  else
! 	    $echo "*** The inter-library dependencies that have been dropped here will be"
! 	    $echo "*** automatically added whenever a program is linked with this library"
! 	    $echo "*** or is declared to -dlopen it."
! 
! 	    if test "$allow_undefined" = no; then
! 	      $echo
! 	      $echo "*** Since this library must not contain undefined symbols,"
! 	      $echo "*** because either the platform does not support them or"
! 	      $echo "*** it was explicitly requested with -no-undefined,"
! 	      $echo "*** libtool will only create a static version of it."
  	      if test "$build_old_libs" = no; then
  		oldlibs="$output_objdir/$libname.$libext"
  		build_libtool_libs=module
--- 2811,2826 ----
  	      build_libtool_libs=no
  	    fi
  	  else
! 	    echo "*** The inter-library dependencies that have been dropped here will be"
! 	    echo "*** automatically added whenever a program is linked with this library"
! 	    echo "*** or is declared to -dlopen it."
! 
! 	    if test $allow_undefined = no; then
! 	      echo
! 	      echo "*** Since this library must not contain undefined symbols,"
! 	      echo "*** because either the platform does not support them or"
! 	      echo "*** it was explicitly requested with -no-undefined,"
! 	      echo "*** libtool will only create a static version of it."
  	      if test "$build_old_libs" = no; then
  		oldlibs="$output_objdir/$libname.$libext"
  		build_libtool_libs=module
***************
*** 3457,3463 ****
  
        # Test again, we may have decided not to build it any more
        if test "$build_libtool_libs" = yes; then
! 	if test "$hardcode_into_libs" = yes; then
  	  # Hardcode the library paths
  	  hardcode_libdirs=
  	  dep_rpath=
--- 2842,2848 ----
  
        # Test again, we may have decided not to build it any more
        if test "$build_libtool_libs" = yes; then
! 	if test $hardcode_into_libs = yes; then
  	  # Hardcode the library paths
  	  hardcode_libdirs=
  	  dep_rpath=
***************
*** 3493,3503 ****
  	  if test -n "$hardcode_libdir_separator" &&
  	     test -n "$hardcode_libdirs"; then
  	    libdir="$hardcode_libdirs"
! 	    if test -n "$hardcode_libdir_flag_spec_ld"; then
! 	      eval dep_rpath=\"$hardcode_libdir_flag_spec_ld\"
! 	    else
! 	      eval dep_rpath=\"$hardcode_libdir_flag_spec\"
! 	    fi
  	  fi
  	  if test -n "$runpath_var" && test -n "$perm_rpath"; then
  	    # We should set the runpath_var.
--- 2878,2884 ----
  	  if test -n "$hardcode_libdir_separator" &&
  	     test -n "$hardcode_libdirs"; then
  	    libdir="$hardcode_libdirs"
! 	    eval dep_rpath=\"$hardcode_libdir_flag_spec\"
  	  fi
  	  if test -n "$runpath_var" && test -n "$perm_rpath"; then
  	    # We should set the runpath_var.
***************
*** 3517,3523 ****
  	fi
  
  	# Get the real and link names of the library.
- 	eval shared_ext=\"$shrext\"
  	eval library_names=\"$library_names_spec\"
  	set dummy $library_names
  	realname="$2"
--- 2898,2903 ----
***************
*** 3528,3536 ****
  	else
  	  soname="$realname"
  	fi
! 	if test -z "$dlname"; then
! 	  dlname=$soname
! 	fi
  
  	lib="$output_objdir/$realname"
  	for link
--- 2908,2914 ----
  	else
  	  soname="$realname"
  	fi
! 	test -z "$dlname" && dlname=$soname
  
  	lib="$output_objdir/$realname"
  	for link
***************
*** 3538,3571 ****
  	  linknames="$linknames $link"
  	done
  
  	# Use standard objects if they are pic
  	test -z "$pic_flag" && libobjs=`$echo "X$libobjs" | $SP2NL | $Xsed -e "$lo2o" | $NL2SP`
  
  	# Prepare the list of exported symbols
  	if test -z "$export_symbols"; then
  	  if test "$always_export_symbols" = yes || test -n "$export_symbols_regex"; then
  	    $show "generating symbol list for \`$libname.la'"
  	    export_symbols="$output_objdir/$libname.exp"
  	    $run $rm $export_symbols
  	    eval cmds=\"$export_symbols_cmds\"
  	    save_ifs="$IFS"; IFS='~'
! 	    for cmd in $cmds; do
! 	      IFS="$save_ifs"
! 	      if len=`expr "X$cmd" : ".*"` &&
! 	       test "$len" -le "$max_cmd_len" || test "$max_cmd_len" -le -1; then
  	        $show "$cmd"
  	        $run eval "$cmd" || exit $?
! 	        skipped_export=false
! 	      else
! 	        # The command line is too long to execute in one step.
! 	        $show "using reloadable object file for export list..."
! 	        skipped_export=:
! 	      fi
! 	    done
  	    IFS="$save_ifs"
  	    if test -n "$export_symbols_regex"; then
! 	      $show "$EGREP -e \"$export_symbols_regex\" \"$export_symbols\" > \"${export_symbols}T\""
! 	      $run eval '$EGREP -e "$export_symbols_regex" "$export_symbols" > "${export_symbols}T"'
  	      $show "$mv \"${export_symbols}T\" \"$export_symbols\""
  	      $run eval '$mv "${export_symbols}T" "$export_symbols"'
  	    fi
--- 2916,2999 ----
  	  linknames="$linknames $link"
  	done
  
+ 	# Ensure that we have .o objects for linkers which dislike .lo
+ 	# (e.g. aix) in case we are running --disable-static
+ 	for obj in $libobjs; do
+ 	  xdir=`$echo "X$obj" | $Xsed -e 's%/[^/]*$%%'`
+ 	  if test "X$xdir" = "X$obj"; then
+ 	    xdir="."
+ 	  else
+ 	    xdir="$xdir"
+ 	  fi
+ 	  baseobj=`$echo "X$obj" | $Xsed -e 's%^.*/%%'`
+ 	  oldobj=`$echo "X$baseobj" | $Xsed -e "$lo2o"`
+ 	  if test ! -f $xdir/$oldobj; then
+ #sandie
+ 	    if test "$compil32_64" = yes; then
+               xdirref=xdir
+ 	      xdir=32
+ 	      $show "(cd $xdir && ${LN_S} -f $baseobj $oldobj)"
+ 	      $run eval '(cd $xdir && ${LN_S} -f $baseobj $oldobj)' || exit $?
+ 	      xdir=64
+ 	      $show "(cd $xdir && ${LN_S} -f $baseobj $oldobj)"
+ 	      $run eval '(cd $xdir && ${LN_S} -f $baseobj $oldobj)' || exit $?
+ 	      xdir=xdirref
+ 	    else
+ #fin sandie
+ 	      $show "(cd $xdir && ${LN_S} $baseobj $oldobj)"
+ 	      $run eval '(cd $xdir && ${LN_S} $baseobj $oldobj)' || exit $?
+ 	    fi #sandie
+ 	  fi
+ 	done
+ 
  	# Use standard objects if they are pic
  	test -z "$pic_flag" && libobjs=`$echo "X$libobjs" | $SP2NL | $Xsed -e "$lo2o" | $NL2SP`
+ 	if test "$compil32_64" = yes; then
+ 	  test -z "$pic_flag" && libobjs32=`$echo "X$libobjs32" | $SP2NL | $Xsed -e "$lo2o" | $NL2SP`
+ 	  test -z "$pic_flag" && libobjs64=`$echo "X$libobjs64" | $SP2NL | $Xsed -e "$lo2o" | $NL2SP`
+ 	fi
  
  	# Prepare the list of exported symbols
  	if test -z "$export_symbols"; then
  	  if test "$always_export_symbols" = yes || test -n "$export_symbols_regex"; then
  	    $show "generating symbol list for \`$libname.la'"
+ 	    if test "$compil32_64" = yes; then
+ 	      export_symbols32="$output_objdir/32/$libname.exp"
+ 	      export_symbols64="$output_objdir/64/$libname.exp"
+ 	      $run $rm $export_symbols32
+ 	      $run $rm $export_symbols64
+ 	      eval cmds32=\"$export_symbols_cmds32\"
+ 	      eval cmds64=\"$export_symbols_cmds64\"
+ 	    fi
  	    export_symbols="$output_objdir/$libname.exp"
  	    $run $rm $export_symbols
  	    eval cmds=\"$export_symbols_cmds\"
  	    save_ifs="$IFS"; IFS='~'
! #sandie
! 	    if test "$compil32_64" = yes; then
! 	      for cmd in $cmds64; do
! 	        IFS="$save_ifs"
  	        $show "$cmd"
  	        $run eval "$cmd" || exit $?
! 	      done
! 	      save_ifs="$IFS"; IFS='~'
! 	      for cmd in $cmds32; do
! 	        IFS="$save_ifs"
! 	        $show "$cmd"
! 	        $run eval "$cmd" || exit $?
! 	      done
! 	    else
! #fin sandie
! 	      for cmd in $cmds; do
! 	        IFS="$save_ifs"
! 	        $show "$cmd"
! 	        $run eval "$cmd" || exit $?
! 	      done
! 	    fi   #fin sandie
  	    IFS="$save_ifs"
  	    if test -n "$export_symbols_regex"; then
! 	      $show "egrep -e \"$export_symbols_regex\" \"$export_symbols\" > \"${export_symbols}T\""
! 	      $run eval 'egrep -e "$export_symbols_regex" "$export_symbols" > "${export_symbols}T"'
  	      $show "$mv \"${export_symbols}T\" \"$export_symbols\""
  	      $run eval '$mv "${export_symbols}T" "$export_symbols"'
  	    fi
***************
*** 3576,3604 ****
  	  $run eval '$echo "X$include_expsyms" | $SP2NL >> "$export_symbols"'
  	fi
  
- 	tmp_deplibs=
- 	for test_deplib in $deplibs; do
- 		case " $convenience " in
- 		*" $test_deplib "*) ;;
- 		*) 
- 			tmp_deplibs="$tmp_deplibs $test_deplib"
- 			;;
- 		esac
- 	done
- 	deplibs="$tmp_deplibs" 
- 
  	if test -n "$convenience"; then
  	  if test -n "$whole_archive_flag_spec"; then
- 	    save_libobjs=$libobjs
  	    eval libobjs=\"\$libobjs $whole_archive_flag_spec\"
  	  else
  	    gentop="$output_objdir/${outputname}x"
  	    $show "${rm}r $gentop"
  	    $run ${rm}r "$gentop"
! 	    $show "$mkdir $gentop"
! 	    $run $mkdir "$gentop"
  	    status=$?
! 	    if test "$status" -ne 0 && test ! -d "$gentop"; then
  	      exit $status
  	    fi
  	    generated="$generated $gentop"
--- 3004,3020 ----
  	  $run eval '$echo "X$include_expsyms" | $SP2NL >> "$export_symbols"'
  	fi
  
  	if test -n "$convenience"; then
  	  if test -n "$whole_archive_flag_spec"; then
  	    eval libobjs=\"\$libobjs $whole_archive_flag_spec\"
  	  else
  	    gentop="$output_objdir/${outputname}x"
  	    $show "${rm}r $gentop"
  	    $run ${rm}r "$gentop"
! 	    $show "mkdir $gentop"
! 	    $run mkdir "$gentop"
  	    status=$?
! 	    if test $status -ne 0 && test ! -d "$gentop"; then
  	      exit $status
  	    fi
  	    generated="$generated $gentop"
***************
*** 3614,3655 ****
  
  	      $show "${rm}r $xdir"
  	      $run ${rm}r "$xdir"
! 	      $show "$mkdir $xdir"
! 	      $run $mkdir "$xdir"
  	      status=$?
! 	      if test "$status" -ne 0 && test ! -d "$xdir"; then
  		exit $status
  	      fi
- 	      # We will extract separately just the conflicting names and we will no
- 	      # longer touch any unique names. It is faster to leave these extract
- 	      # automatically by $AR in one run.
  	      $show "(cd $xdir && $AR x $xabs)"
  	      $run eval "(cd \$xdir && $AR x \$xabs)" || exit $?
- 	      if ($AR t "$xabs" | sort | sort -uc >/dev/null 2>&1); then
- 		:
- 	      else
- 		$echo "$modename: warning: object name conflicts; renaming object files" 1>&2
- 		$echo "$modename: warning: to ensure that they will not overwrite" 1>&2
- 		$AR t "$xabs" | sort | uniq -cd | while read -r count name
- 		do
- 		  i=1
- 		  while test "$i" -le "$count"
- 		  do
- 		   # Put our $i before any first dot (extension)
- 		   # Never overwrite any file
- 		   name_to="$name"
- 		   while test "X$name_to" = "X$name" || test -f "$xdir/$name_to"
- 		   do
- 		     name_to=`$echo "X$name_to" | $Xsed -e "s/\([^.]*\)/\1-$i/"`
- 		   done
- 		   $show "(cd $xdir && $AR xN $i $xabs '$name' && $mv '$name' '$name_to')"
- 		   $run eval "(cd \$xdir && $AR xN $i \$xabs '$name' && $mv '$name' '$name_to')" || exit $?
- 		   i=`expr $i + 1`
- 		  done
- 		done
- 	      fi
  
! 	      libobjs="$libobjs "`find $xdir -name \*.$objext -print -o -name \*.lo -print | $NL2SP`
  	    done
  	  fi
  	fi
--- 3030,3045 ----
  
  	      $show "${rm}r $xdir"
  	      $run ${rm}r "$xdir"
! 	      $show "mkdir $xdir"
! 	      $run mkdir "$xdir"
  	      status=$?
! 	      if test $status -ne 0 && test ! -d "$xdir"; then
  		exit $status
  	      fi
  	      $show "(cd $xdir && $AR x $xabs)"
  	      $run eval "(cd \$xdir && $AR x \$xabs)" || exit $?
  
! 	      libobjs="$libobjs "`find $xdir -name \*.o -print -o -name \*.lo -print | $NL2SP`
  	    done
  	  fi
  	fi
***************
*** 3665,3801 ****
  	fi
  
  	# Do each of the archive commands.
- 	if test "$module" = yes && test -n "$module_cmds" ; then
- 	  if test -n "$export_symbols" && test -n "$module_expsym_cmds"; then
- 	    eval cmds=\"$module_expsym_cmds\"
- 	  else
- 	    eval cmds=\"$module_cmds\"
- 	  fi
- 	else
  	if test -n "$export_symbols" && test -n "$archive_expsym_cmds"; then
  	  eval cmds=\"$archive_expsym_cmds\"
  	else
  	  eval cmds=\"$archive_cmds\"
- 	  fi
  	fi
! 
! 	if test "X$skipped_export" != "X:" && len=`expr "X$cmds" : ".*"` &&
! 	   test "$len" -le "$max_cmd_len" || test "$max_cmd_len" -le -1; then
! 	  :
! 	else
! 	  # The command line is too long to link in one step, link piecewise.
! 	  $echo "creating reloadable object files..."
! 
! 	  # Save the value of $output and $libobjs because we want to
! 	  # use them later.  If we have whole_archive_flag_spec, we
! 	  # want to use save_libobjs as it was before
! 	  # whole_archive_flag_spec was expanded, because we can't
! 	  # assume the linker understands whole_archive_flag_spec.
! 	  # This may have to be revisited, in case too many
! 	  # convenience libraries get linked in and end up exceeding
! 	  # the spec.
! 	  if test -z "$convenience" || test -z "$whole_archive_flag_spec"; then
! 	    save_libobjs=$libobjs
! 	  fi
! 	  save_output=$output
! 
! 	  # Clear the reloadable object creation command queue and
! 	  # initialize k to one.
! 	  test_cmds=
! 	  concat_cmds=
! 	  objlist=
! 	  delfiles=
! 	  last_robj=
! 	  k=1
! 	  output=$output_objdir/$save_output-${k}.$objext
! 	  # Loop over the list of objects to be linked.
! 	  for obj in $save_libobjs
! 	  do
! 	    eval test_cmds=\"$reload_cmds $objlist $last_robj\"
! 	    if test "X$objlist" = X ||
! 	       { len=`expr "X$test_cmds" : ".*"` &&
! 		 test "$len" -le "$max_cmd_len"; }; then
! 	      objlist="$objlist $obj"
! 	    else
! 	      # The command $test_cmds is almost too long, add a
! 	      # command to the queue.
! 	      if test "$k" -eq 1 ; then
! 		# The first file doesn't have a previous command to add.
! 		eval concat_cmds=\"$reload_cmds $objlist $last_robj\"
! 	      else
! 		# All subsequent reloadable object files will link in
! 		# the last one created.
! 		eval concat_cmds=\"\$concat_cmds~$reload_cmds $objlist $last_robj\"
! 	      fi
! 	      last_robj=$output_objdir/$save_output-${k}.$objext
! 	      k=`expr $k + 1`
! 	      output=$output_objdir/$save_output-${k}.$objext
! 	      objlist=$obj
! 	      len=1
! 	    fi
! 	  done
! 	  # Handle the remaining objects by creating one last
! 	  # reloadable object file.  All subsequent reloadable object
! 	  # files will link in the last one created.
! 	  test -z "$concat_cmds" || concat_cmds=$concat_cmds~
! 	  eval concat_cmds=\"\${concat_cmds}$reload_cmds $objlist $last_robj\"
! 
! 	  if ${skipped_export-false}; then
! 	    $show "generating symbol list for \`$libname.la'"
! 	    export_symbols="$output_objdir/$libname.exp"
! 	    $run $rm $export_symbols
! 	    libobjs=$output
! 	    # Append the command to create the export file.
! 	    eval concat_cmds=\"\$concat_cmds~$export_symbols_cmds\"
            fi
! 
! 	  # Set up a command to remove the reloadale object files
! 	  # after they are used.
! 	  i=0
! 	  while test "$i" -lt "$k"
! 	  do
! 	    i=`expr $i + 1`
! 	    delfiles="$delfiles $output_objdir/$save_output-${i}.$objext"
! 	  done
! 
! 	  $echo "creating a temporary reloadable object file: $output"
! 
! 	  # Loop through the commands generated above and execute them.
  	  save_ifs="$IFS"; IFS='~'
! 	  for cmd in $concat_cmds; do
  	    IFS="$save_ifs"
  	    $show "$cmd"
  	    $run eval "$cmd" || exit $?
  	  done
- 	  IFS="$save_ifs"
- 
- 	  libobjs=$output
- 	  # Restore the value of output.
- 	  output=$save_output
- 
- 	  if test -n "$convenience" && test -n "$whole_archive_flag_spec"; then
- 	    eval libobjs=\"\$libobjs $whole_archive_flag_spec\"
- 	  fi
- 	  # Expand the library linking commands again to reset the
- 	  # value of $libobjs for piecewise linking.
- 
- 	  # Do each of the archive commands.
- 	  if test -n "$export_symbols" && test -n "$archive_expsym_cmds"; then
- 	    eval cmds=\"$archive_expsym_cmds\"
- 	  else
- 	    eval cmds=\"$archive_cmds\"
- 	  fi
- 
- 	  # Append the command to remove the reloadable object files
- 	  # to the just-reset $cmds.
- 	  eval cmds=\"\$cmds~$rm $delfiles\"
  	fi
- 	save_ifs="$IFS"; IFS='~'
- 	for cmd in $cmds; do
- 	  IFS="$save_ifs"
- 	  $show "$cmd"
- 	  $run eval "$cmd" || exit $?
- 	done
  	IFS="$save_ifs"
  
  	# Restore the uninstalled library and exit
--- 3055,3100 ----
  	fi
  
  	# Do each of the archive commands.
  	if test -n "$export_symbols" && test -n "$archive_expsym_cmds"; then
+ 	  if test "$compil32_64" = yes; then
+ 	    eval cmds32=\"$archive_expsym_cmds32\"
+ 	    eval cmds64=\"$archive_expsym_cmds64\"
+ 	    eval cmds3264=\"$archive_expsym_cmds3264\"
+ 	  fi
  	  eval cmds=\"$archive_expsym_cmds\"
  	else
  	  eval cmds=\"$archive_cmds\"
  	fi
! 	save_ifs="$IFS"; IFS='~'
! 	if test "$compil32_64" = yes; then
!           if test -f "$output_objdir/$libname$release.a"; then
! #            $run $rm $libobj
! 	     $run eval "$rm $output_objdir/$libname$release.a"
            fi
! 	  for cmd in $cmds32; do
!             IFS="$save_ifs"
!             $show "$cmd"
!             $run eval "$cmd" || exit $?
!           done
  	  save_ifs="$IFS"; IFS='~'
! 	  for cmd in $cmds64; do
!             IFS="$save_ifs"
!             $show "$cmd"
!             $run eval "$cmd" || exit $?
!           done
! 	  save_ifs="$IFS"; IFS='~'
! 	  for cmd in $cmds3264; do
!             IFS="$save_ifs"
!             $show "$cmd"
!             $run eval "$cmd" || exit $?
!           done
! 	else
!   	  for cmd in $cmds; do
  	    IFS="$save_ifs"
  	    $show "$cmd"
  	    $run eval "$cmd" || exit $?
  	  done
  	fi
  	IFS="$save_ifs"
  
  	# Restore the uninstalled library and exit
***************
*** 3880,3889 ****
  	  gentop="$output_objdir/${obj}x"
  	  $show "${rm}r $gentop"
  	  $run ${rm}r "$gentop"
! 	  $show "$mkdir $gentop"
! 	  $run $mkdir "$gentop"
  	  status=$?
! 	  if test "$status" -ne 0 && test ! -d "$gentop"; then
  	    exit $status
  	  fi
  	  generated="$generated $gentop"
--- 3179,3188 ----
  	  gentop="$output_objdir/${obj}x"
  	  $show "${rm}r $gentop"
  	  $run ${rm}r "$gentop"
! 	  $show "mkdir $gentop"
! 	  $run mkdir "$gentop"
  	  status=$?
! 	  if test $status -ne 0 && test ! -d "$gentop"; then
  	    exit $status
  	  fi
  	  generated="$generated $gentop"
***************
*** 3899,3940 ****
  
  	    $show "${rm}r $xdir"
  	    $run ${rm}r "$xdir"
! 	    $show "$mkdir $xdir"
! 	    $run $mkdir "$xdir"
  	    status=$?
! 	    if test "$status" -ne 0 && test ! -d "$xdir"; then
  	      exit $status
  	    fi
- 	    # We will extract separately just the conflicting names and we will no
- 	    # longer touch any unique names. It is faster to leave these extract
- 	    # automatically by $AR in one run.
  	    $show "(cd $xdir && $AR x $xabs)"
  	    $run eval "(cd \$xdir && $AR x \$xabs)" || exit $?
- 	    if ($AR t "$xabs" | sort | sort -uc >/dev/null 2>&1); then
- 	      :
- 	    else
- 	      $echo "$modename: warning: object name conflicts; renaming object files" 1>&2
- 	      $echo "$modename: warning: to ensure that they will not overwrite" 1>&2
- 	      $AR t "$xabs" | sort | uniq -cd | while read -r count name
- 	      do
- 		i=1
- 		while test "$i" -le "$count"
- 		do
- 		 # Put our $i before any first dot (extension)
- 		 # Never overwrite any file
- 		 name_to="$name"
- 		 while test "X$name_to" = "X$name" || test -f "$xdir/$name_to"
- 		 do
- 		   name_to=`$echo "X$name_to" | $Xsed -e "s/\([^.]*\)/\1-$i/"`
- 		 done
- 		 $show "(cd $xdir && $AR xN $i $xabs '$name' && $mv '$name' '$name_to')"
- 		 $run eval "(cd \$xdir && $AR xN $i \$xabs '$name' && $mv '$name' '$name_to')" || exit $?
- 		 i=`expr $i + 1`
- 		done
- 	      done
- 	    fi
  
! 	    reload_conv_objs="$reload_objs "`find $xdir -name \*.$objext -print -o -name \*.lo -print | $NL2SP`
  	  done
  	fi
        fi
--- 3198,3213 ----
  
  	    $show "${rm}r $xdir"
  	    $run ${rm}r "$xdir"
! 	    $show "mkdir $xdir"
! 	    $run mkdir "$xdir"
  	    status=$?
! 	    if test $status -ne 0 && test ! -d "$xdir"; then
  	      exit $status
  	    fi
  	    $show "(cd $xdir && $AR x $xabs)"
  	    $run eval "(cd \$xdir && $AR x \$xabs)" || exit $?
  
! 	    reload_conv_objs="$reload_objs "`find $xdir -name \*.o -print -o -name \*.lo -print | $NL2SP`
  	  done
  	fi
        fi
***************
*** 3970,3977 ****
  
  	# Create an invalid libtool object if no PIC, so that we don't
  	# accidentally link it into a program.
! 	# $show "echo timestamp > $libobj"
! 	# $run eval "echo timestamp > $libobj" || exit $?
  	exit 0
        fi
  
--- 3243,3250 ----
  
  	# Create an invalid libtool object if no PIC, so that we don't
  	# accidentally link it into a program.
! 	$show "echo timestamp > $libobj"
! 	$run eval "echo timestamp > $libobj" || exit $?
  	exit 0
        fi
  
***************
*** 3987,3992 ****
--- 3260,3279 ----
  	  $run eval "$cmd" || exit $?
  	done
  	IFS="$save_ifs"
+       else
+ 	# Just create a symlink.
+ 	$show $rm $libobj
+ 	$run $rm $libobj
+ 	xdir=`$echo "X$libobj" | $Xsed -e 's%/[^/]*$%%'`
+ 	if test "X$xdir" = "X$libobj"; then
+ 	  xdir="."
+ 	else
+ 	  xdir="$xdir"
+ 	fi
+ 	baseobj=`$echo "X$libobj" | $Xsed -e 's%^.*/%%'`
+ 	oldobj=`$echo "X$baseobj" | $Xsed -e "$lo2o"`
+ 	$show "(cd $xdir && $LN_S $oldobj $baseobj)"
+ 	$run eval '(cd $xdir && $LN_S $oldobj $baseobj)' || exit $?
        fi
  
        if test -n "$gentop"; then
***************
*** 3999,4005 ****
  
      prog)
        case $host in
! 	*cygwin*) output=`$echo $output | ${SED} -e 's,.exe$,,;s,$,.exe,'` ;;
        esac
        if test -n "$vinfo"; then
  	$echo "$modename: warning: \`-version-info' is ignored for programs" 1>&2
--- 3286,3292 ----
  
      prog)
        case $host in
! 	*cygwin*) output=`echo $output | sed -e 's,.exe$,,;s,$,.exe,'` ;;
        esac
        if test -n "$vinfo"; then
  	$echo "$modename: warning: \`-version-info' is ignored for programs" 1>&2
***************
*** 4024,4038 ****
  	;;
        esac
  
!       case $host in
!       *darwin*)
!         # Don't allow lazy linking, it breaks C++ global constructors
!         if test "$tagname" = CXX ; then
!         compile_command="$compile_command ${wl}-bind_at_load"
!         finalize_command="$finalize_command ${wl}-bind_at_load"
!         fi
!         ;;
!       esac
  
        compile_command="$compile_command $compile_deplibs"
        finalize_command="$finalize_command $finalize_deplibs"
--- 3311,3320 ----
  	;;
        esac
  
!       # AIX needs explicit runtime linking option
! 
!       compile_command="$compile_command $use_runtimelinking"
!       finalize_command="$finalize_command $use_runtimelinking"
  
        compile_command="$compile_command $compile_deplibs"
        finalize_command="$finalize_command $finalize_deplibs"
***************
*** 4184,4195 ****
  	    done
  
  	    if test -n "$exclude_expsyms"; then
! 	      $run eval '$EGREP -v " ($exclude_expsyms)$" "$nlist" > "$nlist"T'
  	      $run eval '$mv "$nlist"T "$nlist"'
  	    fi
  
  	    if test -n "$export_symbols_regex"; then
! 	      $run eval '$EGREP -e "$export_symbols_regex" "$nlist" > "$nlist"T'
  	      $run eval '$mv "$nlist"T "$nlist"'
  	    fi
  
--- 3466,3477 ----
  	    done
  
  	    if test -n "$exclude_expsyms"; then
! 	      $run eval 'egrep -v " ($exclude_expsyms)$" "$nlist" > "$nlist"T'
  	      $run eval '$mv "$nlist"T "$nlist"'
  	    fi
  
  	    if test -n "$export_symbols_regex"; then
! 	      $run eval 'egrep -e "$export_symbols_regex" "$nlist" > "$nlist"T'
  	      $run eval '$mv "$nlist"T "$nlist"'
  	    fi
  
***************
*** 4197,4205 ****
  	    if test -z "$export_symbols"; then
  	      export_symbols="$output_objdir/$output.exp"
  	      $run $rm $export_symbols
! 	      $run eval "${SED} -n -e '/^: @PROGRAM@$/d' -e 's/^.* \(.*\)$/\1/p' "'< "$nlist" > "$export_symbols"'
  	    else
! 	      $run eval "${SED} -e 's/\([][.*^$]\)/\\\1/g' -e 's/^/ /' -e 's/$/$/'"' < "$export_symbols" > "$output_objdir/$output.exp"'
  	      $run eval 'grep -f "$output_objdir/$output.exp" < "$nlist" > "$nlist"T'
  	      $run eval 'mv "$nlist"T "$nlist"'
  	    fi
--- 3479,3487 ----
  	    if test -z "$export_symbols"; then
  	      export_symbols="$output_objdir/$output.exp"
  	      $run $rm $export_symbols
! 	      $run eval "sed -n -e '/^: @PROGRAM@$/d' -e 's/^.* \(.*\)$/\1/p' "'< "$nlist" > "$export_symbols"'
  	    else
! 	      $run eval "sed -e 's/\([][.*^$]\)/\\\1/g' -e 's/^/ /' -e 's/$/$/'"' < "$export_symbols" > "$output_objdir/$output.exp"'
  	      $run eval 'grep -f "$output_objdir/$output.exp" < "$nlist" > "$nlist"T'
  	      $run eval 'mv "$nlist"T "$nlist"'
  	    fi
***************
*** 4207,4214 ****
  
  	  for arg in $dlprefiles; do
  	    $show "extracting global C symbols from \`$arg'"
! 	    name=`$echo "$arg" | ${SED} -e 's%^.*/%%'`
! 	    $run eval '$echo ": $name " >> "$nlist"'
  	    $run eval "$NM $arg | $global_symbol_pipe >> '$nlist'"
  	  done
  
--- 3489,3496 ----
  
  	  for arg in $dlprefiles; do
  	    $show "extracting global C symbols from \`$arg'"
! 	    name=`echo "$arg" | sed -e 's%^.*/%%'`
! 	    $run eval 'echo ": $name " >> "$nlist"'
  	    $run eval "$NM $arg | $global_symbol_pipe >> '$nlist'"
  	  done
  
***************
*** 4217,4234 ****
  	    test -f "$nlist" || : > "$nlist"
  
  	    if test -n "$exclude_expsyms"; then
! 	      $EGREP -v " ($exclude_expsyms)$" "$nlist" > "$nlist"T
  	      $mv "$nlist"T "$nlist"
  	    fi
  
  	    # Try sorting and uniquifying the output.
! 	    if grep -v "^: " < "$nlist" |
! 		if sort -k 3 </dev/null >/dev/null 2>&1; then
! 		  sort -k 3
! 		else
! 		  sort +2
! 		fi |
! 		uniq > "$nlist"S; then
  	      :
  	    else
  	      grep -v "^: " < "$nlist" > "$nlist"S
--- 3499,3510 ----
  	    test -f "$nlist" || : > "$nlist"
  
  	    if test -n "$exclude_expsyms"; then
! 	      egrep -v " ($exclude_expsyms)$" "$nlist" > "$nlist"T
  	      $mv "$nlist"T "$nlist"
  	    fi
  
  	    # Try sorting and uniquifying the output.
! 	    if grep -v "^: " < "$nlist" | sort +2 | uniq > "$nlist"S; then
  	      :
  	    else
  	      grep -v "^: " < "$nlist" > "$nlist"S
***************
*** 4237,4243 ****
  	    if test -f "$nlist"S; then
  	      eval "$global_symbol_to_cdecl"' < "$nlist"S >> "$output_objdir/$dlsyms"'
  	    else
! 	      $echo '/* NONE */' >> "$output_objdir/$dlsyms"
  	    fi
  
  	    $echo >> "$output_objdir/$dlsyms" "\
--- 3513,3519 ----
  	    if test -f "$nlist"S; then
  	      eval "$global_symbol_to_cdecl"' < "$nlist"S >> "$output_objdir/$dlsyms"'
  	    else
! 	      echo '/* NONE */' >> "$output_objdir/$dlsyms"
  	    fi
  
  	    $echo >> "$output_objdir/$dlsyms" "\
***************
*** 4289,4306 ****
  	  *-*-freebsd2*|*-*-freebsd3.0*|*-*-freebsdelf3.0*)
  	    case "$compile_command " in
  	    *" -static "*) ;;
! 	    *) pic_flag_for_symtable=" $pic_flag -DFREEBSD_WORKAROUND";;
  	    esac;;
  	  *-*-hpux*)
  	    case "$compile_command " in
  	    *" -static "*) ;;
! 	    *) pic_flag_for_symtable=" $pic_flag";;
  	    esac
  	  esac
  
  	  # Now compile the dynamic symbol file.
! 	  $show "(cd $output_objdir && $LTCC -c$no_builtin_flag$pic_flag_for_symtable \"$dlsyms\")"
! 	  $run eval '(cd $output_objdir && $LTCC -c$no_builtin_flag$pic_flag_for_symtable "$dlsyms")' || exit $?
  
  	  # Clean up the generated files.
  	  $show "$rm $output_objdir/$dlsyms $nlist ${nlist}S ${nlist}T"
--- 3565,3582 ----
  	  *-*-freebsd2*|*-*-freebsd3.0*|*-*-freebsdelf3.0*)
  	    case "$compile_command " in
  	    *" -static "*) ;;
! 	    *) pic_flag_for_symtable=" $pic_flag -DPIC -DFREEBSD_WORKAROUND";;
  	    esac;;
  	  *-*-hpux*)
  	    case "$compile_command " in
  	    *" -static "*) ;;
! 	    *) pic_flag_for_symtable=" $pic_flag -DPIC";;
  	    esac
  	  esac
  
  	  # Now compile the dynamic symbol file.
! 	  $show "(cd $output_objdir && $CC -c$no_builtin_flag$pic_flag_for_symtable \"$dlsyms\")"
! 	  $run eval '(cd $output_objdir && $CC -c$no_builtin_flag$pic_flag_for_symtable "$dlsyms")' || exit $?
  
  	  # Clean up the generated files.
  	  $show "$rm $output_objdir/$dlsyms $nlist ${nlist}S ${nlist}T"
***************
*** 4325,4331 ****
  	finalize_command=`$echo "X$finalize_command" | $Xsed -e "s% @SYMFILE@%%"`
        fi
  
!       if test "$need_relink" = no || test "$build_libtool_libs" != yes; then
  	# Replace the output file specification.
  	compile_command=`$echo "X$compile_command" | $Xsed -e 's%@OUTPUT@%'"$output"'%g'`
  	link_command="$compile_command$compile_rpath"
--- 3601,3607 ----
  	finalize_command=`$echo "X$finalize_command" | $Xsed -e "s% @SYMFILE@%%"`
        fi
  
!       if test $need_relink = no || test "$build_libtool_libs" != yes; then
  	# Replace the output file specification.
  	compile_command=`$echo "X$compile_command" | $Xsed -e 's%@OUTPUT@%'"$output"'%g'`
  	link_command="$compile_command$compile_rpath"
***************
*** 4450,4456 ****
  	    relink_command="$var=\"$var_value\"; export $var; $relink_command"
  	  fi
  	done
! 	relink_command="(cd `pwd`; $relink_command)"
  	relink_command=`$echo "X$relink_command" | $Xsed -e "$sed_quote_subst"`
        fi
  
--- 3726,3732 ----
  	    relink_command="$var=\"$var_value\"; export $var; $relink_command"
  	  fi
  	done
! 	relink_command="cd `pwd`; $relink_command"
  	relink_command=`$echo "X$relink_command" | $Xsed -e "$sed_quote_subst"`
        fi
  
***************
*** 4470,4697 ****
  	# win32 will think the script is a binary if it has
  	# a .exe suffix, so we strip it off here.
  	case $output in
! 	  *.exe) output=`$echo $output|${SED} 's,.exe$,,'` ;;
  	esac
  	# test for cygwin because mv fails w/o .exe extensions
  	case $host in
! 	  *cygwin*)
! 	    exeext=.exe
! 	    outputname=`$echo $outputname|${SED} 's,.exe$,,'` ;;
  	  *) exeext= ;;
  	esac
- 	case $host in
- 	  *cygwin* | *mingw* )
- 	    cwrappersource=`$echo ${objdir}/lt-${output}.c`
- 	    cwrapper=`$echo ${output}.exe`
- 	    $rm $cwrappersource $cwrapper
- 	    trap "$rm $cwrappersource $cwrapper; exit 1" 1 2 15
- 
- 	    cat > $cwrappersource <<EOF
- 
- /* $cwrappersource - temporary wrapper executable for $objdir/$outputname
-    Generated by $PROGRAM - GNU $PACKAGE $VERSION$TIMESTAMP
- 
-    The $output program cannot be directly executed until all the libtool
-    libraries that it depends on are installed.
-    
-    This wrapper executable should never be moved out of the build directory.
-    If it is, it will not operate correctly.
- 
-    Currently, it simply execs the wrapper *script* "/bin/sh $output",
-    but could eventually absorb all of the scripts functionality and
-    exec $objdir/$outputname directly.
- */
- EOF
- 	    cat >> $cwrappersource<<"EOF"
- #include <stdio.h>
- #include <stdlib.h>
- #include <unistd.h>
- #include <malloc.h>
- #include <stdarg.h>
- #include <assert.h>
- 
- #if defined(PATH_MAX)
- # define LT_PATHMAX PATH_MAX
- #elif defined(MAXPATHLEN)
- # define LT_PATHMAX MAXPATHLEN
- #else
- # define LT_PATHMAX 1024
- #endif
- 
- #ifndef DIR_SEPARATOR
- #define DIR_SEPARATOR '/'
- #endif
- 
- #if defined (_WIN32) || defined (__MSDOS__) || defined (__DJGPP__) || \
-   defined (__OS2__)
- #define HAVE_DOS_BASED_FILE_SYSTEM
- #ifndef DIR_SEPARATOR_2 
- #define DIR_SEPARATOR_2 '\\'
- #endif
- #endif
- 
- #ifndef DIR_SEPARATOR_2
- # define IS_DIR_SEPARATOR(ch) ((ch) == DIR_SEPARATOR)
- #else /* DIR_SEPARATOR_2 */
- # define IS_DIR_SEPARATOR(ch) \
-         (((ch) == DIR_SEPARATOR) || ((ch) == DIR_SEPARATOR_2))
- #endif /* DIR_SEPARATOR_2 */
- 
- #define XMALLOC(type, num)      ((type *) xmalloc ((num) * sizeof(type)))
- #define XFREE(stale) do { \
-   if (stale) { free ((void *) stale); stale = 0; } \
- } while (0)
- 
- const char *program_name = NULL;
- 
- void * xmalloc (size_t num);
- char * xstrdup (const char *string);
- char * basename (const char *name);
- char * fnqualify(const char *path);
- char * strendzap(char *str, const char *pat);
- void lt_fatal (const char *message, ...);
- 
- int
- main (int argc, char *argv[])
- {
-   char **newargz;
-   int i;
-   
-   program_name = (char *) xstrdup ((char *) basename (argv[0]));
-   newargz = XMALLOC(char *, argc+2);
- EOF
- 
- 	    cat >> $cwrappersource <<EOF
-   newargz[0] = "$SHELL";
- EOF
- 
- 	    cat >> $cwrappersource <<"EOF"
-   newargz[1] = fnqualify(argv[0]);
-   /* we know the script has the same name, without the .exe */
-   /* so make sure newargz[1] doesn't end in .exe */
-   strendzap(newargz[1],".exe"); 
-   for (i = 1; i < argc; i++)
-     newargz[i+1] = xstrdup(argv[i]);
-   newargz[argc+1] = NULL;
- EOF
- 
- 	    cat >> $cwrappersource <<EOF
-   execv("$SHELL",newargz);
- EOF
- 
- 	    cat >> $cwrappersource <<"EOF"
- }
- 
- void *
- xmalloc (size_t num)
- {
-   void * p = (void *) malloc (num);
-   if (!p)
-     lt_fatal ("Memory exhausted");
- 
-   return p;
- }
- 
- char * 
- xstrdup (const char *string)
- {
-   return string ? strcpy ((char *) xmalloc (strlen (string) + 1), string) : NULL
- ;
- }
- 
- char *
- basename (const char *name)
- {
-   const char *base;
- 
- #if defined (HAVE_DOS_BASED_FILE_SYSTEM)
-   /* Skip over the disk name in MSDOS pathnames. */
-   if (isalpha (name[0]) && name[1] == ':') 
-     name += 2;
- #endif
- 
-   for (base = name; *name; name++)
-     if (IS_DIR_SEPARATOR (*name))
-       base = name + 1;
-   return (char *) base;
- }
- 
- char * 
- fnqualify(const char *path)
- {
-   size_t size;
-   char *p;
-   char tmp[LT_PATHMAX + 1];
- 
-   assert(path != NULL);
- 
-   /* Is it qualified already? */
- #if defined (HAVE_DOS_BASED_FILE_SYSTEM)
-   if (isalpha (path[0]) && path[1] == ':')
-     return xstrdup (path);
- #endif
-   if (IS_DIR_SEPARATOR (path[0]))
-     return xstrdup (path);
- 
-   /* prepend the current directory */
-   /* doesn't handle '~' */
-   if (getcwd (tmp, LT_PATHMAX) == NULL)
-     lt_fatal ("getcwd failed");
-   size = strlen(tmp) + 1 + strlen(path) + 1; /* +2 for '/' and '\0' */
-   p = XMALLOC(char, size);
-   sprintf(p, "%s%c%s", tmp, DIR_SEPARATOR, path);
-   return p;
- }
- 
- char *
- strendzap(char *str, const char *pat) 
- {
-   size_t len, patlen;
- 
-   assert(str != NULL);
-   assert(pat != NULL);
- 
-   len = strlen(str);
-   patlen = strlen(pat);
- 
-   if (patlen <= len)
-   {
-     str += len - patlen;
-     if (strcmp(str, pat) == 0)
-       *str = '\0';
-   }
-   return str;
- }
- 
- static void
- lt_error_core (int exit_status, const char * mode, 
-           const char * message, va_list ap)
- {
-   fprintf (stderr, "%s: %s: ", program_name, mode);
-   vfprintf (stderr, message, ap);
-   fprintf (stderr, ".\n");
- 
-   if (exit_status >= 0)
-     exit (exit_status);
- }
- 
- void
- lt_fatal (const char *message, ...)
- {
-   va_list ap;
-   va_start (ap, message);
-   lt_error_core (EXIT_FAILURE, "FATAL", message, ap);
-   va_end (ap);
- }
- EOF
- 	  # we should really use a build-platform specific compiler
- 	  # here, but OTOH, the wrappers (shell script and this C one)
- 	  # are only useful if you want to execute the "real" binary.
- 	  # Since the "real" binary is built for $host, then this
- 	  # wrapper might as well be built for $host, too.
- 	  $run $LTCC -s -o $cwrapper $cwrappersource
- 	  ;;
- 	esac
  	$rm $output
  	trap "$rm $output; exit 1" 1 2 15
  
--- 3746,3758 ----
  	# win32 will think the script is a binary if it has
  	# a .exe suffix, so we strip it off here.
  	case $output in
! 	  *.exe) output=`echo $output|sed 's,.exe$,,'` ;;
  	esac
  	# test for cygwin because mv fails w/o .exe extensions
  	case $host in
! 	  *cygwin*) exeext=.exe ;;
  	  *) exeext= ;;
  	esac
  	$rm $output
  	trap "$rm $output; exit 1" 1 2 15
  
***************
*** 4709,4715 ****
  
  # Sed substitution that helps us do robust quoting.  It backslashifies
  # metacharacters that are still active within double-quoted strings.
! Xsed='${SED} -e 1s/^X//'
  sed_quote_subst='$sed_quote_subst'
  
  # The HP-UX ksh and POSIX shell print the target directory to stdout
--- 3770,3776 ----
  
  # Sed substitution that helps us do robust quoting.  It backslashifies
  # metacharacters that are still active within double-quoted strings.
! Xsed='sed -e 1s/^X//'
  sed_quote_subst='$sed_quote_subst'
  
  # The HP-UX ksh and POSIX shell print the target directory to stdout
***************
*** 4747,4753 ****
    test \"x\$thisdir\" = \"x\$file\" && thisdir=.
  
    # Follow symbolic links until we get to the real thisdir.
!   file=\`ls -ld \"\$file\" | ${SED} -n 's/.*-> //p'\`
    while test -n \"\$file\"; do
      destdir=\`\$echo \"X\$file\" | \$Xsed -e 's%/[^/]*\$%%'\`
  
--- 3808,3814 ----
    test \"x\$thisdir\" = \"x\$file\" && thisdir=.
  
    # Follow symbolic links until we get to the real thisdir.
!   file=\`ls -ld \"\$file\" | sed -n 's/.*-> //p'\`
    while test -n \"\$file\"; do
      destdir=\`\$echo \"X\$file\" | \$Xsed -e 's%/[^/]*\$%%'\`
  
***************
*** 4760,4766 ****
      fi
  
      file=\`\$echo \"X\$file\" | \$Xsed -e 's%^.*/%%'\`
!     file=\`ls -ld \"\$thisdir/\$file\" | ${SED} -n 's/.*-> //p'\`
    done
  
    # Try to get the absolute directory name.
--- 3821,3827 ----
      fi
  
      file=\`\$echo \"X\$file\" | \$Xsed -e 's%^.*/%%'\`
!     file=\`ls -ld \"\$thisdir/\$file\" | sed -n 's/.*-> //p'\`
    done
  
    # Try to get the absolute directory name.
***************
*** 4769,4780 ****
  "
  
  	if test "$fast_install" = yes; then
! 	  $echo >> $output "\
    program=lt-'$outputname'$exeext
    progdir=\"\$thisdir/$objdir\"
  
    if test ! -f \"\$progdir/\$program\" || \\
!      { file=\`ls -1dt \"\$progdir/\$program\" \"\$progdir/../\$program\" 2>/dev/null | ${SED} 1q\`; \\
         test \"X\$file\" != \"X\$progdir/\$program\"; }; then
  
      file=\"\$\$-\$program\"
--- 3830,3841 ----
  "
  
  	if test "$fast_install" = yes; then
! 	  echo >> $output "\
    program=lt-'$outputname'$exeext
    progdir=\"\$thisdir/$objdir\"
  
    if test ! -f \"\$progdir/\$program\" || \\
!      { file=\`ls -1dt \"\$progdir/\$program\" \"\$progdir/../\$program\" 2>/dev/null | sed 1q\`; \\
         test \"X\$file\" != \"X\$progdir/\$program\"; }; then
  
      file=\"\$\$-\$program\"
***************
*** 4785,4791 ****
        $rm \"\$progdir/\$file\"
      fi"
  
! 	  $echo >> $output "\
  
      # relink executable if necessary
      if test -n \"\$relink_command\"; then
--- 3846,3852 ----
        $rm \"\$progdir/\$file\"
      fi"
  
! 	  echo >> $output "\
  
      # relink executable if necessary
      if test -n \"\$relink_command\"; then
***************
*** 4803,4815 ****
      $rm \"\$progdir/\$file\"
    fi"
  	else
! 	  $echo >> $output "\
    program='$outputname'
    progdir=\"\$thisdir/$objdir\"
  "
  	fi
  
! 	$echo >> $output "\
  
    if test -f \"\$progdir/\$program\"; then"
  
--- 3864,3876 ----
      $rm \"\$progdir/\$file\"
    fi"
  	else
! 	  echo >> $output "\
    program='$outputname'
    progdir=\"\$thisdir/$objdir\"
  "
  	fi
  
! 	echo >> $output "\
  
    if test -f \"\$progdir/\$program\"; then"
  
***************
*** 4840,4845 ****
--- 3901,3914 ----
        # Run the actual program with our arguments.
  "
  	case $host in
+ 	# win32 systems need to use the prog path for dll
+ 	# lookup to work
+ 	*-*-cygwin* | *-*-pw32*)
+ 	  $echo >> $output "\
+       exec \$progdir/\$program \${1+\"\$@\"}
+ "
+ 	  ;;
+ 
  	# Backslashes separate directories on plain windows
  	*-*-mingw | *-*-os2*)
  	  $echo >> $output "\
***************
*** 4849,4855 ****
  
  	*)
  	  $echo >> $output "\
!       exec \$progdir/\$program \${1+\"\$@\"}
  "
  	  ;;
  	esac
--- 3918,3928 ----
  
  	*)
  	  $echo >> $output "\
!       # Export the path to the program.
!       PATH=\"\$progdir:\$PATH\"
!       export PATH
! 
!       exec \$program \${1+\"\$@\"}
  "
  	  ;;
  	esac
***************
*** 4861,4867 ****
      # The program doesn't exist.
      \$echo \"\$0: error: \$progdir/\$program does not exist\" 1>&2
      \$echo \"This script is just a wrapper for \$program.\" 1>&2
!     $echo \"See the $PACKAGE documentation for more information.\" 1>&2
      exit 1
    fi
  fi\
--- 3934,3940 ----
      # The program doesn't exist.
      \$echo \"\$0: error: \$progdir/\$program does not exist\" 1>&2
      \$echo \"This script is just a wrapper for \$program.\" 1>&2
!     echo \"See the $PACKAGE documentation for more information.\" 1>&2
      exit 1
    fi
  fi\
***************
*** 4877,4890 ****
  
        if test "$build_libtool_libs" = convenience; then
  	oldobjs="$libobjs_save"
  	addlibs="$convenience"
  	build_libtool_libs=no
        else
  	if test "$build_libtool_libs" = module; then
  	  oldobjs="$libobjs_save"
  	  build_libtool_libs=no
  	else
! 	  oldobjs="$old_deplibs $non_pic_objects"
  	fi
  	addlibs="$old_convenience"
        fi
--- 3950,3977 ----
  
        if test "$build_libtool_libs" = convenience; then
  	oldobjs="$libobjs_save"
+ 	if test "$compil32_64" = yes; then
+ 	  oldobjs32="$libobjs_save32"
+ 	  oldobjs64="$libobjs_save64"
+ 	fi
  	addlibs="$convenience"
  	build_libtool_libs=no
        else
  	if test "$build_libtool_libs" = module; then
  	  oldobjs="$libobjs_save"
+ 	  if test "$compil32_64" = yes; then
+ 	    oldobjs32="$libobjs_save32"
+ 	    oldobjs64="$libobjs_save64"
+ 	  fi
  	  build_libtool_libs=no
  	else
! 	  oldobjs="$objs$old_deplibs "`$echo "X$libobjs_save" | $SP2NL | $Xsed -e '/\.'${libext}'$/d' -e '/\.lib$/d' -e "$lo2o" | $NL2SP`
! 	  if test "$compil32_64" = yes; then
! 	    oldobjs32="$objs$old_deplibs "`$echo "X$libobjs_save32" | $SP2NL | $Xsed -e '/\.'${libext}'$/d' -e '/\.lib$/d' -e "$lo2o" |
! $NL2SP`
! 	    oldobjs64="$objs$old_deplibs "`$echo "X$libobjs_save64" | $SP2NL | $Xsed -e '/\.'${libext}'$/d' -e '/\.lib$/d' -e "$lo2o" |
! $NL2SP`
! 	  fi
  	fi
  	addlibs="$old_convenience"
        fi
***************
*** 4893,4902 ****
  	gentop="$output_objdir/${outputname}x"
  	$show "${rm}r $gentop"
  	$run ${rm}r "$gentop"
! 	$show "$mkdir $gentop"
! 	$run $mkdir "$gentop"
  	status=$?
! 	if test "$status" -ne 0 && test ! -d "$gentop"; then
  	  exit $status
  	fi
  	generated="$generated $gentop"
--- 3980,3989 ----
  	gentop="$output_objdir/${outputname}x"
  	$show "${rm}r $gentop"
  	$run ${rm}r "$gentop"
! 	$show "mkdir $gentop"
! 	$run mkdir "$gentop"
  	status=$?
! 	if test $status -ne 0 && test ! -d "$gentop"; then
  	  exit $status
  	fi
  	generated="$generated $gentop"
***************
*** 4913,4954 ****
  
  	  $show "${rm}r $xdir"
  	  $run ${rm}r "$xdir"
! 	  $show "$mkdir $xdir"
! 	  $run $mkdir "$xdir"
  	  status=$?
! 	  if test "$status" -ne 0 && test ! -d "$xdir"; then
  	    exit $status
  	  fi
- 	  # We will extract separately just the conflicting names and we will no
- 	  # longer touch any unique names. It is faster to leave these extract
- 	  # automatically by $AR in one run.
  	  $show "(cd $xdir && $AR x $xabs)"
  	  $run eval "(cd \$xdir && $AR x \$xabs)" || exit $?
- 	  if ($AR t "$xabs" | sort | sort -uc >/dev/null 2>&1); then
- 	    :
- 	  else
- 	    $echo "$modename: warning: object name conflicts; renaming object files" 1>&2
- 	    $echo "$modename: warning: to ensure that they will not overwrite" 1>&2
- 	    $AR t "$xabs" | sort | uniq -cd | while read -r count name
- 	    do
- 	      i=1
- 	      while test "$i" -le "$count"
- 	      do
- 	       # Put our $i before any first dot (extension)
- 	       # Never overwrite any file
- 	       name_to="$name"
- 	       while test "X$name_to" = "X$name" || test -f "$xdir/$name_to"
- 	       do
- 		 name_to=`$echo "X$name_to" | $Xsed -e "s/\([^.]*\)/\1-$i/"`
- 	       done
- 	       $show "(cd $xdir && $AR xN $i $xabs '$name' && $mv '$name' '$name_to')"
- 	       $run eval "(cd \$xdir && $AR xN $i \$xabs '$name' && $mv '$name' '$name_to')" || exit $?
- 	       i=`expr $i + 1`
- 	      done
- 	    done
- 	  fi
  
  	  oldobjs="$oldobjs "`find $xdir -name \*.${objext} -print -o -name \*.lo -print | $NL2SP`
  	done
        fi
  
--- 4000,4019 ----
  
  	  $show "${rm}r $xdir"
  	  $run ${rm}r "$xdir"
! 	  $show "mkdir $xdir"
! 	  $run mkdir "$xdir"
  	  status=$?
! 	  if test $status -ne 0 && test ! -d "$xdir"; then
  	    exit $status
  	  fi
  	  $show "(cd $xdir && $AR x $xabs)"
  	  $run eval "(cd \$xdir && $AR x \$xabs)" || exit $?
  
  	  oldobjs="$oldobjs "`find $xdir -name \*.${objext} -print -o -name \*.lo -print | $NL2SP`
+ 	  if test "$compil32_64" = yes; then
+ 	    oldobjs32="$oldobjs32 "`find $xdir -name \*.${objext} -print -o -name \*.lo -print | $NL2SP`
+ 	    oldobjs64="$oldobjs64 "`find $xdir -name \*.${objext} -print -o -name \*.lo -print | $NL2SP`
+ 	  fi
  	done
        fi
  
***************
*** 4956,5028 ****
        if test -n "$old_archive_from_new_cmds" && test "$build_libtool_libs" = yes; then
  	eval cmds=\"$old_archive_from_new_cmds\"
        else
! 	eval cmds=\"$old_archive_cmds\"
! 
! 	if len=`expr "X$cmds" : ".*"` &&
! 	     test "$len" -le "$max_cmd_len" || test "$max_cmd_len" -le -1; then
! 	  :
! 	else
! 	  # the command line is too long to link in one step, link in parts
! 	  $echo "using piecewise archive linking..."
! 	  save_RANLIB=$RANLIB
! 	  RANLIB=:
! 	  objlist=
! 	  concat_cmds=
! 	  save_oldobjs=$oldobjs
! 	  # GNU ar 2.10+ was changed to match POSIX; thus no paths are
! 	  # encoded into archives.  This makes 'ar r' malfunction in
! 	  # this piecewise linking case whenever conflicting object
! 	  # names appear in distinct ar calls; check, warn and compensate.
! 	    if (for obj in $save_oldobjs
! 	    do
! 	      $echo "X$obj" | $Xsed -e 's%^.*/%%'
! 	    done | sort | sort -uc >/dev/null 2>&1); then
! 	    :
! 	  else
! 	    $echo "$modename: warning: object name conflicts; overriding AR_FLAGS to 'cq'" 1>&2
! 	    $echo "$modename: warning: to ensure that POSIX-compatible ar will work" 1>&2
! 	    AR_FLAGS=cq
! 	  fi
! 	  # Is there a better way of finding the last object in the list?
! 	  for obj in $save_oldobjs
! 	  do
! 	    last_oldobj=$obj
! 	  done  
! 	  for obj in $save_oldobjs
! 	  do
! 	    oldobjs="$objlist $obj"
! 	    objlist="$objlist $obj"
! 	    eval test_cmds=\"$old_archive_cmds\"
! 	    if len=`expr "X$test_cmds" : ".*"` &&
! 	       test "$len" -le "$max_cmd_len"; then
! 	      :
  	    else
! 	      # the above command should be used before it gets too long
! 	      oldobjs=$objlist
! 	      if test "$obj" = "$last_oldobj" ; then
! 	        RANLIB=$save_RANLIB
! 	      fi  
! 	      test -z "$concat_cmds" || concat_cmds=$concat_cmds~
! 	      eval concat_cmds=\"\${concat_cmds}$old_archive_cmds\"
! 	      objlist=
  	    fi
! 	  done
! 	  RANLIB=$save_RANLIB
! 	  oldobjs=$objlist
! 	  if test "X$oldobjs" = "X" ; then
! 	    eval cmds=\"\$concat_cmds\"
! 	  else
! 	    eval cmds=\"\$concat_cmds~$old_archive_cmds\"
  	  fi
! 	fi
        fi
!       save_ifs="$IFS"; IFS='~'
!       for cmd in $cmds; do
! 	IFS="$save_ifs"
! 	$show "$cmd"
! 	$run eval "$cmd" || exit $?
!       done
!       IFS="$save_ifs"
      done
  
      if test -n "$generated"; then
--- 4021,4068 ----
        if test -n "$old_archive_from_new_cmds" && test "$build_libtool_libs" = yes; then
  	eval cmds=\"$old_archive_from_new_cmds\"
        else
! 	# Ensure that we have .o objects in place in case we decided
! 	# not to build a shared library, and have fallen back to building
! 	# static libs even though --disable-static was passed!
! 	for oldobj in $oldobjs; do
! 	  if test ! -f $oldobj && test "$compil32_64" != yes; then  # compil3264
! 	    xdir=`$echo "X$oldobj" | $Xsed -e 's%/[^/]*$%%'`
! 	    if test "X$xdir" = "X$oldobj"; then
! 	      xdir="."
  	    else
! 	      xdir="$xdir"
  	    fi
! 	    baseobj=`$echo "X$oldobj" | $Xsed -e 's%^.*/%%'`
! 	    obj=`$echo "X$baseobj" | $Xsed -e "$o2lo"`
! 	    $show "(cd $xdir && ${LN_S} $obj $baseobj)"
! 	    $run eval '(cd $xdir && ${LN_S} $obj $baseobj)' || exit $?
  	  fi
! 	done
! # debut compil3264
!         old_archive_cmds3264="\$AR -X32_64 \$AR_FLAGS \$oldlib\$oldobjs32\$oldobjs64\$old_deplibs~\$RANLIB \$oldlib"
!         eval cmds3264=\"$old_archive_cmds3264\"
! # fin compil3264
! 	eval cmds=\"$old_archive_cmds\"
        fi
! # debut compil3264
!       if test "$compil32_64" = yes; then
!         save_ifs="$IFS"; IFS='~'
!         for cmd in $cmds3264; do
!           IFS="$save_ifs"
!           $show "$cmd"
!           $run eval "$cmd" || exit $?
!         done
!         IFS="$save_ifs"
!       else
! # fin compil3264
!         save_ifs="$IFS"; IFS='~'
!         for cmd in $cmds; do
! 	  IFS="$save_ifs"
! 	  $show "$cmd"
! 	  $run eval "$cmd" || exit $?
!         done
!         IFS="$save_ifs"
!       fi  # compil3264
      done
  
      if test -n "$generated"; then
***************
*** 5049,5055 ****
  	fi
        done
        # Quote the link command for shipping.
!       relink_command="(cd `pwd`; $SHELL $0 --mode=relink $libtool_args @inst_prefix_dir@)"
        relink_command=`$echo "X$relink_command" | $Xsed -e "$sed_quote_subst"`
  
        # Only create the output if not a dry run.
--- 4089,4095 ----
  	fi
        done
        # Quote the link command for shipping.
!       relink_command="cd `pwd`; $SHELL $0 --mode=relink $libtool_args"
        relink_command=`$echo "X$relink_command" | $Xsed -e "$sed_quote_subst"`
  
        # Only create the output if not a dry run.
***************
*** 5066,5072 ****
  	      case $deplib in
  	      *.la)
  		name=`$echo "X$deplib" | $Xsed -e 's%^.*/%%'`
! 		eval libdir=`${SED} -n -e 's/^libdir=\(.*\)$/\1/p' $deplib`
  		if test -z "$libdir"; then
  		  $echo "$modename: \`$deplib' is not a valid libtool archive" 1>&2
  		  exit 1
--- 4106,4112 ----
  	      case $deplib in
  	      *.la)
  		name=`$echo "X$deplib" | $Xsed -e 's%^.*/%%'`
! 		eval libdir=`sed -n -e 's/^libdir=\(.*\)$/\1/p' $deplib`
  		if test -z "$libdir"; then
  		  $echo "$modename: \`$deplib' is not a valid libtool archive" 1>&2
  		  exit 1
***************
*** 5080,5086 ****
  	    newdlfiles=
  	    for lib in $dlfiles; do
  	      name=`$echo "X$lib" | $Xsed -e 's%^.*/%%'`
! 	      eval libdir=`${SED} -n -e 's/^libdir=\(.*\)$/\1/p' $lib`
  	      if test -z "$libdir"; then
  		$echo "$modename: \`$lib' is not a valid libtool archive" 1>&2
  		exit 1
--- 4120,4126 ----
  	    newdlfiles=
  	    for lib in $dlfiles; do
  	      name=`$echo "X$lib" | $Xsed -e 's%^.*/%%'`
! 	      eval libdir=`sed -n -e 's/^libdir=\(.*\)$/\1/p' $lib`
  	      if test -z "$libdir"; then
  		$echo "$modename: \`$lib' is not a valid libtool archive" 1>&2
  		exit 1
***************
*** 5091,5097 ****
  	    newdlprefiles=
  	    for lib in $dlprefiles; do
  	      name=`$echo "X$lib" | $Xsed -e 's%^.*/%%'`
! 	      eval libdir=`${SED} -n -e 's/^libdir=\(.*\)$/\1/p' $lib`
  	      if test -z "$libdir"; then
  		$echo "$modename: \`$lib' is not a valid libtool archive" 1>&2
  		exit 1
--- 4131,4137 ----
  	    newdlprefiles=
  	    for lib in $dlprefiles; do
  	      name=`$echo "X$lib" | $Xsed -e 's%^.*/%%'`
! 	      eval libdir=`sed -n -e 's/^libdir=\(.*\)$/\1/p' $lib`
  	      if test -z "$libdir"; then
  		$echo "$modename: \`$lib' is not a valid libtool archive" 1>&2
  		exit 1
***************
*** 5104,5110 ****
  	  # place dlname in correct position for cygwin
  	  tdlname=$dlname
  	  case $host,$output,$installed,$module,$dlname in
! 	    *cygwin*,*lai,yes,no,*.dll | *mingw*,*lai,yes,no,*.dll) tdlname=../bin/$dlname ;;
  	  esac
  	  $echo > $output "\
  # $outputname - a libtool library file
--- 4144,4151 ----
  	  # place dlname in correct position for cygwin
  	  tdlname=$dlname
  	  case $host,$output,$installed,$module,$dlname in
! 	    *cygwin*,*lai,yes,no,*.dll) tdlname=../bin/$dlname ;;
! 	    *aix*,*,*,*,*) tdlname=$realname\($dlname\) ;;
  	  esac
  	  $echo > $output "\
  # $outputname - a libtool library file
***************
*** 5133,5148 ****
  # Is this an already installed library?
  installed=$installed
  
- # Should we warn about portability when linking against -modules?
- shouldnotlink=$module
- 
  # Files to dlopen/dlpreopen
  dlopen='$dlfiles'
  dlpreopen='$dlprefiles'
  
  # Directory that this library needs to be installed in:
  libdir='$install_libdir'"
! 	  if test "$installed" = no && test "$need_relink" = yes; then
  	    $echo >> $output "\
  relink_command=\"$relink_command\""
  	  fi
--- 4174,4186 ----
  # Is this an already installed library?
  installed=$installed
  
  # Files to dlopen/dlpreopen
  dlopen='$dlfiles'
  dlpreopen='$dlprefiles'
  
  # Directory that this library needs to be installed in:
  libdir='$install_libdir'"
! 	  if test "$installed" = no && test $need_relink = yes; then
  	    $echo >> $output "\
  relink_command=\"$relink_command\""
  	  fi
***************
*** 5278,5284 ****
  
        # Not a directory, so check to see that there is only one file specified.
        set dummy $files
!       if test "$#" -gt 2; then
  	$echo "$modename: \`$dest' is not a directory" 1>&2
  	$echo "$help" 1>&2
  	exit 1
--- 4316,4322 ----
  
        # Not a directory, so check to see that there is only one file specified.
        set dummy $files
!       if test $# -gt 2; then
  	$echo "$modename: \`$dest' is not a directory" 1>&2
  	$echo "$help" 1>&2
  	exit 1
***************
*** 5318,5324 ****
  
        *.la)
  	# Check to see that this really is a libtool archive.
! 	if (${SED} -e '2q' $file | grep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then :
  	else
  	  $echo "$modename: \`$file' is not a valid libtool archive" 1>&2
  	  $echo "$help" 1>&2
--- 4356,4362 ----
  
        *.la)
  	# Check to see that this really is a libtool archive.
! 	if (sed -e '2q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then :
  	else
  	  $echo "$modename: \`$file' is not a valid libtool archive" 1>&2
  	  $echo "$help" 1>&2
***************
*** 5352,5387 ****
  	test "X$dir" = "X$file/" && dir=
  	dir="$dir$objdir"
  
! 	if test -n "$relink_command"; then
! 	  # Determine the prefix the user has applied to our future dir.
! 	  inst_prefix_dir=`$echo "$destdir" | $SED "s%$libdir\$%%"`
! 
! 	  # Don't allow the user to place us outside of our expected
! 	  # location b/c this prevents finding dependent libraries that
! 	  # are installed to the same prefix.
! 	  # At present, this check doesn't affect windows .dll's that
! 	  # are installed into $libdir/../bin (currently, that works fine)
! 	  # but it's something to keep an eye on.
! 	  if test "$inst_prefix_dir" = "$destdir"; then
! 	    $echo "$modename: error: cannot install \`$file' to a directory not ending in $libdir" 1>&2
! 	    exit 1
! 	  fi
! 
! 	  if test -n "$inst_prefix_dir"; then
! 	    # Stick the inst_prefix_dir data into the link command.
! 	    relink_command=`$echo "$relink_command" | $SED "s%@inst_prefix_dir@%-inst-prefix-dir $inst_prefix_dir%"`
! 	  else
! 	    relink_command=`$echo "$relink_command" | $SED "s%@inst_prefix_dir@%%"`
! 	  fi
! 
! 	  $echo "$modename: warning: relinking \`$file'" 1>&2
! 	  $show "$relink_command"
! 	  if $run eval "$relink_command"; then :
! 	  else
! 	    $echo "$modename: error: relink \`$file' with the above command before installing it" 1>&2
! 	    exit 1
! 	  fi
! 	fi
  
  	# See the names of the shared library.
  	set dummy $library_names
--- 4390,4406 ----
  	test "X$dir" = "X$file/" && dir=
  	dir="$dir$objdir"
  
! # BEGIN WORKAROUND DESTDIR
! #	if test -n "$relink_command"; then
! #	  $echo "$modename: warning: relinking \`$file'" 1>&2
! #	  $show "$relink_command"
! #	  if $run eval "$relink_command"; then :
! #	  else
! #	    $echo "$modename: error: relink \`$file' with the above command before installing it" 1>&2
! #	    continue
! #	  fi
! #	fi
! # END WORKAROUND DESTDIR
  
  	# See the names of the shared library.
  	set dummy $library_names
***************
*** 5391,5397 ****
  	  shift
  
  	  srcname="$realname"
! 	  test -n "$relink_command" && srcname="$realname"T
  
  	  # Install the shared library and build the symlinks.
  	  $show "$install_prog $dir/$srcname $destdir/$realname"
--- 4410,4418 ----
  	  shift
  
  	  srcname="$realname"
! # BEGIN WORKAROUND DESTDIR
! #	  test -n "$relink_command" && srcname="$realname"T
! # END WORKAROUND DESTDIR
  
  	  # Install the shared library and build the symlinks.
  	  $show "$install_prog $dir/$srcname $destdir/$realname"
***************
*** 5401,5407 ****
  	    $run eval "$striplib $destdir/$realname" || exit $?
  	  fi
  
! 	  if test "$#" -gt 0; then
  	    # Delete the old symlinks, and create new ones.
  	    for linkname
  	    do
--- 4422,4428 ----
  	    $run eval "$striplib $destdir/$realname" || exit $?
  	  fi
  
! 	  if test $# -gt 0; then
  	    # Delete the old symlinks, and create new ones.
  	    for linkname
  	    do
***************
*** 5487,5534 ****
  	  destfile="$destdir/$destfile"
  	fi
  
- 	# If the file is missing, and there is a .exe on the end, strip it
- 	# because it is most likely a libtool script we actually want to
- 	# install
- 	stripped_ext=""
- 	case $file in
- 	  *.exe)
- 	    if test ! -f "$file"; then
- 	      file=`$echo $file|${SED} 's,.exe$,,'`
- 	      stripped_ext=".exe"
- 	    fi
- 	    ;;
- 	esac
- 
  	# Do a test to see if this is really a libtool program.
! 	case $host in
! 	*cygwin*|*mingw*)
! 	    wrapper=`$echo $file | ${SED} -e 's,.exe$,,'`
! 	    ;;
! 	*)
! 	    wrapper=$file
! 	    ;;
! 	esac
! 	if (${SED} -e '4q' $wrapper | grep "^# Generated by .*$PACKAGE")>/dev/null 2>&1; then
  	  notinst_deplibs=
  	  relink_command=
  
- 	  # To insure that "foo" is sourced, and not "foo.exe",
- 	  # finese the cygwin/MSYS system by explicitly sourcing "foo."
- 	  # which disallows the automatic-append-.exe behavior.
- 	  case $build in
- 	  *cygwin* | *mingw*) wrapperdot=${wrapper}. ;;
- 	  *) wrapperdot=${wrapper} ;;
- 	  esac
  	  # If there is no directory component, then add one.
  	  case $file in
! 	  */* | *\\*) . ${wrapperdot} ;;
! 	  *) . ./${wrapperdot} ;;
  	  esac
  
  	  # Check the variables that should have been set.
  	  if test -z "$notinst_deplibs"; then
! 	    $echo "$modename: invalid libtool wrapper script \`$wrapper'" 1>&2
  	    exit 1
  	  fi
  
--- 4508,4527 ----
  	  destfile="$destdir/$destfile"
  	fi
  
  	# Do a test to see if this is really a libtool program.
! 	if (sed -e '4q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
  	  notinst_deplibs=
  	  relink_command=
  
  	  # If there is no directory component, then add one.
  	  case $file in
! 	  */* | *\\*) . $file ;;
! 	  *) . ./$file ;;
  	  esac
  
  	  # Check the variables that should have been set.
  	  if test -z "$notinst_deplibs"; then
! 	    $echo "$modename: invalid libtool wrapper script \`$file'" 1>&2
  	    exit 1
  	  fi
  
***************
*** 5551,5567 ****
  	  done
  
  	  relink_command=
- 	  # To insure that "foo" is sourced, and not "foo.exe",
- 	  # finese the cygwin/MSYS system by explicitly sourcing "foo."
- 	  # which disallows the automatic-append-.exe behavior.
- 	  case $build in
- 	  *cygwin* | *mingw*) wrapperdot=${wrapper}. ;;
- 	  *) wrapperdot=${wrapper} ;;
- 	  esac
  	  # If there is no directory component, then add one.
  	  case $file in
! 	  */* | *\\*) . ${wrapperdot} ;;
! 	  *) . ./${wrapperdot} ;;
  	  esac
  
  	  outputname=
--- 4544,4553 ----
  	  done
  
  	  relink_command=
  	  # If there is no directory component, then add one.
  	  case $file in
! 	  */* | *\\*) . $file ;;
! 	  *) . ./$file ;;
  	  esac
  
  	  outputname=
***************
*** 5575,5581 ****
  		$echo "$modename: error: cannot create temporary directory \`$tmpdir'" 1>&2
  		continue
  	      fi
! 	      file=`$echo "X$file$stripped_ext" | $Xsed -e 's%^.*/%%'`
  	      outputname="$tmpdir/$file"
  	      # Replace the output file specification.
  	      relink_command=`$echo "X$relink_command" | $Xsed -e 's%@OUTPUT@%'"$outputname"'%g'`
--- 4561,4567 ----
  		$echo "$modename: error: cannot create temporary directory \`$tmpdir'" 1>&2
  		continue
  	      fi
! 	      file=`$echo "X$file" | $Xsed -e 's%^.*/%%'`
  	      outputname="$tmpdir/$file"
  	      # Replace the output file specification.
  	      relink_command=`$echo "X$relink_command" | $Xsed -e 's%@OUTPUT@%'"$outputname"'%g'`
***************
*** 5593,5606 ****
  	    fi
  	  else
  	    # Install the binary that we compiled earlier.
! 	    file=`$echo "X$file$stripped_ext" | $Xsed -e "s%\([^/]*\)$%$objdir/\1%"`
  	  fi
  	fi
  
  	# remove .exe since cygwin /usr/bin/install will append another
  	# one anyways
  	case $install_prog,$host in
! 	*/usr/bin/install*,*cygwin*)
  	  case $file:$destfile in
  	  *.exe:*.exe)
  	    # this is ok
--- 4579,4592 ----
  	    fi
  	  else
  	    # Install the binary that we compiled earlier.
! 	    file=`$echo "X$file" | $Xsed -e "s%\([^/]*\)$%$objdir/\1%"`
  	  fi
  	fi
  
  	# remove .exe since cygwin /usr/bin/install will append another
  	# one anyways
  	case $install_prog,$host in
! 	/usr/bin/install*,*cygwin*)
  	  case $file:$destfile in
  	  *.exe:*.exe)
  	    # this is ok
***************
*** 5609,5615 ****
  	    destfile=$destfile.exe
  	    ;;
  	  *:*.exe)
! 	    destfile=`$echo $destfile | ${SED} -e 's,.exe$,,'`
  	    ;;
  	  esac
  	  ;;
--- 4595,4601 ----
  	    destfile=$destfile.exe
  	    ;;
  	  *:*.exe)
! 	    destfile=`echo $destfile | sed -e 's,.exe$,,'`
  	    ;;
  	  esac
  	  ;;
***************
*** 5694,5735 ****
      fi
  
      # Exit here if they wanted silent mode.
!     test "$show" = : && exit 0
  
!     $echo "----------------------------------------------------------------------"
!     $echo "Libraries have been installed in:"
      for libdir in $libdirs; do
!       $echo "   $libdir"
      done
!     $echo
!     $echo "If you ever happen to want to link against installed libraries"
!     $echo "in a given directory, LIBDIR, you must either use libtool, and"
!     $echo "specify the full pathname of the library, or use the \`-LLIBDIR'"
!     $echo "flag during linking and do at least one of the following:"
      if test -n "$shlibpath_var"; then
!       $echo "   - add LIBDIR to the \`$shlibpath_var' environment variable"
!       $echo "     during execution"
      fi
      if test -n "$runpath_var"; then
!       $echo "   - add LIBDIR to the \`$runpath_var' environment variable"
!       $echo "     during linking"
      fi
      if test -n "$hardcode_libdir_flag_spec"; then
        libdir=LIBDIR
        eval flag=\"$hardcode_libdir_flag_spec\"
  
!       $echo "   - use the \`$flag' linker flag"
      fi
      if test -n "$admincmds"; then
!       $echo "   - have your system administrator run these commands:$admincmds"
      fi
      if test -f /etc/ld.so.conf; then
!       $echo "   - have your system administrator add LIBDIR to \`/etc/ld.so.conf'"
      fi
!     $echo
!     $echo "See any operating system documentation about shared libraries for"
!     $echo "more information, such as the ld(1) and ld.so(8) manual pages."
!     $echo "----------------------------------------------------------------------"
      exit 0
      ;;
  
--- 4680,4721 ----
      fi
  
      # Exit here if they wanted silent mode.
!     test "$show" = ":" && exit 0
  
!     echo "----------------------------------------------------------------------"
!     echo "Libraries have been installed in:"
      for libdir in $libdirs; do
!       echo "   $libdir"
      done
!     echo
!     echo "If you ever happen to want to link against installed libraries"
!     echo "in a given directory, LIBDIR, you must either use libtool, and"
!     echo "specify the full pathname of the library, or use the \`-LLIBDIR'"
!     echo "flag during linking and do at least one of the following:"
      if test -n "$shlibpath_var"; then
!       echo "   - add LIBDIR to the \`$shlibpath_var' environment variable"
!       echo "     during execution"
      fi
      if test -n "$runpath_var"; then
!       echo "   - add LIBDIR to the \`$runpath_var' environment variable"
!       echo "     during linking"
      fi
      if test -n "$hardcode_libdir_flag_spec"; then
        libdir=LIBDIR
        eval flag=\"$hardcode_libdir_flag_spec\"
  
!       echo "   - use the \`$flag' linker flag"
      fi
      if test -n "$admincmds"; then
!       echo "   - have your system administrator run these commands:$admincmds"
      fi
      if test -f /etc/ld.so.conf; then
!       echo "   - have your system administrator add LIBDIR to \`/etc/ld.so.conf'"
      fi
!     echo
!     echo "See any operating system documentation about shared libraries for"
!     echo "more information, such as the ld(1) and ld.so(8) manual pages."
!     echo "----------------------------------------------------------------------"
      exit 0
      ;;
  
***************
*** 5757,5763 ****
        case $file in
        *.la)
  	# Check to see that this really is a libtool archive.
! 	if (${SED} -e '2q' $file | grep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then :
  	else
  	  $echo "$modename: \`$lib' is not a valid libtool archive" 1>&2
  	  $echo "$help" 1>&2
--- 4743,4749 ----
        case $file in
        *.la)
  	# Check to see that this really is a libtool archive.
! 	if (sed -e '2q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then :
  	else
  	  $echo "$modename: \`$lib' is not a valid libtool archive" 1>&2
  	  $echo "$help" 1>&2
***************
*** 5828,5834 ****
        -*) ;;
        *)
  	# Do a test to see if this is really a libtool program.
! 	if (${SED} -e '4q' $file | grep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
  	  # If there is no directory component, then add one.
  	  case $file in
  	  */* | *\\*) . $file ;;
--- 4814,4820 ----
        -*) ;;
        *)
  	# Do a test to see if this is really a libtool program.
! 	if (sed -e '4q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
  	  # If there is no directory component, then add one.
  	  case $file in
  	  */* | *\\*) . $file ;;
***************
*** 5851,5857 ****
  	eval "export $shlibpath_var"
        fi
  
!       # Restore saved environment variables
        if test "${save_LC_ALL+set}" = set; then
  	LC_ALL="$save_LC_ALL"; export LC_ALL
        fi
--- 4837,4843 ----
  	eval "export $shlibpath_var"
        fi
  
!       # Restore saved enviroment variables
        if test "${save_LC_ALL+set}" = set; then
  	LC_ALL="$save_LC_ALL"; export LC_ALL
        fi
***************
*** 5860,5866 ****
        fi
  
        # Now prepare to actually exec the command.
!       exec_cmd="\$cmd$args"
      else
        # Display what would be done.
        if test -n "$shlibpath_var"; then
--- 4846,4852 ----
        fi
  
        # Now prepare to actually exec the command.
!       exec_cmd='"$cmd"$args'
      else
        # Display what would be done.
        if test -n "$shlibpath_var"; then
***************
*** 5901,5920 ****
  
      rmdirs=
  
-     origobjdir="$objdir"
      for file in $files; do
        dir=`$echo "X$file" | $Xsed -e 's%/[^/]*$%%'`
        if test "X$dir" = "X$file"; then
  	dir=.
! 	objdir="$origobjdir"
        else
! 	objdir="$dir/$origobjdir"
        fi
        name=`$echo "X$file" | $Xsed -e 's%^.*/%%'`
!       test "$mode" = uninstall && objdir="$dir"
  
        # Remember objdir for removal later, being careful to avoid duplicates
!       if test "$mode" = clean; then
  	case " $rmdirs " in
  	  *" $objdir "*) ;;
  	  *) rmdirs="$rmdirs $objdir" ;;
--- 4887,4905 ----
  
      rmdirs=
  
      for file in $files; do
        dir=`$echo "X$file" | $Xsed -e 's%/[^/]*$%%'`
        if test "X$dir" = "X$file"; then
  	dir=.
! 	objdir="$objdir"
        else
! 	objdir="$dir/$objdir"
        fi
        name=`$echo "X$file" | $Xsed -e 's%^.*/%%'`
!       test $mode = uninstall && objdir="$dir"
  
        # Remember objdir for removal later, being careful to avoid duplicates
!       if test $mode = clean; then
  	case " $rmdirs " in
  	  *" $objdir "*) ;;
  	  *) rmdirs="$rmdirs $objdir" ;;
***************
*** 5938,5944 ****
        case $name in
        *.la)
  	# Possibly a libtool archive, so verify it.
! 	if (${SED} -e '2q' $file | grep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
  	  . $dir/$name
  
  	  # Delete the libtool libraries and symlinks.
--- 4923,4929 ----
        case $name in
        *.la)
  	# Possibly a libtool archive, so verify it.
! 	if (sed -e '2q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
  	  . $dir/$name
  
  	  # Delete the libtool libraries and symlinks.
***************
*** 5946,5954 ****
  	    rmfiles="$rmfiles $objdir/$n"
  	  done
  	  test -n "$old_library" && rmfiles="$rmfiles $objdir/$old_library"
! 	  test "$mode" = clean && rmfiles="$rmfiles $objdir/$name $objdir/${name}i"
  
! 	  if test "$mode" = uninstall; then
  	    if test -n "$library_names"; then
  	      # Do each command in the postuninstall commands.
  	      eval cmds=\"$postuninstall_cmds\"
--- 4931,4939 ----
  	    rmfiles="$rmfiles $objdir/$n"
  	  done
  	  test -n "$old_library" && rmfiles="$rmfiles $objdir/$old_library"
! 	  test $mode = clean && rmfiles="$rmfiles $objdir/$name $objdir/${name}i"
  
! 	  if test $mode = uninstall; then
  	    if test -n "$library_names"; then
  	      # Do each command in the postuninstall commands.
  	      eval cmds=\"$postuninstall_cmds\"
***************
*** 5957,5963 ****
  		IFS="$save_ifs"
  		$show "$cmd"
  		$run eval "$cmd"
! 		if test "$?" -ne 0 && test "$rmforce" != yes; then
  		  exit_status=1
  		fi
  	      done
--- 4942,4948 ----
  		IFS="$save_ifs"
  		$show "$cmd"
  		$run eval "$cmd"
! 		if test $? != 0 && test "$rmforce" != yes; then
  		  exit_status=1
  		fi
  	      done
***************
*** 5972,5978 ****
  		IFS="$save_ifs"
  		$show "$cmd"
  		$run eval "$cmd"
! 		if test "$?" -ne 0 && test "$rmforce" != yes; then
  		  exit_status=1
  		fi
  	      done
--- 4957,4963 ----
  		IFS="$save_ifs"
  		$show "$cmd"
  		$run eval "$cmd"
! 		if test $? != 0 && test "$rmforce" != yes; then
  		  exit_status=1
  		fi
  	      done
***************
*** 5984,6035 ****
  	;;
  
        *.lo)
! 	# Possibly a libtool object, so verify it.
! 	if (${SED} -e '2q' $file | grep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
! 
! 	  # Read the .lo file
! 	  . $dir/$name
! 
! 	  # Add PIC object to the list of files to remove.
! 	  if test -n "$pic_object" \
! 	     && test "$pic_object" != none; then
! 	    rmfiles="$rmfiles $dir/$pic_object"
! 	  fi
! 
! 	  # Add non-PIC object to the list of files to remove.
! 	  if test -n "$non_pic_object" \
! 	     && test "$non_pic_object" != none; then
! 	    rmfiles="$rmfiles $dir/$non_pic_object"
! 	  fi
  	fi
  	;;
  
        *)
! 	if test "$mode" = clean ; then
! 	  noexename=$name
! 	  case $file in
! 	  *.exe) 
! 	    file=`$echo $file|${SED} 's,.exe$,,'`
! 	    noexename=`$echo $name|${SED} 's,.exe$,,'`
! 	    # $file with .exe has already been added to rmfiles,
! 	    # add $file without .exe
! 	    rmfiles="$rmfiles $file"
! 	    ;;
! 	  esac
! 	  # Do a test to see if this is a libtool program.
! 	  if (${SED} -e '4q' $file | grep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
! 	    relink_command=
! 	    . $dir/$noexename
  
! 	    # note $name still contains .exe if it was in $file originally
! 	    # as does the version of $file that was added into $rmfiles
! 	    rmfiles="$rmfiles $objdir/$name $objdir/${name}S.${objext}"
! 	    if test "$fast_install" = yes && test -n "$relink_command"; then
! 	      rmfiles="$rmfiles $objdir/lt-$name"
! 	    fi
! 	    if test "X$noexename" != "X$name" ; then
! 	      rmfiles="$rmfiles $objdir/lt-${noexename}.c"
! 	    fi
  	  fi
  	fi
  	;;
--- 4969,4990 ----
  	;;
  
        *.lo)
! 	if test "$build_old_libs" = yes; then
! 	  oldobj=`$echo "X$name" | $Xsed -e "$lo2o"`
! 	  rmfiles="$rmfiles $dir/$oldobj"
  	fi
  	;;
  
        *)
! 	# Do a test to see if this is a libtool program.
! 	if test $mode = clean &&
! 	   (sed -e '4q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
! 	  relink_command=
! 	  . $dir/$file
  
! 	  rmfiles="$rmfiles $objdir/$name $objdir/${name}S.${objext}"
! 	  if test "$fast_install" = yes && test -n "$relink_command"; then
! 	    rmfiles="$rmfiles $objdir/lt-$name"
  	  fi
  	fi
  	;;
***************
*** 6037,6043 ****
        $show "$rm $rmfiles"
        $run $rm $rmfiles || exit_status=1
      done
-     objdir="$origobjdir"
  
      # Try to remove the ${objdir}s in the directories where we deleted files
      for dir in $rmdirs; do
--- 4992,4997 ----
***************
*** 6085,6091 ****
      --mode=MODE       use operation mode MODE [default=inferred from MODE-ARGS]
      --quiet           same as \`--silent'
      --silent          don't print informational messages
-     --tag=TAG         use configuration variables from tag TAG
      --version         print version information
  
  MODE must be one of the following:
--- 5039,5044 ----
***************
*** 6099,6107 ****
        uninstall       remove libraries from an installed directory
  
  MODE-ARGS vary depending on the MODE.  Try \`$modename --help --mode=MODE' for
! a more detailed description of MODE.
! 
! Report bugs to <bug-libtool@gnu.org>."
    exit 0
    ;;
  
--- 5052,5058 ----
        uninstall       remove libraries from an installed directory
  
  MODE-ARGS vary depending on the MODE.  Try \`$modename --help --mode=MODE' for
! a more detailed description of MODE."
    exit 0
    ;;
  
***************
*** 6213,6219 ****
    -no-install       link a not-installable executable
    -no-undefined     declare that a library does not refer to external symbols
    -o OUTPUT-FILE    create OUTPUT-FILE from the specified objects
-   -objectlist FILE  Use a list of object files found in FILE to specify objects
    -release RELEASE  specify package release information
    -rpath LIBDIR     the created library will eventually be installed in LIBDIR
    -R[ ]LIBDIR       add LIBDIR to the runtime path of programs and libraries
--- 5164,5169 ----
***************
*** 6259,6288 ****
    ;;
  esac
  
! $echo
  $echo "Try \`$modename --help' for more information about other modes."
  
  exit 0
  
! # The TAGs below are defined such that we never get into a situation
! # in which we disable both kinds of libraries.  Given conflicting
! # choices, we go for a static library, that is the most portable,
! # since we can't tell whether shared libraries were disabled because
! # the user asked for that or because the platform doesn't support
! # them.  This is particularly important on AIX, because we don't
! # support having both static and shared libraries enabled at the same
! # time on that platform, so we default to a shared-only configuration.
! # If a disable-shared tag is given, we'll fallback to a static-only
! # configuration.  But we'll never go from static-only to shared-only.
! 
! # ### BEGIN LIBTOOL TAG CONFIG: disable-shared
! build_libtool_libs=no
! build_old_libs=yes
! # ### END LIBTOOL TAG CONFIG: disable-shared
! 
! # ### BEGIN LIBTOOL TAG CONFIG: disable-static
! build_old_libs=`case $build_libtool_libs in yes) $echo no;; *) $echo yes;; esac`
! # ### END LIBTOOL TAG CONFIG: disable-static
  
  # Local Variables:
  # mode:shell-script
--- 5209,5220 ----
    ;;
  esac
  
! echo
  $echo "Try \`$modename --help' for more information about other modes."
  
  exit 0
  
! #set +x
  
  # Local Variables:
  # mode:shell-script
diff -crN ./xcursor/missing /users6/vanderms/sb/gnome_21264bis/src/./xcursor/missing
*** ./xcursor/missing	Wed May 21 19:18:16 2003
--- /users6/vanderms/sb/gnome_21264bis/src/./xcursor/missing	Tue Jan 17 10:49:17 2006
***************
*** 1,6 ****
  #! /bin/sh
  # Common stub for a few missing GNU programs while installing.
! # Copyright (C) 1996, 1997, 1999, 2000, 2002 Free Software Foundation, Inc.
  # Originally by Fran,cois Pinard <pinard@iro.umontreal.ca>, 1996.
  
  # This program is free software; you can redistribute it and/or modify
--- 1,10 ----
  #! /bin/sh
  # Common stub for a few missing GNU programs while installing.
! 
! scriptversion=2005-06-08.21
! 
! # Copyright (C) 1996, 1997, 1999, 2000, 2002, 2003, 2004, 2005
! #   Free Software Foundation, Inc.
  # Originally by Fran,cois Pinard <pinard@iro.umontreal.ca>, 1996.
  
  # This program is free software; you can redistribute it and/or modify
***************
*** 15,22 ****
  
  # You should have received a copy of the GNU General Public License
  # along with this program; if not, write to the Free Software
! # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
! # 02111-1307, USA.
  
  # As a special exception to the GNU General Public License, if you
  # distribute this file as part of a program that contains a
--- 19,26 ----
  
  # You should have received a copy of the GNU General Public License
  # along with this program; if not, write to the Free Software
! # Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
! # 02110-1301, USA.
  
  # As a special exception to the GNU General Public License, if you
  # distribute this file as part of a program that contains a
***************
*** 38,55 ****
    configure_ac=configure.in
  fi
  
  case "$1" in
  --run)
    # Try to run requested program, and just exit if it succeeds.
    run=
    shift
    "$@" && exit 0
    ;;
- esac
- 
- # If it does not exist, or fails to run (possibly an outdated version),
- # try to emulate it.
- case "$1" in
  
    -h|--h|--he|--hel|--help)
      echo "\
--- 42,65 ----
    configure_ac=configure.in
  fi
  
+ msg="missing on your system"
+ 
  case "$1" in
  --run)
    # Try to run requested program, and just exit if it succeeds.
    run=
    shift
    "$@" && exit 0
+   # Exit code 63 means version mismatch.  This often happens
+   # when the user try to use an ancient version of a tool on
+   # a file that requires a minimum version.  In this case we
+   # we should proceed has if the program had been absent, or
+   # if --run hadn't been passed.
+   if test $? = 63; then
+     run=:
+     msg="probably too old"
+   fi
    ;;
  
    -h|--h|--he|--hel|--help)
      echo "\
***************
*** 74,84 ****
    lex          create \`lex.yy.c', if possible, from existing .c
    makeinfo     touch the output file
    tar          try tar, gnutar, gtar, then tar without non-portable flags
!   yacc         create \`y.tab.[ch]', if possible, from existing .[ch]"
      ;;
  
    -v|--v|--ve|--ver|--vers|--versi|--versio|--version)
!     echo "missing 0.4 - GNU automake"
      ;;
  
    -*)
--- 84,98 ----
    lex          create \`lex.yy.c', if possible, from existing .c
    makeinfo     touch the output file
    tar          try tar, gnutar, gtar, then tar without non-portable flags
!   yacc         create \`y.tab.[ch]', if possible, from existing .[ch]
! 
! Send bug reports to <bug-automake@gnu.org>."
!     exit $?
      ;;
  
    -v|--v|--ve|--ver|--vers|--versi|--versio|--version)
!     echo "missing $scriptversion (GNU Automake)"
!     exit $?
      ;;
  
    -*)
***************
*** 87,100 ****
      exit 1
      ;;
  
!   aclocal*)
      if test -z "$run" && ($1 --version) > /dev/null 2>&1; then
         # We have it, but it failed.
         exit 1
      fi
  
      echo 1>&2 "\
! WARNING: \`$1' is missing on your system.  You should only need it if
           you modified \`acinclude.m4' or \`${configure_ac}'.  You might want
           to install the \`Automake' and \`Perl' packages.  Grab them from
           any GNU archive site."
--- 101,144 ----
      exit 1
      ;;
  
! esac
! 
! # Now exit if we have it, but it failed.  Also exit now if we
! # don't have it and --version was passed (most likely to detect
! # the program).
! case "$1" in
!   lex|yacc)
!     # Not GNU programs, they don't have --version.
!     ;;
! 
!   tar)
!     if test -n "$run"; then
!        echo 1>&2 "ERROR: \`tar' requires --run"
!        exit 1
!     elif test "x$2" = "x--version" || test "x$2" = "x--help"; then
!        exit 1
!     fi
!     ;;
! 
!   *)
      if test -z "$run" && ($1 --version) > /dev/null 2>&1; then
         # We have it, but it failed.
         exit 1
+     elif test "x$2" = "x--version" || test "x$2" = "x--help"; then
+        # Could not run --version or --help.  This is probably someone
+        # running `$TOOL --version' or `$TOOL --help' to check whether
+        # $TOOL exists and not knowing $TOOL uses missing.
+        exit 1
      fi
+     ;;
+ esac
  
+ # If it does not exist, or fails to run (possibly an outdated version),
+ # try to emulate it.
+ case "$1" in
+   aclocal*)
      echo 1>&2 "\
! WARNING: \`$1' is $msg.  You should only need it if
           you modified \`acinclude.m4' or \`${configure_ac}'.  You might want
           to install the \`Automake' and \`Perl' packages.  Grab them from
           any GNU archive site."
***************
*** 102,114 ****
      ;;
  
    autoconf)
-     if test -z "$run" && ($1 --version) > /dev/null 2>&1; then
-        # We have it, but it failed.
-        exit 1
-     fi
- 
      echo 1>&2 "\
! WARNING: \`$1' is missing on your system.  You should only need it if
           you modified \`${configure_ac}'.  You might want to install the
           \`Autoconf' and \`GNU m4' packages.  Grab them from any GNU
           archive site."
--- 146,153 ----
      ;;
  
    autoconf)
      echo 1>&2 "\
! WARNING: \`$1' is $msg.  You should only need it if
           you modified \`${configure_ac}'.  You might want to install the
           \`Autoconf' and \`GNU m4' packages.  Grab them from any GNU
           archive site."
***************
*** 116,128 ****
      ;;
  
    autoheader)
-     if test -z "$run" && ($1 --version) > /dev/null 2>&1; then
-        # We have it, but it failed.
-        exit 1
-     fi
- 
      echo 1>&2 "\
! WARNING: \`$1' is missing on your system.  You should only need it if
           you modified \`acconfig.h' or \`${configure_ac}'.  You might want
           to install the \`Autoconf' and \`GNU m4' packages.  Grab them
           from any GNU archive site."
--- 155,162 ----
      ;;
  
    autoheader)
      echo 1>&2 "\
! WARNING: \`$1' is $msg.  You should only need it if
           you modified \`acconfig.h' or \`${configure_ac}'.  You might want
           to install the \`Autoconf' and \`GNU m4' packages.  Grab them
           from any GNU archive site."
***************
*** 140,152 ****
      ;;
  
    automake*)
-     if test -z "$run" && ($1 --version) > /dev/null 2>&1; then
-        # We have it, but it failed.
-        exit 1
-     fi
- 
      echo 1>&2 "\
! WARNING: \`$1' is missing on your system.  You should only need it if
           you modified \`Makefile.am', \`acinclude.m4' or \`${configure_ac}'.
           You might want to install the \`Automake' and \`Perl' packages.
           Grab them from any GNU archive site."
--- 174,181 ----
      ;;
  
    automake*)
      echo 1>&2 "\
! WARNING: \`$1' is $msg.  You should only need it if
           you modified \`Makefile.am', \`acinclude.m4' or \`${configure_ac}'.
           You might want to install the \`Automake' and \`Perl' packages.
           Grab them from any GNU archive site."
***************
*** 156,171 ****
      ;;
  
    autom4te)
-     if test -z "$run" && ($1 --version) > /dev/null 2>&1; then
-        # We have it, but it failed.
-        exit 1
-     fi
- 
      echo 1>&2 "\
! WARNING: \`$1' is needed, and you do not seem to have it handy on your
!          system.  You might have modified some files without having the
           proper tools for further handling them.
!          You can get \`$1Help2man' as part of \`Autoconf' from any GNU
           archive site."
  
      file=`echo "$*" | sed -n 's/.*--output[ =]*\([^ ]*\).*/\1/p'`
--- 185,195 ----
      ;;
  
    autom4te)
      echo 1>&2 "\
! WARNING: \`$1' is needed, but is $msg.
!          You might have modified some files without having the
           proper tools for further handling them.
!          You can get \`$1' as part of \`Autoconf' from any GNU
           archive site."
  
      file=`echo "$*" | sed -n 's/.*--output[ =]*\([^ ]*\).*/\1/p'`
***************
*** 185,191 ****
  
    bison|yacc)
      echo 1>&2 "\
! WARNING: \`$1' is missing on your system.  You should only need it if
           you modified a \`.y' file.  You may need the \`Bison' package
           in order for those modifications to take effect.  You can get
           \`Bison' from any GNU archive site."
--- 209,215 ----
  
    bison|yacc)
      echo 1>&2 "\
! WARNING: \`$1' $msg.  You should only need it if
           you modified a \`.y' file.  You may need the \`Bison' package
           in order for those modifications to take effect.  You can get
           \`Bison' from any GNU archive site."
***************
*** 215,221 ****
  
    lex|flex)
      echo 1>&2 "\
! WARNING: \`$1' is missing on your system.  You should only need it if
           you modified a \`.l' file.  You may need the \`Flex' package
           in order for those modifications to take effect.  You can get
           \`Flex' from any GNU archive site."
--- 239,245 ----
  
    lex|flex)
      echo 1>&2 "\
! WARNING: \`$1' is $msg.  You should only need it if
           you modified a \`.l' file.  You may need the \`Flex' package
           in order for those modifications to take effect.  You can get
           \`Flex' from any GNU archive site."
***************
*** 237,249 ****
      ;;
  
    help2man)
-     if test -z "$run" && ($1 --version) > /dev/null 2>&1; then
-        # We have it, but it failed.
-        exit 1
-     fi
- 
      echo 1>&2 "\
! WARNING: \`$1' is missing on your system.  You should only need it if
  	 you modified a dependency of a manual page.  You may need the
  	 \`Help2man' package in order for those modifications to take
  	 effect.  You can get \`Help2man' from any GNU archive site."
--- 261,268 ----
      ;;
  
    help2man)
      echo 1>&2 "\
! WARNING: \`$1' is $msg.  You should only need it if
  	 you modified a dependency of a manual page.  You may need the
  	 \`Help2man' package in order for those modifications to take
  	 effect.  You can get \`Help2man' from any GNU archive site."
***************
*** 262,293 ****
      ;;
  
    makeinfo)
-     if test -z "$run" && (makeinfo --version) > /dev/null 2>&1; then
-        # We have makeinfo, but it failed.
-        exit 1
-     fi
- 
      echo 1>&2 "\
! WARNING: \`$1' is missing on your system.  You should only need it if
           you modified a \`.texi' or \`.texinfo' file, or any other file
           indirectly affecting the aspect of the manual.  The spurious
           call might also be the consequence of using a buggy \`make' (AIX,
           DU, IRIX).  You might want to install the \`Texinfo' package or
           the \`GNU make' package.  Grab either from any GNU archive site."
      file=`echo "$*" | sed -n 's/.*-o \([^ ]*\).*/\1/p'`
      if test -z "$file"; then
!       file=`echo "$*" | sed 's/.* \([^ ]*\) *$/\1/'`
!       file=`sed -n '/^@setfilename/ { s/.* \([^ ]*\) *$/\1/; p; q; }' $file`
!     fi
      touch $file
      ;;
  
    tar)
      shift
-     if test -n "$run"; then
-       echo 1>&2 "ERROR: \`tar' requires --run"
-       exit 1
-     fi
  
      # We have already tried tar in the generic part.
      # Look for gnutar/gtar before invocation to avoid ugly error
--- 281,310 ----
      ;;
  
    makeinfo)
      echo 1>&2 "\
! WARNING: \`$1' is $msg.  You should only need it if
           you modified a \`.texi' or \`.texinfo' file, or any other file
           indirectly affecting the aspect of the manual.  The spurious
           call might also be the consequence of using a buggy \`make' (AIX,
           DU, IRIX).  You might want to install the \`Texinfo' package or
           the \`GNU make' package.  Grab either from any GNU archive site."
+     # The file to touch is that specified with -o ...
      file=`echo "$*" | sed -n 's/.*-o \([^ ]*\).*/\1/p'`
      if test -z "$file"; then
!       # ... or it is the one specified with @setfilename ...
!       infile=`echo "$*" | sed 's/.* \([^ ]*\) *$/\1/'`
!       file=`sed -n '/^@setfilename/ { s/.* \([^ ]*\) *$/\1/; p; q; }' $infile`
!       # ... or it is derived from the source name (dir/f.texi becomes f.info)
!       test -z "$file" && file=`echo "$infile" | sed 's,.*/,,;s,.[^.]*$,,'`.info
!     fi
!     # If the file does not exist, the user really needs makeinfo;
!     # let's fail without touching anything.
!     test -f $file || exit 1
      touch $file
      ;;
  
    tar)
      shift
  
      # We have already tried tar in the generic part.
      # Look for gnutar/gtar before invocation to avoid ugly error
***************
*** 323,332 ****
  
    *)
      echo 1>&2 "\
! WARNING: \`$1' is needed, and you do not seem to have it handy on your
!          system.  You might have modified some files without having the
           proper tools for further handling them.  Check the \`README' file,
!          it often tells you about the needed prerequirements for installing
           this package.  You may also peek at any GNU archive site, in case
           some other package would contain this missing \`$1' program."
      exit 1
--- 340,349 ----
  
    *)
      echo 1>&2 "\
! WARNING: \`$1' is needed, and is $msg.
!          You might have modified some files without having the
           proper tools for further handling them.  Check the \`README' file,
!          it often tells you about the needed prerequisites for installing
           this package.  You may also peek at any GNU archive site, in case
           some other package would contain this missing \`$1' program."
      exit 1
***************
*** 334,336 ****
--- 351,360 ----
  esac
  
  exit 0
+ 
+ # Local variables:
+ # eval: (add-hook 'write-file-hooks 'time-stamp)
+ # time-stamp-start: "scriptversion="
+ # time-stamp-format: "%:y-%02m-%02d.%02H"
+ # time-stamp-end: "$"
+ # End:
